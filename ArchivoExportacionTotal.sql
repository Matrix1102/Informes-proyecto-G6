--------------------------------------------------------
-- Archivo creado  - sábado-diciembre-06-2025   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Type PERSONA_T
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SMART"."PERSONA_T" AS OBJECT (
    nombre      VARCHAR2(50),
    apellido    VARCHAR2(50),
    edad        NUMBER
)

/
--------------------------------------------------------
--  DDL for Type T_CALENDAR_DAY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SMART"."T_CALENDAR_DAY" AS OBJECT (
    CAL_DATE          DATE,
    IS_AVAILABLE    NUMBER(1), -- 1 para sí, 0 para no
    PRICE             NUMBER(12, 2),
    STATUS            VARCHAR2(20) -- 'reserved', 'blocked', 'special', 'default'
)

/
--------------------------------------------------------
--  DDL for Type T_CALENDAR_DAY_TABLE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SMART"."T_CALENDAR_DAY_TABLE" as table of T_CALENDAR_DAY

/
--------------------------------------------------------
--  DDL for Type T_PREFERENCE_INPUT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SMART"."T_PREFERENCE_INPUT" AS OBJECT (
    preference_code VARCHAR2(100),
    preference_value VARCHAR2(4000)
)

/
--------------------------------------------------------
--  DDL for Type T_PREFERENCE_TABLE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SMART"."T_PREFERENCE_TABLE" as table of T_PREFERENCE_INPUT

/
--------------------------------------------------------
--  DDL for Table AMENITIES
--------------------------------------------------------

  CREATE TABLE "SMART"."AMENITIES" 
   (	"AMENITY_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"CODE" VARCHAR2(50 BYTE), 
	"NAME" VARCHAR2(100 BYTE), 
	"DESCRIPTION" CLOB, 
	"DISPLAY_ORDER" NUMBER DEFAULT 0, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"AMENITY_CATEGORY_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table AMENITIES_CATEGORIES
--------------------------------------------------------

  CREATE TABLE "SMART"."AMENITIES_CATEGORIES" 
   (	"CATEGORY_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table AUDIT_LOGS
--------------------------------------------------------

  CREATE TABLE "SMART"."AUDIT_LOGS" 
   (	"LOG_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"TABLE_NAME" VARCHAR2(50 BYTE), 
	"OPERATION" VARCHAR2(10 BYTE), 
	"BOOKING_ID" NUMBER, 
	"OLD_STATUS" VARCHAR2(20 BYTE), 
	"NEW_STATUS" VARCHAR2(20 BYTE), 
	"CHANGED_BY" VARCHAR2(50 BYTE), 
	"CHANGED_AT" TIMESTAMP (6) DEFAULT SYSTIMESTAMP
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table AVAILABILITIES
--------------------------------------------------------

  CREATE TABLE "SMART"."AVAILABILITIES" 
   (	"AVAILABILITY_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PROPERTY_ID" NUMBER, 
	"START_DATE" DATE, 
	"END_DATE" DATE, 
	"KIND" VARCHAR2(30 BYTE), 
	"PRICE_PER_NIGHT" NUMBER(12,2), 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table BOOKINGS
--------------------------------------------------------

  CREATE TABLE "SMART"."BOOKINGS" 
   (	"BOOKING_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 142 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PROPERTY_ID" NUMBER, 
	"TENANT_ID" NUMBER, 
	"CHECKIN_DATE" DATE, 
	"CHECKOUT_DATE" DATE, 
	"GUEST_COUNT" NUMBER, 
	"CURRENCY_CODE" CHAR(3 BYTE), 
	"NIGHT_COUNT" NUMBER, 
	"PRICE_NIGHTS" NUMBER(12,2), 
	"CLEANING_FEE" NUMBER(12,2) DEFAULT 0, 
	"SERVICE_FEE" NUMBER(12,2) DEFAULT 0, 
	"TAXES" NUMBER(12,2) DEFAULT 0, 
	"TOTAL_AMOUNT" NUMBER(12,2), 
	"STATUS" VARCHAR2(20 BYTE) DEFAULT 'PENDING', 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"ACCEPTED_AT" DATE, 
	"DECLINED_AT" DATE, 
	"COMPLETED_AT" DATE, 
	"CHECKIN_CODE" VARCHAR2(50 BYTE), 
	"HOST_NOTE" CLOB, 
	"TENANT_NOTE" CLOB
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("HOST_NOTE") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("TENANT_NOTE") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table CONVERSATION_PARTICIPANTS
--------------------------------------------------------

  CREATE TABLE "SMART"."CONVERSATION_PARTICIPANTS" 
   (	"CONVERSATION_ID" NUMBER, 
	"USER_ID" NUMBER, 
	"ROLE" VARCHAR2(20 BYTE), 
	"JOINED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table CONVERSATIONS
--------------------------------------------------------

  CREATE TABLE "SMART"."CONVERSATIONS" 
   (	"CONVERSATION_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PROPERTY_ID" NUMBER, 
	"BOOKING_ID" NUMBER, 
	"STATUS" VARCHAR2(20 BYTE) DEFAULT 'open', 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"CLOSED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table CURRENCIES
--------------------------------------------------------

  CREATE TABLE "SMART"."CURRENCIES" 
   (	"CURRENCY_CODE" CHAR(3 BYTE), 
	"NAME" VARCHAR2(50 BYTE), 
	"EXPONENT" NUMBER DEFAULT 2, 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table FX_RATE_QUOTES
--------------------------------------------------------

  CREATE TABLE "SMART"."FX_RATE_QUOTES" 
   (	"FX_QUOTE_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"BASE_CURRENCY" CHAR(3 BYTE), 
	"QUOTE_CURRENCY" CHAR(3 BYTE), 
	"RATE_DECIMAL" NUMBER(20,10), 
	"SOURCE" VARCHAR2(50 BYTE), 
	"QUOTED_AT" DATE, 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table HOSTS
--------------------------------------------------------

  CREATE TABLE "SMART"."HOSTS" 
   (	"HOST_ID" NUMBER, 
	"DESCRIPTION" CLOB, 
	"IS_VERIFIED" NUMBER(1,0) DEFAULT 0, 
	"AVERAGE_RATING" NUMBER(3,2) DEFAULT 0, 
	"REVIEWS_COUNT" NUMBER DEFAULT 0, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table MESSAGES
--------------------------------------------------------

  CREATE TABLE "SMART"."MESSAGES" 
   (	"MESSAGE_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"CONVERSATION_ID" NUMBER, 
	"AUTHOR_USER_ID" NUMBER, 
	"CONTENT" CLOB, 
	"IS_READ" NUMBER(1,0) DEFAULT 0, 
	"SENT_AT" DATE DEFAULT SYSDATE, 
	"READ_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("CONTENT") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table PAYMENT_DETAILS
--------------------------------------------------------

  CREATE TABLE "SMART"."PAYMENT_DETAILS" 
   (	"DETAIL_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PAYMENT_ID" NUMBER, 
	"CURRENCY_CODE" CHAR(3 BYTE), 
	"TOTAL_GROSS" NUMBER(12,2), 
	"HOST_PAYOUT" NUMBER(12,2), 
	"PLATFORM_FEE" NUMBER(12,2), 
	"TAX_IGV" NUMBER(12,2), 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table PAYMENTS
--------------------------------------------------------

  CREATE TABLE "SMART"."PAYMENTS" 
   (	"PAYMENT_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"BOOKING_ID" NUMBER, 
	"PAYMENT_METHOD_ID" NUMBER, 
	"AMOUNT" NUMBER(12,2), 
	"CURRENCY_CODE" CHAR(3 BYTE), 
	"STATUS" VARCHAR2(20 BYTE) DEFAULT 'pending', 
	"DIRECTION" VARCHAR2(10 BYTE) DEFAULT 'charge', 
	"EXTERNAL_ID" VARCHAR2(150 BYTE), 
	"MESSAGE" VARCHAR2(255 BYTE), 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"PROCESSED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table PAYMENT_TYPES
--------------------------------------------------------

  CREATE TABLE "SMART"."PAYMENT_TYPES" 
   (	"PAYMENT_TYPE_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(50 BYTE), 
	"DESCRIPTION" CLOB, 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TS_SMART" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
--------------------------------------------------------
--  DDL for Table PREFERENCES
--------------------------------------------------------

  CREATE TABLE "SMART"."PREFERENCES" 
   (	"PREFERENCE_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 7 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"CODE" VARCHAR2(50 BYTE), 
	"NAME" VARCHAR2(100 BYTE), 
	"DESCRIPTION" CLOB, 
	"VALUE_TYPE" VARCHAR2(20 BYTE) DEFAULT 'text', 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table PROPERTIES
--------------------------------------------------------

  CREATE TABLE "SMART"."PROPERTIES" 
   (	"PROPERTY_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 44 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"HOST_ID" NUMBER, 
	"TITLE" VARCHAR2(150 BYTE), 
	"PROPERTY_TYPE" VARCHAR2(30 BYTE), 
	"BASE_PRICE_NIGHT" NUMBER(12,2), 
	"CURRENCY_CODE" CHAR(3 BYTE), 
	"ADDRESS_TEXT" VARCHAR2(255 BYTE), 
	"FORMATTED_ADDRESS" VARCHAR2(255 BYTE), 
	"CITY" VARCHAR2(255 BYTE), 
	"STATE_REGION" VARCHAR2(255 BYTE), 
	"COUNTRY" VARCHAR2(255 BYTE), 
	"POSTAL_CODE" VARCHAR2(255 BYTE), 
	"LATITUDE" NUMBER(9,6), 
	"LONGITUDE" NUMBER(9,6), 
	"STATUS" VARCHAR2(20 BYTE), 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"AVERAGE_RATING" NUMBER(3,2) DEFAULT 0, 
	"REVIEWS_COUNT" NUMBER DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table PROPERTY_AMENITIES
--------------------------------------------------------

  CREATE TABLE "SMART"."PROPERTY_AMENITIES" 
   (	"PROPERTY_ID" NUMBER, 
	"AMENITY_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table PROPERTY_DETAILS
--------------------------------------------------------

  CREATE TABLE "SMART"."PROPERTY_DETAILS" 
   (	"PROPERTY_ID" NUMBER, 
	"DESCRIPTION_LONG" CLOB, 
	"HOUSE_RULES" CLOB, 
	"CHECKIN_TIME" VARCHAR2(5 BYTE), 
	"CHECKOUT_TIME" VARCHAR2(5 BYTE), 
	"CAPACITY" NUMBER, 
	"BEDROOMS" NUMBER, 
	"BATHROOMS" NUMBER, 
	"BEDS" NUMBER, 
	"AREA_M2" NUMBER, 
	"FLOOR_NUMBER" NUMBER, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"UPDATED_AT" DATE, 
	"MAX_ADULTS" NUMBER, 
	"MAX_CHILDREN" NUMBER, 
	"MAX_BABY" NUMBER, 
	"MAX_PETS" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("DESCRIPTION_LONG") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("HOUSE_RULES") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table PROPERTY_IMAGES
--------------------------------------------------------

  CREATE TABLE "SMART"."PROPERTY_IMAGES" 
   (	"IMAGE_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 64 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"PROPERTY_ID" NUMBER, 
	"URL" VARCHAR2(500 BYTE), 
	"CAPTION" VARCHAR2(150 BYTE), 
	"SORT_ORDER" NUMBER DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table REVIEWS
--------------------------------------------------------

  CREATE TABLE "SMART"."REVIEWS" 
   (	"REVIEW_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"BOOKING_ID" NUMBER, 
	"PROPERTY_ID" NUMBER, 
	"AUTHOR_USER_ID" NUMBER, 
	"TARGET_USER_ID" NUMBER, 
	"FOR_HOST" NUMBER(1,0) DEFAULT 0, 
	"RATING" NUMBER, 
	"COMMENTS" CLOB, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"PUBLISHABLE_AT" DATE, 
	"PUBLISHED_AT" DATE, 
	"IS_PUBLISHED" NUMBER(1,0) DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("COMMENTS") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table TENANT_PREFERENCES
--------------------------------------------------------

  CREATE TABLE "SMART"."TENANT_PREFERENCES" 
   (	"TENANT_ID" NUMBER, 
	"PREFERENCE_ID" NUMBER, 
	"VALUE_TEXT" VARCHAR2(255 BYTE), 
	"VALUE_BOOL" NUMBER(1,0) DEFAULT 0, 
	"VALUE_INT" NUMBER, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table TENANTS
--------------------------------------------------------

  CREATE TABLE "SMART"."TENANTS" 
   (	"TENANT_ID" NUMBER, 
	"BIO" CLOB, 
	"AVERAGE_RATING" NUMBER(3,2) DEFAULT 0, 
	"REVIEWS_COUNT" NUMBER DEFAULT 0, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
 LOB ("BIO") STORE AS SECUREFILE (
  TABLESPACE "TS_SMART" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table USER_AUTH_IDENTITIES
--------------------------------------------------------

  CREATE TABLE "SMART"."USER_AUTH_IDENTITIES" 
   (	"IDENTITY_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 102 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USER_ID" NUMBER, 
	"PROVIDER" VARCHAR2(30 BYTE), 
	"PROVIDER_USER_ID" VARCHAR2(255 BYTE), 
	"EMAIL" VARCHAR2(255 BYTE), 
	"EMAIL_VERIFIED" NUMBER(1,0) DEFAULT 0, 
	"PASSWORD_HASH" VARCHAR2(255 BYTE), 
	"LAST_LOGIN_AT" DATE, 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table USER_PAYMENT_METHODS
--------------------------------------------------------

  CREATE TABLE "SMART"."USER_PAYMENT_METHODS" 
   (	"PAYMENT_METHOD_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USER_ID" NUMBER, 
	"PAYMENT_TYPE_ID" NUMBER, 
	"PROVIDER" VARCHAR2(50 BYTE), 
	"ACCOUNT_REF" VARCHAR2(100 BYTE), 
	"EXP_MONTH" NUMBER, 
	"EXP_YEAR" NUMBER, 
	"IS_DEFAULT" NUMBER(1,0) DEFAULT 0, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "SMART"."USERS" 
   (	"USER_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 142 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"FIRST_NAME" VARCHAR2(100 BYTE), 
	"LAST_NAME" VARCHAR2(100 BYTE), 
	"EMAIL" VARCHAR2(255 BYTE), 
	"DNI" VARCHAR2(9 BYTE), 
	"PHONE_NUMBER" VARCHAR2(30 BYTE), 
	"STATUS" VARCHAR2(20 BYTE), 
	"BLOCKED_UNTIL" DATE, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"BIRTH_DATE" DATE, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for View V_HOST_REVIEWS_DETAIL
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "SMART"."V_HOST_REVIEWS_DETAIL" ("HOST_ID", "REVIEW_ID", "BOOKING_ID", "REVIEWER_ID", "RATING", "COMMENTS", "CREATED_AT", "REVIEWER_FIRST_NAME", "REVIEWER_LAST_NAME", "REVIEWER_IMAGE", "PROPERTY_ID", "PROPERTY_TITLE", "CHECKIN_DATE", "CHECKOUT_DATE") AS 
  SELECT
    p.HOST_ID,
    r.REVIEW_ID,
    r.BOOKING_ID,
    r.AUTHOR_USER_ID AS REVIEWER_ID,
    r.RATING,
    r.COMMENTS AS COMMENTS,
    r.CREATED_AT,
    -- Información del reviewer (huésped)
    u.FIRST_NAME AS REVIEWER_FIRST_NAME,
    u.LAST_NAME AS REVIEWER_LAST_NAME,
    NULL AS REVIEWER_IMAGE,  -- USERS no tiene columna de imagen de perfil
    -- Información de la propiedad
    p.PROPERTY_ID,
    p.TITLE AS PROPERTY_TITLE,
    -- Información del booking
    b.CHECKIN_DATE,
    b.CHECKOUT_DATE
FROM REVIEWS r
INNER JOIN BOOKINGS b ON r.BOOKING_ID = b.BOOKING_ID
INNER JOIN PROPERTIES p ON b.PROPERTY_ID = p.PROPERTY_ID
INNER JOIN USERS u ON r.AUTHOR_USER_ID = u.USER_ID
WHERE r.FOR_HOST = 0          -- Reseñas sobre propiedades (no sobre huéspedes)
  AND r.IS_PUBLISHED = 1      -- Solo reseñas publicadas
  AND r.RATING > 0
;
--------------------------------------------------------
--  DDL for View V_HOST_REVIEW_STATS
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "SMART"."V_HOST_REVIEW_STATS" ("HOST_ID", "TOTAL_REVIEWS", "AVERAGE_RATING", "RATING_5_COUNT", "RATING_4_COUNT", "RATING_3_COUNT", "RATING_2_COUNT", "RATING_1_COUNT") AS 
  SELECT
  u.USER_ID AS HOST_ID,
  COUNT(r.REVIEW_ID) AS TOTAL_REVIEWS,
  ROUND(AVG(r.RATING), 1) AS AVERAGE_RATING,
  SUM(CASE WHEN r.RATING = 5 THEN 1 ELSE 0 END) AS RATING_5_COUNT,
  SUM(CASE WHEN r.RATING = 4 THEN 1 ELSE 0 END) AS RATING_4_COUNT,
  SUM(CASE WHEN r.RATING = 3 THEN 1 ELSE 0 END) AS RATING_3_COUNT,
  SUM(CASE WHEN r.RATING = 2 THEN 1 ELSE 0 END) AS RATING_2_COUNT,
  SUM(CASE WHEN r.RATING = 1 THEN 1 ELSE 0 END) AS RATING_1_COUNT
FROM USERS u
LEFT JOIN REVIEWS r ON u.USER_ID = r.TARGET_USER_ID
  AND r.FOR_HOST = 0           -- Solo reseñas donde el tenant opina
  AND r.IS_PUBLISHED = 1       -- Solo reseñas publicadas
  AND r.RATING > 0             -- Solo con rating real (no placeholder)
WHERE u.USER_ID IN (SELECT h.HOST_ID FROM HOSTS h)
GROUP BY u.USER_ID
;
REM INSERTING into SMART.AMENITIES
SET DEFINE OFF;
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (27,'AC','Aire acondicionado',null,to_date('01/11/25','DD/MM/RR'),1);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (28,'WIFI','Wifi',null,to_date('01/11/25','DD/MM/RR'),1);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (29,'TV','Televisor',null,to_date('01/11/25','DD/MM/RR'),1);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (30,'KITCHEN','Cocina',null,to_date('01/11/25','DD/MM/RR'),2);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (31,'GYM','Gimnasio',null,to_date('01/11/25','DD/MM/RR'),3);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (32,'POOL','Piscina',null,to_date('01/11/25','DD/MM/RR'),3);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (33,'WASHER','Lavadora',null,to_date('01/11/25','DD/MM/RR'),2);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (34,'DRYER','Secadora',null,to_date('01/11/25','DD/MM/RR'),2);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (35,'HEATING','Calefacción',null,to_date('01/11/25','DD/MM/RR'),1);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (36,'WORKSPACE','Zona de trabajo',null,to_date('01/11/25','DD/MM/RR'),1);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (37,'HAIR_DRYER','Secadora de pelo',null,to_date('01/11/25','DD/MM/RR'),2);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (38,'IRON','Plancha',null,to_date('01/11/25','DD/MM/RR'),2);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (39,'JACUZZI','Jacuzzi',null,to_date('01/11/25','DD/MM/RR'),3);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (40,'PARKING','Estacionamiento gratuito',null,to_date('01/11/25','DD/MM/RR'),8);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (41,'EV_CHARGER','Cargador para autos eléctricos',null,to_date('01/11/25','DD/MM/RR'),5);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (42,'CRIB','Cuna',null,to_date('01/11/25','DD/MM/RR'),6);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (43,'KING_BED','Cama King',null,to_date('01/11/25','DD/MM/RR'),1);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (44,'BBQ','Parrilla',null,to_date('01/11/25','DD/MM/RR'),3);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (45,'BREAKFAST','Desayuno',null,to_date('01/11/25','DD/MM/RR'),3);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (46,'FIREPLACE','Chimenea interior',null,to_date('01/11/25','DD/MM/RR'),3);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (47,'SMOKING','Apto para fumadores',null,to_date('01/11/25','DD/MM/RR'),7);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (48,'BEACHFRONT','Línea de playa',null,to_date('01/11/25','DD/MM/RR'),8);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (49,'COAST','Costa',null,to_date('01/11/25','DD/MM/RR'),8);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (50,'SKI_ACCESS','Acceso a pistas de esquí',null,to_date('01/11/25','DD/MM/RR'),8);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (51,'SMOKE_DETECTOR','Detector de humo',null,to_date('01/11/25','DD/MM/RR'),4);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (52,'CO_DETECTOR','Detector de monóxido de carbono',null,to_date('01/11/25','DD/MM/RR'),4);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (53,'PETS_ALLOWED','Se permiten mascotas',null,to_date('01/11/25','DD/MM/RR'),7);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (54,'SMOKING_ALLOWED','Se permite fumar',null,to_date('01/11/25','DD/MM/RR'),7);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (55,'PARTIES_ALLOWED','Se permiten fiestas',null,to_date('01/11/25','DD/MM/RR'),7);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (56,'FAMILY_FRIENDLY','Apto para niños',null,to_date('01/11/25','DD/MM/RR'),6);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (57,'BABY_FRIENDLY','Apto para bebés',null,to_date('01/11/25','DD/MM/RR'),6);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (58,'WHEELCHAIR_ACCESSIBLE','Acceso para silla de ruedas',null,to_date('01/11/25','DD/MM/RR'),5);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (59,'PARKING_AVAILABLE','Hay estacionamiento',null,to_date('01/11/25','DD/MM/RR'),8);
Insert into SMART.AMENITIES (AMENITY_ID,CODE,NAME,DISPLAY_ORDER,CREATED_AT,AMENITY_CATEGORY_ID) values (60,'QUIET_HOURS','Horario de silencio',null,to_date('01/11/25','DD/MM/RR'),7);
REM INSERTING into SMART.AMENITIES_CATEGORIES
SET DEFINE OFF;
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (1,'Comodidades del Alojamiento');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (2,'Servicios del Hogar');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (3,'Bienestar y Recreación');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (4,'Seguridad');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (5,'Accesibilidad');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (6,'Niños y Familias');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (7,'Políticas de Uso');
Insert into SMART.AMENITIES_CATEGORIES (CATEGORY_ID,NAME) values (8,'Ubicación y Entorno');
REM INSERTING into SMART.AUDIT_LOGS
SET DEFINE OFF;
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (20,'BOOKINGS','INSERT',168,null,'PENDING','SMART',to_timestamp('02/12/25 01:42:10.137021000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (21,'BOOKINGS','UPDATE',168,'PENDING','ACCEPTED','SMART',to_timestamp('02/12/25 01:42:57.426238000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (4,'BOOKINGS','UPDATE',143,'ACCEPTED','ACCEPTED','SMART',to_timestamp('30/11/25 20:55:25.679087000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (5,'BOOKINGS','UPDATE',143,'ACCEPTED','COMPLETED','SMART',to_timestamp('30/11/25 20:55:58.380143000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (6,'BOOKINGS','UPDATE',143,'COMPLETED','ACCEPTED','SMART',to_timestamp('30/11/25 20:59:03.536655000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (7,'BOOKINGS','UPDATE',143,'ACCEPTED','COMPLETED','SMART',to_timestamp('30/11/25 20:59:35.093842000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (8,'BOOKINGS','UPDATE',143,'COMPLETED','ACCEPTED','SMART',to_timestamp('30/11/25 21:12:22.761451000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (9,'BOOKINGS','UPDATE',143,'ACCEPTED','COMPLETED','SMART',to_timestamp('30/11/25 21:12:59.385513000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (11,'BOOKINGS','INSERT',163,null,'PENDING','SMART',to_timestamp('01/12/25 04:01:13.002482000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (15,'BOOKINGS','INSERT',166,null,'COMPLETED','SMART',to_timestamp('01/12/25 20:31:23.280710000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (16,'BOOKINGS','INSERT',167,null,'COMPLETED','SMART',to_timestamp('01/12/25 20:36:04.762869000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (17,'BOOKINGS','UPDATE',167,'COMPLETED','COMPLETED','SMART',to_timestamp('01/12/25 20:44:33.117244000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (18,'BOOKINGS','UPDATE',167,'COMPLETED','ACCEPTED','SMART',to_timestamp('01/12/25 20:45:08.921546000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (19,'BOOKINGS','UPDATE',167,'ACCEPTED','COMPLETED','SMART',to_timestamp('01/12/25 20:45:17.018860000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (13,'BOOKINGS','INSERT',165,null,'PENDING','SMART',to_timestamp('01/12/25 18:40:04.238307000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (14,'BOOKINGS','UPDATE',165,'PENDING','ACCEPTED','SMART',to_timestamp('01/12/25 18:40:43.878395000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (10,'BOOKINGS','INSERT',162,null,'PENDING','SMART',to_timestamp('01/12/25 02:47:53.257394000','DD/MM/RR HH24:MI:SSXFF'));
Insert into SMART.AUDIT_LOGS (LOG_ID,TABLE_NAME,OPERATION,BOOKING_ID,OLD_STATUS,NEW_STATUS,CHANGED_BY,CHANGED_AT) values (12,'BOOKINGS','INSERT',164,null,'PENDING','SMART',to_timestamp('01/12/25 18:18:51.136658000','DD/MM/RR HH24:MI:SSXFF'));
REM INSERTING into SMART.AVAILABILITIES
SET DEFINE OFF;
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (1,28,to_date('20/12/25','DD/MM/RR'),to_date('26/12/25','DD/MM/RR'),'BLOCKED',null,to_date('07/11/25','DD/MM/RR'));
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (2,29,to_date('01/01/26','DD/MM/RR'),to_date('07/01/26','DD/MM/RR'),'MAINTENANCE',null,to_date('07/11/25','DD/MM/RR'));
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (6,60,to_date('26/02/26','DD/MM/RR'),to_date('26/02/26','DD/MM/RR'),'blocked',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (8,60,to_date('27/02/26','DD/MM/RR'),to_date('28/02/26','DD/MM/RR'),'maintenance',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (7,60,to_date('25/02/26','DD/MM/RR'),to_date('26/02/26','DD/MM/RR'),'blocked',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (9,60,to_date('24/03/26','DD/MM/RR'),to_date('25/03/26','DD/MM/RR'),'blocked',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.AVAILABILITIES (AVAILABILITY_ID,PROPERTY_ID,START_DATE,END_DATE,KIND,PRICE_PER_NIGHT,CREATED_AT) values (13,60,to_date('14/11/25','DD/MM/RR'),to_date('15/11/25','DD/MM/RR'),'blocked',null,to_date('25/11/25','DD/MM/RR'));
REM INSERTING into SMART.BOOKINGS
SET DEFINE OFF;
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (1,28,1,to_date('20/09/25','DD/MM/RR'),to_date('23/09/25','DD/MM/RR'),2,'PEN',3,250,40,20,30,840,'COMPLETED',to_date('22/09/25','DD/MM/RR'),to_date('23/09/25','DD/MM/RR'),null,to_date('26/09/25','DD/MM/RR'),'CHK28A1');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (2,29,2,to_date('10/09/25','DD/MM/RR'),to_date('13/09/25','DD/MM/RR'),4,'PEN',3,180,35,15,25,635,'COMPLETED',to_date('12/09/25','DD/MM/RR'),to_date('13/09/25','DD/MM/RR'),null,to_date('16/09/25','DD/MM/RR'),'CHK29A2');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (3,30,3,to_date('25/09/25','DD/MM/RR'),to_date('28/09/25','DD/MM/RR'),2,'PEN',3,210,30,15,20,695,'COMPLETED',to_date('27/09/25','DD/MM/RR'),to_date('28/09/25','DD/MM/RR'),null,to_date('01/10/25','DD/MM/RR'),'CHK30A3');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (41,41,2,to_date('02/10/25','DD/MM/RR'),to_date('06/10/25','DD/MM/RR'),2,'PEN',4,280,50,25,40,1225,'COMPLETED',to_date('09/10/25','DD/MM/RR'),to_date('10/10/25','DD/MM/RR'),null,to_date('14/10/25','DD/MM/RR'),'CHK29A2');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (42,42,2,to_date('10/08/25','DD/MM/RR'),to_date('14/08/25','DD/MM/RR'),5,'PEN',4,350,60,30,50,1620,'COMPLETED',to_date('20/08/25','DD/MM/RR'),to_date('21/08/25','DD/MM/RR'),null,to_date('25/08/25','DD/MM/RR'),'CHK31A4');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (61,43,101,to_date('12/12/25','DD/MM/RR'),to_date('15/12/25','DD/MM/RR'),2,'PEN',3,190,30,15,25,650,'CANCELLED',to_date('22/09/25','DD/MM/RR'),to_date('09/11/25','DD/MM/RR'),null,to_date('26/09/25','DD/MM/RR'),'CHK34A7');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (62,42,101,to_date('09/11/25','DD/MM/RR'),to_date('12/11/25','DD/MM/RR'),2,'PEN',3,190,30,15,25,650,'ACCEPTED',to_date('22/09/25','DD/MM/RR'),to_date('09/11/25','DD/MM/RR'),null,to_date('26/09/25','DD/MM/RR'),'CHK34A7');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (63,41,101,to_date('10/11/25','DD/MM/RR'),to_date('13/11/25','DD/MM/RR'),2,'PEN',3,190,30,15,25,650,'DECLINED',to_date('22/09/25','DD/MM/RR'),to_date('23/09/25','DD/MM/RR'),to_date('09/11/25','DD/MM/RR'),to_date('26/09/25','DD/MM/RR'),'CHK34A7');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (65,43,101,to_date('10/11/25','DD/MM/RR'),to_date('13/11/25','DD/MM/RR'),2,'PEN',3,190,30,15,25,650,'ACCEPTED',to_date('22/09/25','DD/MM/RR'),to_date('09/11/25','DD/MM/RR'),null,to_date('26/09/25','DD/MM/RR'),'CHK34A7');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (43,43,2,to_date('12/09/25','DD/MM/RR'),to_date('15/09/25','DD/MM/RR'),2,'PEN',3,190,30,15,25,650,'COMPLETED',to_date('21/09/25','DD/MM/RR'),to_date('22/09/25','DD/MM/RR'),null,to_date('25/09/25','DD/MM/RR'),'CHK34A7');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (44,43,1,to_date('12/09/25','DD/MM/RR'),to_date('15/09/25','DD/MM/RR'),2,'PEN',3,190,30,15,25,650,'ACCEPTED',to_date('21/09/25','DD/MM/RR'),to_date('08/11/25','DD/MM/RR'),null,to_date('25/09/25','DD/MM/RR'),'CHK34A7');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (21,1,1,to_date('10/11/25','DD/MM/RR'),to_date('15/11/25','DD/MM/RR'),2,'PEN',5,1250,40,100,30,1420,'PENDING',to_date('07/11/25','DD/MM/RR'),null,to_date('16/11/25','DD/MM/RR'),null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (71,30,3,to_date('23/11/25','DD/MM/RR'),to_date('24/11/25','DD/MM/RR'),2,'PEN',1,300,0,42,0,342,'ACCEPTED',to_date('24/11/25','DD/MM/RR'),to_date('24/11/25','DD/MM/RR'),null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (146,28,145,to_date('27/12/25','DD/MM/RR'),to_date('28/12/25','DD/MM/RR'),1,'PEN',1,500,0,70,0,570,'DECLINED',to_date('25/11/25','DD/MM/RR'),null,to_date('25/11/25','DD/MM/RR'),null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (147,28,145,to_date('25/11/25','DD/MM/RR'),to_date('04/12/25','DD/MM/RR'),1,'PEN',9,4500,0,630,0,5130,'ACCEPTED',to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'),null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (168,47,69,to_date('04/12/25','DD/MM/RR'),to_date('07/12/25','DD/MM/RR'),1,'PEN',3,960,0,134,0,1094,'ACCEPTED',to_date('02/12/25','DD/MM/RR'),to_date('02/12/25','DD/MM/RR'),null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (144,58,145,to_date('24/12/25','DD/MM/RR'),to_date('27/12/25','DD/MM/RR'),1,'PEN',3,570,0,80,0,650,'ACCEPTED',to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'),null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (145,57,145,to_date('24/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'),1,'PEN',1,220,0,31,0,251,'PENDING',to_date('25/11/25','DD/MM/RR'),null,null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (163,54,3,to_date('03/12/25','DD/MM/RR'),to_date('05/12/25','DD/MM/RR'),1,'PEN',2,300,0,42,0,342,'PENDING',to_date('01/12/25','DD/MM/RR'),null,null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (166,41,2,to_date('10/01/23','DD/MM/RR'),to_date('15/01/23','DD/MM/RR'),5,'PEN',4,350,60,30,50,1620,'COMPLETED',to_date('12/09/25','DD/MM/RR'),to_date('13/09/25','DD/MM/RR'),null,to_date('17/09/25','DD/MM/RR'),'CHK31A4');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (167,41,101,to_date('16/01/23','DD/MM/RR'),to_date('18/01/23','DD/MM/RR'),5,'PEN',4,350,60,30,50,1620,'COMPLETED',to_date('12/09/25','DD/MM/RR'),to_date('13/09/25','DD/MM/RR'),null,to_date('17/09/25','DD/MM/RR'),'CHK31A4');
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (142,43,84,to_date('24/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'),1,'PEN',1,190,0,27,0,217,'COMPLETED',to_date('24/11/25','DD/MM/RR'),to_date('24/11/25','DD/MM/RR'),null,to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (143,28,81,to_date('02/12/25','DD/MM/RR'),to_date('05/12/25','DD/MM/RR'),1,'PEN',3,1500,0,210,0,1710,'COMPLETED',to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'),null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (165,28,101,to_date('02/12/25','DD/MM/RR'),to_date('03/12/25','DD/MM/RR'),1,'PEN',1,500,0,70,0,570,'ACCEPTED',to_date('01/12/25','DD/MM/RR'),to_date('01/12/25','DD/MM/RR'),null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (162,57,3,to_date('01/12/25','DD/MM/RR'),to_date('03/12/25','DD/MM/RR'),1,'PEN',2,440,0,62,0,502,'PENDING',to_date('01/12/25','DD/MM/RR'),null,null,null,null);
Insert into SMART.BOOKINGS (BOOKING_ID,PROPERTY_ID,TENANT_ID,CHECKIN_DATE,CHECKOUT_DATE,GUEST_COUNT,CURRENCY_CODE,NIGHT_COUNT,PRICE_NIGHTS,CLEANING_FEE,SERVICE_FEE,TAXES,TOTAL_AMOUNT,STATUS,CREATED_AT,ACCEPTED_AT,DECLINED_AT,COMPLETED_AT,CHECKIN_CODE) values (164,56,1,to_date('01/02/26','DD/MM/RR'),to_date('02/02/26','DD/MM/RR'),1,'PEN',1,450,0,63,0,513,'PENDING',to_date('01/12/25','DD/MM/RR'),null,null,null,null);
REM INSERTING into SMART.CONVERSATION_PARTICIPANTS
SET DEFINE OFF;
Insert into SMART.CONVERSATION_PARTICIPANTS (CONVERSATION_ID,USER_ID,ROLE,JOINED_AT) values (6,3,'guest',to_date('01/12/25','DD/MM/RR'));
Insert into SMART.CONVERSATION_PARTICIPANTS (CONVERSATION_ID,USER_ID,ROLE,JOINED_AT) values (6,2,'host',to_date('01/12/25','DD/MM/RR'));
Insert into SMART.CONVERSATION_PARTICIPANTS (CONVERSATION_ID,USER_ID,ROLE,JOINED_AT) values (7,101,'guest',to_date('01/12/25','DD/MM/RR'));
Insert into SMART.CONVERSATION_PARTICIPANTS (CONVERSATION_ID,USER_ID,ROLE,JOINED_AT) values (7,41,'host',to_date('01/12/25','DD/MM/RR'));
Insert into SMART.CONVERSATION_PARTICIPANTS (CONVERSATION_ID,USER_ID,ROLE,JOINED_AT) values (5,3,'guest',to_date('01/12/25','DD/MM/RR'));
Insert into SMART.CONVERSATION_PARTICIPANTS (CONVERSATION_ID,USER_ID,ROLE,JOINED_AT) values (5,41,'host',to_date('01/12/25','DD/MM/RR'));
REM INSERTING into SMART.CONVERSATIONS
SET DEFINE OFF;
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (1,30,null,'open',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (2,30,null,'open',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (6,54,null,'open',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (7,28,null,'open',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (3,30,null,'open',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (5,30,null,'open',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.CONVERSATIONS (CONVERSATION_ID,PROPERTY_ID,BOOKING_ID,STATUS,CREATED_AT,CLOSED_AT) values (4,30,null,'open',to_date('01/12/25','DD/MM/RR'),null);
REM INSERTING into SMART.CURRENCIES
SET DEFINE OFF;
Insert into SMART.CURRENCIES (CURRENCY_CODE,NAME,EXPONENT,CREATED_AT) values ('PEN','Sol Peruano',2,to_date('30/10/25','DD/MM/RR'));
REM INSERTING into SMART.FX_RATE_QUOTES
SET DEFINE OFF;
REM INSERTING into SMART.HOSTS
SET DEFINE OFF;
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (70,1,0,0,to_date('04/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (41,1,4,10,to_date('01/11/25','DD/MM/RR'),to_date('01/11/25','DD/MM/RR'));
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (1,1,0,0,to_date('04/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (2,1,0,0,to_date('24/10/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (3,1,0,0,to_date('27/10/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (81,1,0,0,to_date('15/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (141,1,0,0,to_date('16/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (101,1,0,0,to_date('23/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (4,1,0,0,to_date('23/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (144,0,0,0,to_date('24/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (146,1,0,0,to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (165,0,0,0,to_date('28/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (69,0,0,0,to_date('02/12/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (68,0,0,0,to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (145,1,0,0,to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (147,0,0,0,to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.HOSTS (HOST_ID,IS_VERIFIED,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (84,1,0,0,to_date('24/11/25','DD/MM/RR'),null);
REM INSERTING into SMART.MESSAGES
SET DEFINE OFF;
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (3,5,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (4,5,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (5,6,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (7,6,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (8,6,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (9,6,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (12,6,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (14,7,101,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (15,7,41,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (1,5,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (2,5,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (13,6,3,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (6,6,2,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (10,6,2,0,to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.MESSAGES (MESSAGE_ID,CONVERSATION_ID,AUTHOR_USER_ID,IS_READ,SENT_AT,READ_AT) values (11,6,2,0,to_date('01/12/25','DD/MM/RR'),null);
REM INSERTING into SMART.PAYMENT_DETAILS
SET DEFINE OFF;
REM INSERTING into SMART.PAYMENTS
SET DEFINE OFF;
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (3,71,null,342,'PEN','completed','charge',null,'Pago con tarjeta',to_date('24/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (25,146,null,570,'PEN','completed','charge',null,'Pago con tarjeta',to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (26,147,null,5130,'PEN','completed','charge',null,'Pago con tarjeta',to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (45,168,null,1094,'PEN','completed','charge',null,'Pago con tarjeta',to_date('02/12/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (23,144,null,650,'PEN','completed','charge',null,'Pago con tarjeta',to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (24,145,null,251,'PEN','completed','charge',null,'Pago con tarjeta',to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (42,163,null,342,'PEN','completed','charge',null,'Pago con tarjeta',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (21,142,null,217,'PEN','completed','charge',null,'Pago con tarjeta',to_date('24/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (22,143,null,1710,'PEN','completed','charge',null,'Pago con tarjeta',to_date('25/11/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (44,165,null,570,'PEN','completed','charge',null,'Pago con tarjeta',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (41,162,null,502,'PEN','completed','charge',null,'Pago con tarjeta',to_date('01/12/25','DD/MM/RR'),null);
Insert into SMART.PAYMENTS (PAYMENT_ID,BOOKING_ID,PAYMENT_METHOD_ID,AMOUNT,CURRENCY_CODE,STATUS,DIRECTION,EXTERNAL_ID,MESSAGE,CREATED_AT,PROCESSED_AT) values (43,164,null,513,'PEN','completed','charge',null,'Pago con tarjeta',to_date('01/12/25','DD/MM/RR'),null);
REM INSERTING into SMART.PAYMENT_TYPES
SET DEFINE OFF;
REM INSERTING into SMART.PREFERENCES
SET DEFINE OFF;
Insert into SMART.PREFERENCES (PREFERENCE_ID,CODE,NAME,VALUE_TYPE,CREATED_AT) values (1,'INTERESTS','Intereses','text',to_date('05/11/25','DD/MM/RR'));
Insert into SMART.PREFERENCES (PREFERENCE_ID,CODE,NAME,VALUE_TYPE,CREATED_AT) values (2,'PETS','Mascotas','text',to_date('05/11/25','DD/MM/RR'));
Insert into SMART.PREFERENCES (PREFERENCE_ID,CODE,NAME,VALUE_TYPE,CREATED_AT) values (3,'LOCATION','Dónde vivo','text',to_date('05/11/25','DD/MM/RR'));
Insert into SMART.PREFERENCES (PREFERENCE_ID,CODE,NAME,VALUE_TYPE,CREATED_AT) values (4,'WORK','Mi trabajo','text',to_date('05/11/25','DD/MM/RR'));
Insert into SMART.PREFERENCES (PREFERENCE_ID,CODE,NAME,VALUE_TYPE,CREATED_AT) values (5,'LANGUAGE','Idiomas que hablo','text',to_date('05/11/25','DD/MM/RR'));
Insert into SMART.PREFERENCES (PREFERENCE_ID,CODE,NAME,VALUE_TYPE,CREATED_AT) values (6,'SCHOOL','Dónde estudié','text',to_date('05/11/25','DD/MM/RR'));
REM INSERTING into SMART.PROPERTIES
SET DEFINE OFF;
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (28,41,'Departamento moderno en Miraflores','Departamento',500,'PEN','Av. Larco 1234, Miraflores','Av. Larco 1234, Miraflores, Lima, Perú','Lima','Lima','Perú','15074',-12.120134,-77.030243,'ACTIVE',to_date('01/11/25','DD/MM/RR'),5,1);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (29,41,'Casa colonial con patio en Cusco','Casa',180,'PEN','Calle Siete Cuartones 365, Centro Histórico','Calle Siete Cuartones 365, Cusco, Perú','Cuzco','Cusco','Perú','08002',-13.517088,-71.978535,'ACTIVE',to_date('01/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (30,41,'Loft minimalista con vista al Misti','Loft',300,'PEN','Av. Ejército 1020, Yanahuara','Av. Ejército 1020, Yanahuara, Arequipa, Perú','Arequipa','Arequipa','Perú','04017',-16.386672,-71.539507,'ACTIVE',to_date('01/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (41,41,'Departamento moderno cerca del Malecón','Apartment',280,'PEN','Calle José Gonzales 245, Miraflores','Calle José Gonzales 245, Miraflores, Lima, Perú','Lima','Lima','Perú','15074',-12.122441,-77.030582,'ACTIVE',to_date('08/11/25','DD/MM/RR'),4,1);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (42,2,'Casa familiar con jardín en Surco','House',350,'PEN','Calle Los Sauces 180, Santiago de Surco','Calle Los Sauces 180, Santiago de Surco, Lima, Perú','Lima','Lima','Perú','15039',-12.131001,-76.987251,'ACTIVE',to_date('08/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (1,81,'Departamento con vista al parque Kennedy','Departamento',251,'PEN','Av. Pardo y Aliaga 650','Av. Pardo y Aliaga 650, San Isidro, Lima, Perú','Lima','Lima','Perú','15073',-12.10351,-77.03533,'ACTIVE',to_date('31/10/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (43,2,'Departamento acogedor con vista al mar','Apartment',190,'PEN','Av. Brasil 3100, Magdalena del Mar','Av. Brasil 3100, Magdalena del Mar, Lima, Perú','Lima','Lima','Perú','15086',-12.095733,-77.069581,'ACTIVE',to_date('08/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (80,165,'Hermoso departamento en Miraflores','Departamento',150,'PEN','Av. Larco 1234','Av. Larco 1234, Lima, Lima, Peru','Lima','Lima','Peru','15074',-12.1211,-77.0282,'ACTIVE',to_date('01/12/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (81,165,'Apartamento de Lujo con Vistas','Departamento',150,'PEN','Av. Larco 1234','Av. Larco 1234, Lima, Lima, Peru','Lima','Lima','Peru','15074',-12.1211,-77.0282,'ACTIVE',to_date('01/12/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (82,165,'Apartamento frente a la muralla china','Departamento',150,'PEN','Av. Larco 1234','Av. Larco 1234, Lima, Lima, Peru','Lima','Lima','Peru','15074',-12.1211,-77.0282,'ACTIVE',to_date('01/12/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (59,81,'Casa colonial inca en el corazón de Cuzco','Casa',480,'PEN','Calle Hatun Rumiyoc 480, Centro Histórico','Calle Hatun Rumiyoc 480, Centro Histórico, Cuzco, Perú','Cuzco','Cuzco','Perú','08000',-13.51639,-71.97889,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (60,41,'Departamento bohemio en San Blas','Departamento',320,'PEN','Cuesta San Blas 620, San Blas','Cuesta San Blas 620, San Blas, Cuzco, Perú','Cuzco','Cuzco','Perú','08003',-13.51234,-71.97567,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (61,70,'Loft moderno cerca de la estación','Loft',280,'PEN','Av. De la Cultura 1250, Wanchaq','Av. De la Cultura 1250, Wanchaq, Cuzco, Perú','Cuzco','Cuzco','Perú','08006',-13.52456,-71.9689,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (62,1,'Casa campestre en el Valle Sagrado','Casa',550,'PEN','Camino a Yucay Km 2, Urubamba','Camino a Yucay Km 2, Urubamba, Cuzco, Perú','Cuzco','Cuzco','Perú','08660',-13.30678,-72.11123,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (44,1,'Estudio acogedor cerca de la playa','Estudio',180,'PEN','Av. La Marina 2355, San Miguel','Av. La Marina 2355, San Miguel, Lima, Perú','Lima','Lima','Perú','15088',-12.07745,-77.08923,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (46,2,'Penthouse de lujo con terraza privada','Penthouse',650,'PEN','Av. Javier Prado Este 4200, San Borja','Av. Javier Prado Este 4200, San Borja, Lima, Perú','Lima','Lima','Perú','15036',-12.09234,-76.99456,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (47,3,'Departamento familiar en zona residencial','Departamento',320,'PEN','Av. Primavera 1456, Santiago de Surco','Av. Primavera 1456, Santiago de Surco, Lima, Perú','Lima','Lima','Perú','15023',-12.13567,-76.98234,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (48,141,'Apartamento céntrico y tranquilo','Departamento',200,'PEN','Av. Brasil 2890, Jesús María','Av. Brasil 2890, Jesús María, Lima, Perú','Lima','Lima','Perú','15072',-12.07234,-77.04567,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (50,81,'Casa colonial con vista al Misti','Casa',420,'PEN','Calle Santa Catalina 210, Cercado','Calle Santa Catalina 210, Cercado, Arequipa, Perú','Arequipa','Arequipa','Perú','04001',-16.39889,-71.53694,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (51,41,'Departamento moderno con vista panorámica','Departamento',280,'PEN','Av. Ejército 850, Cayma','Av. Ejército 850, Cayma, Arequipa, Perú','Arequipa','Arequipa','Perú','04017',-16.37234,-71.54567,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (52,70,'Loft artístico en Yanahuara','Loft',350,'PEN','Calle Lima 456, Yanahuara','Calle Lima 456, Yanahuara, Arequipa, Perú','Arequipa','Arequipa','Perú','04013',-16.39456,-71.5489,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (53,1,'Casa campestre con jardines en Sabandía','Casa',500,'PEN','Camino a Sabandía Km 8','Camino a Sabandía Km 8, Arequipa, Perú','Arequipa','Arequipa','Perú','04019',-16.45678,-71.50123,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (54,2,'Estudio acogedor cerca de universidades','Estudio',150,'PEN','Av. Independencia 320, Vallecito','Av. Independencia 320, Vallecito, Arequipa, Perú','Arequipa','Arequipa','Perú','04007',-16.41234,-71.5289,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (55,3,'Departamento familiar en Selva Alegre','Departamento',300,'PEN','Av. Salaverry 1250, Selva Alegre','Av. Salaverry 1250, Selva Alegre, Arequipa, Perú','Arequipa','Arequipa','Perú','04003',-16.40567,-71.52345,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (56,146,'Casa de campo en Characato','Casa',450,'PEN','Camino Real s/n, Characato','Camino Real s/n, Characato, Arequipa, Perú','Arequipa','Arequipa','Perú','04014',-16.47123,-71.48567,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (57,146,'Apartamento moderno en zona comercial','Departamento',220,'PEN','Av. Dolores 450, José Luis Bustamante y Rivero','Av. Dolores 450, José Luis Bustamante y Rivero, Arequipa, Perú','Arequipa','Arequipa','Perú','04002',-16.42345,-71.53678,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (58,146,'Loft minimalista en zona norte','Loft',190,'PEN','Av. Aviación 2100, Cerro Colorado','Av. Aviación 2100, Cerro Colorado, Arequipa, Perú','Arequipa','Arequipa','Perú','04016',-16.36789,-71.56234,'active',to_date('25/11/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (83,165,'Apartamento en la punta del cerro','Departamento',150,'PEN','Av. Larco 1234','Av. Larco 1234, Lima, Lima, Peru','Lima','Lima','Peru','15074',-12.1211,-77.0282,'ACTIVE',to_date('01/12/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (84,165,'Apartamento en la punta del cerro 2','Departamento',150,'PEN','Av. Larco 1234','Av. Larco 1234, Lima, Lima, Peru','Lima','Lima','Peru','15074',-12.1211,-77.0282,'ACTIVE',to_date('01/12/25','DD/MM/RR'),0,0);
Insert into SMART.PROPERTIES (PROPERTY_ID,HOST_ID,TITLE,PROPERTY_TYPE,BASE_PRICE_NIGHT,CURRENCY_CODE,ADDRESS_TEXT,FORMATTED_ADDRESS,CITY,STATE_REGION,COUNTRY,POSTAL_CODE,LATITUDE,LONGITUDE,STATUS,CREATED_AT,AVERAGE_RATING,REVIEWS_COUNT) values (85,165,'Apartamento en la punta del cerro 3','Departamento',150,'PEN','Av. Larco 1234','Av. Larco 1234, Lima, Lima, Peru','Lima','Lima','Peru','15074',-12.1211,-77.0282,'ACTIVE',to_date('01/12/25','DD/MM/RR'),0,0);
REM INSERTING into SMART.PROPERTY_AMENITIES
SET DEFINE OFF;
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,30);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,32);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,33);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,35);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,36);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,40);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,43);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (28,53);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,30);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,33);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,35);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,36);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,37);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,40);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,45);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,46);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (29,54);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,30);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,35);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,36);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,40);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,43);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,49);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,51);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,56);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (30,57);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (80,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (80,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (80,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (81,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (81,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (81,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (82,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (82,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (82,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (83,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (83,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (83,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (84,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (84,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (84,29);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (85,27);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (85,28);
Insert into SMART.PROPERTY_AMENITIES (PROPERTY_ID,AMENITY_ID) values (85,29);
REM INSERTING into SMART.PROPERTY_DETAILS
SET DEFINE OFF;
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (28,'14:00','11:00',4,2,1,2,85,8,to_date('01/11/25','DD/MM/RR'),to_date('01/11/25','DD/MM/RR'),2,2,2,2);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (29,'13:00','10:00',6,3,2,4,120,1,to_date('01/11/25','DD/MM/RR'),to_date('01/11/25','DD/MM/RR'),3,3,3,3);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (30,'15:00','11:00',2,1,1,1,55,5,to_date('01/11/25','DD/MM/RR'),to_date('01/11/25','DD/MM/RR'),4,4,4,4);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (41,'15:00','11:00',3,1,1,1,65,5,to_date('08/11/25','DD/MM/RR'),to_date('08/11/25','DD/MM/RR'),null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (42,'14:00','11:00',6,3,2,4,160,1,to_date('08/11/25','DD/MM/RR'),to_date('08/11/25','DD/MM/RR'),null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (1,'14:00','11:00',1,1,1,1,30,2,to_date('31/10/25','DD/MM/RR'),null,1,1,1,1);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (43,'14:00','11:00',2,1,1,1,50,6,to_date('08/11/25','DD/MM/RR'),to_date('08/11/25','DD/MM/RR'),null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (80,'14:00','12:00',4,2,2,2,85.5,null,to_date('01/12/25','DD/MM/RR'),null,4,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (81,'14:00','12:00',4,2,2,2,85.5,null,to_date('01/12/25','DD/MM/RR'),null,4,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (82,'14:00','12:00',4,2,2,2,85.5,null,to_date('01/12/25','DD/MM/RR'),null,4,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (59,'14:00','11:00',6,3,2,4,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (60,'15:00','12:00',4,2,2,2,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (61,'14:00','11:00',3,1,1,2,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (62,'15:00','12:00',8,4,3,5,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (44,'13:00','11:00',2,1,1,1,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (46,'16:00','12:00',6,3,3,4,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (47,'14:00','11:00',5,2,2,3,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (48,'14:00','10:00',3,1,1,2,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (50,'14:00','11:00',6,3,2,4,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (51,'15:00','12:00',4,2,2,2,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (52,'14:00','11:00',3,1,1,2,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (53,'15:00','12:00',8,4,3,5,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (54,'13:00','11:00',2,1,1,1,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (55,'14:00','11:00',5,2,2,3,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (56,'15:00','12:00',7,3,2,4,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (57,'14:00','11:00',3,1,1,2,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (58,'13:00','11:00',2,1,1,1,null,null,to_date('25/11/25','DD/MM/RR'),null,null,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (83,'14:00','12:00',4,2,2,2,85.5,null,to_date('01/12/25','DD/MM/RR'),null,4,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (84,'14:00','12:00',4,2,2,2,85.5,null,to_date('01/12/25','DD/MM/RR'),null,4,null,null,null);
Insert into SMART.PROPERTY_DETAILS (PROPERTY_ID,CHECKIN_TIME,CHECKOUT_TIME,CAPACITY,BEDROOMS,BATHROOMS,BEDS,AREA_M2,FLOOR_NUMBER,CREATED_AT,UPDATED_AT,MAX_ADULTS,MAX_CHILDREN,MAX_BABY,MAX_PETS) values (85,'14:00','12:00',4,2,2,2,85.5,null,to_date('01/12/25','DD/MM/RR'),null,4,null,null,null);
REM INSERTING into SMART.PROPERTY_IMAGES
SET DEFINE OFF;
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (1,28,'https://d1m7bwa5z2c7c9.cloudfront.net/6YOWkcCaxTz_1280x720.jpeg','Vista principal del departamento moderno en Miraflores con vista al mar.',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (2,29,'https://img.trovit.com/eyJidWNrZXQiOiJwcmQtbGlmdWxsY29ubmVjdC1iYWNrZW5kLWIyYi1pbWFnZXMiLCJrZXkiOiJpbmdlc3Rlci8wMTk3YWRmNi00M2I2LTdkMTEtODk1MS00NmFhOGU0MjMzMTQvYTU3NDQzZjFjOTkxMTJmYmFjZmI2N2EwZTg4ODUxODBiMmQ2NWY2NTg1NTEwZjNjNGU4MDVjMDMyOTc3NmM5YS5qcGVnIiwiYnJhbmQiOiJ0cm92aXQiLCJlZGl0cyI6eyJyb3RhdGUiOm51bGwsInJlc2l6ZSI6eyJ3aWR0aCI6MzYwLCJoZWlnaHQiOjI3MCwiZml0IjoiY292ZXIifX19','Casa colonial con patio interior y fachada tradicional del centro de Cusco.',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (3,30,'https://pics.nuroa.com/alquiler_de_departamento_en_surquillo_amoblado_3_dormitorios_3260001754755685968.jpg','Loft minimalista con vista panorámica del volcán Misti en Arequipa.',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (21,1,'https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxNTQ1NjA1OTg2ODMwMzk3MQ==/original/4ca1d7de-94ef-4b75-8b8d-ab3196ef2b1a.jpeg?im_w=1440','Departamento luminoso junto al parque Kennedy',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (22,1,'https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTQxNTQ1NjA1OTg2ODMwMzk3MQ==/original/38f7dc9d-04b1-447a-a666-5e059ab6121b.jpeg?im_w=1440','Departamento luminoso junto al parque Kennedy',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (41,41,'https://images.trvl-media.com/lodging/50000000/49240000/49237100/49237075/8c5ddb83.jpg?impolicy=resizecrop&rw=575&rh=575&ra=fill','Luminoso departamento con cocina equipada, balcón con vista al mar y áreas comunes con piscina.',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (42,41,'https://cissacperu.com/wp-content/uploads/2024/02/Por-que-departamentos-en-surco-son-los-mas-requeridos-2-1024x576.webp','Casa amplia con jardín, tres dormitorios, estacionamiento y área de parrilla. Ideal para familias grandes.',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (43,42,'https://cissacperu.com/wp-content/uploads/2024/02/Por-que-departamentos-en-surco-son-los-mas-requeridos-2-1024x576.webp','Casa amplia con jardín, tres dormitorios, estacionamiento y área de parrilla. Ideal para familias grandes.',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (139,82,'https://storage.googleapis.com/smart-recintos/recintos/a6131d8b-64a3-4111-bf7b-3b6f4cf435fa.png','Foto 1',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (62,1,'https://storage.googleapis.com/smart-recintos/recintos/120a8018-adcb-49b1-935c-7637de528461.png',null,3);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (63,1,'https://storage.googleapis.com/smart-recintos/recintos/e59f4b39-2d79-4af7-aa71-0f00923b34d9.png','pruebaaaa',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (44,43,'https://i.ytimg.com/vi/JoxsGbeGwqM/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLCSsLecUOa-se9t66Ol9YwEiLHiFg','Departamento con vista lateral al mar, cocina americana y sala con TV. Ideal para escapadas cortas.',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (23,28,'https://a0.muscache.com/im/pictures/miso/Hosting-45639750/original/d60b4384-3c2a-4c11-874b-48243f2bcb43.jpeg?im_w=1440','Vista principal del departamento moderno en Miraflores con vista al mar.',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (136,80,'https://storage.googleapis.com/smart-recintos/recintos/ef39cfaa-53cf-4291-be50-01aaded34599.png','Captura desde 2025-11-12 10-25-46.png',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (137,81,'https://storage.googleapis.com/smart-recintos/recintos/f9589ccb-8e11-4442-89bf-92b229ab5949.png','Captura desde 2025-11-24 11-10-55.png',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (138,81,'https://storage.googleapis.com/smart-recintos/recintos/be19d0d1-dc7d-466a-bc01-994c096fe3a7.png','Captura desde 2025-11-27 16-09-58.png',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (140,82,'https://storage.googleapis.com/smart-recintos/recintos/744f8ee4-47dd-44b7-8694-c0c49c576cfc.png','Foto 2',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (88,59,'https://a0.muscache.com/im/pictures/hosting/Hosting-1342661670605294555/original/775c2135-3744-486d-8c88-634cd428390b.jpeg?im_w=1200','Fachada colonial sobre muros incas',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (89,59,'https://a0.muscache.com/im/pictures/miso/Hosting-53663639/original/a1b2c3d4-e5f6-7890-abcd-ef1234567890.jpeg?im_w=1440','Patio central con balcones coloniales',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (90,59,'https://a0.muscache.com/im/pictures/miso/Hosting-53663639/original/b2c3d4e5-f6g7-8901-bcde-fg2345678901.jpeg?im_w=1440','Vista a la Plaza de Armas',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (91,60,'https://a0.muscache.com/im/pictures/hosting/Hosting-1342661670605294555/original/775c2135-3744-486d-8c88-634cd428390b.jpeg?im_w=1200','Sala con vista panorámica de Cuzco',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (92,60,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-789123456/original/d4e5f6g7-h8i9-0123-defg-hi4567890123.jpeg?im_w=1440','Cocina moderna con detalles andinos',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (93,60,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-789123456/original/e5f6g7h8-i9j0-1234-efgh-ij5678901234.jpeg?im_w=1440','Balcón con vista a los tejados',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (94,61,'https://a0.muscache.com/im/pictures/hosting/Hosting-1438065162801037872/original/7d7364c6-eee0-44b7-8a75-db3c411c9df1.jpeg?im_w=1200','Loft de doble altura',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (95,61,'https://a0.muscache.com/im/pictures/miso/Hosting-456789123/original/g7h8i9j0-k1l2-3456-ghij-kl7890123456.jpeg?im_w=1440','Zona de estar moderna',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (96,62,'https://a0.muscache.com/im/pictures/miso/Hosting-780734848753805003/original/af5ef370-8811-43d9-a193-cc895ee21607.jpeg?im_w=1200','Casa en el Valle Sagrado',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (97,62,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-123456789/original/i9j0k1l2-m3n4-5678-ijkl-mn9012345678.jpeg?im_w=1440','Jardín con vista a las montañas',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (98,62,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-123456789/original/j0k1l2m3-n4o5-6789-jklm-no0123456789.jpeg?im_w=1440','Zona de fogata al aire libre',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (99,62,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-123456789/original/k1l2m3n4-o5p6-7890-klmn-op1234567890.jpeg?im_w=1440','Sala de estar con chimenea',3);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (64,50,'https://a0.muscache.com/im/pictures/hosting/Hosting-1505297029306926786/original/0ee50c17-4dbb-49a8-a8cb-2840a2f008e7.jpeg?im_w=1200','Fachada de sillar colonial',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (65,50,'https://a0.muscache.com/im/pictures/miso/Hosting-53663639/original/a1b2c3d4-e5f6-7890-abcd-ef1234567890.jpeg?im_w=1440','Patio interior con arcos de sillar',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (66,50,'https://a0.muscache.com/im/pictures/miso/Hosting-53663639/original/b2c3d4e5-f6g7-8901-bcde-fg2345678901.jpeg?im_w=1440','Vista al volcán Misti desde la terraza',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (67,51,'https://a0.muscache.com/im/pictures/hosting/Hosting-1267680781991149420/original/793519eb-2d08-4fcf-9445-1f4afdb57ff2.jpeg?im_w=960','Sala con vista panorámica',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (68,51,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-789123456/original/d4e5f6g7-h8i9-0123-defg-hi4567890123.jpeg?im_w=1440','Cocina moderna equipada',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (69,51,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-789123456/original/e5f6g7h8-i9j0-1234-efgh-ij5678901234.jpeg?im_w=1440','Balcón con vista a los volcanes',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (70,52,'https://a0.muscache.com/im/pictures/hosting/Hosting-1356051433868499128/original/0fd56ba5-394c-40c8-8f4c-ec3bfcf942b8.jpeg?im_w=960','Loft de doble altura',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (71,52,'https://a0.muscache.com/im/pictures/miso/Hosting-456789123/original/g7h8i9j0-k1l2-3456-ghij-kl7890123456.jpeg?im_w=1440','Zona de estar con decoración artística',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (72,53,'https://a0.muscache.com/im/pictures/hosting/Hosting-U3RheVN1cHBseUxpc3Rpbmc6MTI4NjYxNjA4NzM3NTEzODg4Mw%3D%3D/original/8cc4fdad-b5cb-4db6-9af4-804b0800de6c.jpeg?im_w=960','Casa campestre con jardín',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (73,53,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-123456789/original/i9j0k1l2-m3n4-5678-ijkl-mn9012345678.jpeg?im_w=1440','Piscina con vista a los volcanes',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (74,53,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-123456789/original/j0k1l2m3-n4o5-6789-jklm-no0123456789.jpeg?im_w=1440','Zona de parrilla al aire libre',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (75,53,'https://a0.muscache.com/im/pictures/prohost-api/Hosting-123456789/original/k1l2m3n4-o5p6-7890-klmn-op1234567890.jpeg?im_w=1440','Sala de estar amplia',3);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (76,54,'https://a0.muscache.com/im/pictures/hosting/Hosting-986980157933204430/original/8a661b88-095c-4a66-ac4e-dba2fa39fb4b.jpeg?im_w=1200','Estudio moderno y funcional',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (77,54,'https://a0.muscache.com/im/pictures/miso/Hosting-987654321/original/m3n4o5p6-q7r8-9012-mnop-qr3456789012.jpeg?im_w=1440','Zona de estudio con escritorio',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (78,55,'https://a0.muscache.com/im/pictures/hosting/Hosting-1554388540001774492/original/b1bec45f-0b28-4c2e-9818-3672eb7c139e.jpeg?im_w=960','Departamento amplio y luminoso',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (79,55,'https://a0.muscache.com/im/pictures/miso/Hosting-654321987/original/o5p6q7r8-s9t0-1234-opqr-st5678901234.jpeg?im_w=1440','Sala comedor familiar',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (80,55,'https://a0.muscache.com/im/pictures/miso/Hosting-654321987/original/p6q7r8s9-t0u1-2345-pqrs-tu6789012345.jpeg?im_w=1440','Dormitorio principal',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (81,56,'https://a0.muscache.com/im/pictures/hosting/Hosting-1346926695774586317/original/49bff5e6-4574-4499-9d59-4dec25a812be.jpeg?im_w=1200','Casa de campo en Characato',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (82,56,'https://a0.muscache.com/im/pictures/miso/Hosting-147258369/original/v2w3x4y5-z6a7-8901-vwxy-za2345678901.jpeg?im_w=1440','Jardín con huerto orgánico',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (83,56,'https://a0.muscache.com/im/pictures/miso/Hosting-147258369/original/w3x4y5z6-a7b8-9012-wxyz-ab3456789012.jpeg?im_w=1440','Vista de la campiña arequipeña',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (84,57,'https://a0.muscache.com/im/pictures/hosting/Hosting-1392026755390469396/original/18eba9af-5262-4614-a640-deb0d105faaa.jpeg?im_w=1200','Apartamento moderno',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (85,57,'https://a0.muscache.com/im/pictures/miso/Hosting-258369147/original/y5z6a7b8-c9d0-1234-yzab-cd5678901234.jpeg?im_w=1440','Sala de estar contemporánea',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (86,58,'https://a0.muscache.com/im/pictures/hosting/Hosting-1503775132083132427/original/0ee2657f-35ca-4f6a-a91a-cfa7ad826578.jpeg?im_w=1200','Loft minimalista',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (87,58,'https://a0.muscache.com/im/pictures/miso/Hosting-369147258/original/a7b8c9d0-e1f2-3456-abcd-ef7890123456.jpeg?im_w=1440','Espacio abierto y funcional',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (101,54,'https://a0.muscache.com/im/pictures/hosting/Hosting-1547204508756868802/original/efd89099-95e2-4c69-b7d3-a934c999b7ea.jpeg?im_w=1200','Estudio',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (102,48,'https://a0.muscache.com/im/pictures/miso/Hosting-1510988604101824341/original/0921106f-7d05-4e8e-8136-f423f4229067.jpeg?im_w=1200','Apartamento',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (106,44,'https://a0.muscache.com/im/pictures/hosting/Hosting-1452622714997109281/original/19f670db-7ea3-4628-8e76-a9e8279ae8b4.jpeg?im_w=1200','Departamento',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (104,47,'https://a0.muscache.com/im/pictures/hosting/Hosting-1389411083461826517/original/707866e2-f1dc-41b2-bb6e-964c0febf7b6.jpeg?im_w=1200','Departamento',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (105,46,'https://a0.muscache.com/im/pictures/hosting/Hosting-1532714522479292452/original/bbc32019-6896-4cb4-ae27-71b603d1cd27.jpeg?im_w=1200','Departamento',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (129,58,'https://storage.googleapis.com/smart-recintos/recintos/13bcc132-9e09-4a8a-bc85-a779a67d882a.png',null,2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (141,83,'https://storage.googleapis.com/smart-recintos/recintos/7d19c370-9b9d-4fc6-97a1-92f5220692bd.png','Foto 1',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (142,83,'https://storage.googleapis.com/smart-recintos/recintos/583d5d9c-8cf1-4431-b13d-1d2001844bde.png','Foto 2',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (143,83,'https://storage.googleapis.com/smart-recintos/recintos/cbf5b38a-1233-459f-8000-5ef4b953677d.png','Captura desde 2025-11-26 14-17-28.png',3);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (144,84,'https://storage.googleapis.com/smart-recintos/recintos/31da599d-336b-45a2-a035-995bafa69d88.png','Foto 1',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (145,84,'https://storage.googleapis.com/smart-recintos/recintos/943050b5-39a5-40a6-b4e0-8c4a0c5b020d.png','Foto 2',2);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (146,84,'https://storage.googleapis.com/smart-recintos/recintos/5ec723b9-1f37-46e9-8c2e-233e3fb5bdcc.png','Captura desde 2025-11-26 14-17-28.png',3);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (147,85,'https://storage.googleapis.com/smart-recintos/recintos/7b2642e1-07e5-4209-b083-fc30e50b648e.png','Foto 1',0);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (148,85,'https://storage.googleapis.com/smart-recintos/recintos/49507f82-5d27-4cd6-971c-d0b6e45ea5be.png','Foto 2',1);
Insert into SMART.PROPERTY_IMAGES (IMAGE_ID,PROPERTY_ID,URL,CAPTION,SORT_ORDER) values (149,85,'https://storage.googleapis.com/smart-recintos/recintos/f528537c-e926-4ce5-88c9-40b1061061f4.png','Captura desde 2025-11-26 14-17-28.png',2);
REM INSERTING into SMART.REVIEWS
SET DEFINE OFF;
Insert into SMART.REVIEWS (REVIEW_ID,BOOKING_ID,PROPERTY_ID,AUTHOR_USER_ID,TARGET_USER_ID,FOR_HOST,RATING,CREATED_AT,PUBLISHABLE_AT,PUBLISHED_AT,IS_PUBLISHED) values (27,167,41,101,41,0,4,to_date('01/12/25','DD/MM/RR'),null,to_date('01/12/25','DD/MM/RR'),1);
Insert into SMART.REVIEWS (REVIEW_ID,BOOKING_ID,PROPERTY_ID,AUTHOR_USER_ID,TARGET_USER_ID,FOR_HOST,RATING,CREATED_AT,PUBLISHABLE_AT,PUBLISHED_AT,IS_PUBLISHED) values (28,167,41,41,101,1,5,to_date('01/12/25','DD/MM/RR'),null,to_date('01/12/25','DD/MM/RR'),1);
Insert into SMART.REVIEWS (REVIEW_ID,BOOKING_ID,PROPERTY_ID,AUTHOR_USER_ID,TARGET_USER_ID,FOR_HOST,RATING,CREATED_AT,PUBLISHABLE_AT,PUBLISHED_AT,IS_PUBLISHED) values (25,143,28,81,41,0,5,to_date('30/11/25','DD/MM/RR'),null,to_date('30/11/25','DD/MM/RR'),1);
Insert into SMART.REVIEWS (REVIEW_ID,BOOKING_ID,PROPERTY_ID,AUTHOR_USER_ID,TARGET_USER_ID,FOR_HOST,RATING,CREATED_AT,PUBLISHABLE_AT,PUBLISHED_AT,IS_PUBLISHED) values (26,143,28,41,81,1,3,to_date('30/11/25','DD/MM/RR'),null,to_date('01/12/25','DD/MM/RR'),1);
REM INSERTING into SMART.TENANT_PREFERENCES
SET DEFINE OFF;
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (1,3,'Vivo en Lima, SMP',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (1,4,'No trabajo actualmente',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (1,5,'Hablo español e inglés',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (1,6,'Estudio en San Marcos',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (2,1,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (2,2,'Tengo una mascota que se llama Oreo',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (2,3,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (2,4,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (2,5,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (2,6,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (1,2,'Tengo un perro llamado Oreo',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (1,1,'Me gusta ver videos y escuchar música',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (70,1,'Me gusta taylor Swift',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (70,2,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (70,3,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (70,4,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (70,5,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (70,6,null,0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (101,1,'Futbol',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (101,2,'No cuento con mascotas',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (101,3,'Lima, Peru',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (101,4,'Software Enginner',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (101,5,'Español & English',0,null,null);
Insert into SMART.TENANT_PREFERENCES (TENANT_ID,PREFERENCE_ID,VALUE_TEXT,VALUE_BOOL,VALUE_INT,UPDATED_AT) values (101,6,'UNMSM',0,null,null);
REM INSERTING into SMART.TENANTS
SET DEFINE OFF;
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (41,0,0,to_date('01/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (70,0,0,to_date('04/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (84,0,0,to_date('07/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (68,0,0,to_date('04/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (69,0,0,to_date('04/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (101,5,1,to_date('09/11/25','DD/MM/RR'),to_date('02/12/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (121,0,0,to_date('14/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (2,null,0,to_date('24/10/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (1,0,0,to_date('24/10/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (3,null,0,to_date('24/10/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (81,3,1,to_date('07/11/25','DD/MM/RR'),to_date('02/12/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (141,0,0,to_date('16/11/25','DD/MM/RR'),null);
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (147,0,0,to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (165,0,0,to_date('28/11/25','DD/MM/RR'),to_date('28/11/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (4,0,0,to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (5,0,0,to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (144,0,0,to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (145,0,0,to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'));
Insert into SMART.TENANTS (TENANT_ID,AVERAGE_RATING,REVIEWS_COUNT,CREATED_AT,UPDATED_AT) values (146,0,0,to_date('25/11/25','DD/MM/RR'),to_date('25/11/25','DD/MM/RR'));
REM INSERTING into SMART.USER_AUTH_IDENTITIES
SET DEFINE OFF;
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (44,84,'credentials','andreml07zc@gmail.com','andreml07zc@gmail.com',1,'$2b$12$EECDZYxT/x69kV0Xbyoc.ugMCWO..l0SZsh0cpWO4Q7LXJS7XdH2K',null,to_date('07/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (23,70,'google','104008793996690810325','fabri101z101@gmail.com',1,null,to_date('04/11/25','DD/MM/RR'),to_date('04/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (22,69,'google','100840472357450379288','alejandro.padillaa00@gmail.com',1,null,to_date('02/12/25','DD/MM/RR'),to_date('04/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (21,68,'google','105271670482171564432','andre8melen4cav@gmail.com',1,null,to_date('25/11/25','DD/MM/RR'),to_date('04/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (61,101,'google','111737413894632549029','miguelgironaltamirano@gmail.com',1,null,to_date('01/12/25','DD/MM/RR'),to_date('09/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (81,121,'google','111370026527860848712','fmantari@gmail.com',1,null,to_date('14/11/25','DD/MM/RR'),to_date('14/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (7,2,'google','106321800302036578422','andre050719mc@gmail.com',1,null,to_date('01/12/25','DD/MM/RR'),to_date('24/10/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (41,81,'google','109762944633461024257','mathias.torres@unmsm.edu.pe',1,null,to_date('30/11/25','DD/MM/RR'),to_date('07/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (24,41,'google','102057832986106522211','miguel.girona@unmsm.edu.pe',1,null,to_date('01/12/25','DD/MM/RR'),to_date('05/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (3,3,'google','106579678700230561391','alejandro.padillaa@unmsm.edu.pe',1,null,to_date('24/11/25','DD/MM/RR'),to_date('24/10/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (101,141,'google','112409809250535520409','e.bayona@oea.edu.pe',1,null,to_date('16/11/25','DD/MM/RR'),to_date('16/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (5,1,'google','117991194155834599269','andre.melendezc@unmsm.edu.pe',1,null,to_date('01/12/25','DD/MM/RR'),to_date('24/10/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (104,146,'credentials','prueba2@gmail.com','prueba2@gmail.com',1,'$2b$12$pUCEdNAW8HF87bmoaTwE1eXFDv6NZAoIrHKQ8OoORGdA3XRqc7Pa6',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (105,147,'credentials','pedrito123@gmail.com','pedrito123@gmail.com',1,'$2b$12$QsiGd3dsuo6NZuXNzfIA5OKb2mFI7bCvQGvH/HXL6QsSYdYgIY7ze',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (123,165,'google','112593892494147485644','elizabeth.bayona@unmsm.edu.pe',1,null,to_date('29/11/25','DD/MM/RR'),to_date('28/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (102,144,'credentials','a2@gmail.com','a2@gmail.com',1,'$2b$12$cH/yGrRer/zUwAsyuYNhyOTiTxTc..9dROchiR22RWkWZuId.kkfu',null,to_date('24/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (103,145,'credentials','prueba@gmail.com','prueba@gmail.com',1,'$2b$12$T5f7CDMLVofr0BlZIm8UWuXzMCnpS57CyShUQtThV3hROWFGQ5NmS',null,to_date('25/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (1,4,'credentials','litanikole2004@gmail.com','litanikole2004@gmail.com',1,'$2b$12$jx2AxEa6w3nWVkLGbfrODOFfnv9lXS7YIHn1rUx9m6BrZ3T0hGKJ2',null,to_date('23/11/25','DD/MM/RR'));
Insert into SMART.USER_AUTH_IDENTITIES (IDENTITY_ID,USER_ID,PROVIDER,PROVIDER_USER_ID,EMAIL,EMAIL_VERIFIED,PASSWORD_HASH,LAST_LOGIN_AT,CREATED_AT) values (2,5,'google','115507485279270930562','miguel.giron.electronica@gmail.com',1,null,to_date('23/11/25','DD/MM/RR'),to_date('23/11/25','DD/MM/RR'));
REM INSERTING into SMART.USER_PAYMENT_METHODS
SET DEFINE OFF;
REM INSERTING into SMART.USERS
SET DEFINE OFF;
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (2,'André Ivan','Meléndez Cava','andre050719mc@gmail.com','72193729','997629981','active',null,to_date('24/10/25','DD/MM/RR'),to_date('19/07/05','DD/MM/RR'),null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (41,'MIGUEL ALEJANDRO','GIRON ALTAMIRANO','miguel.girona@unmsm.edu.pe','74935134','999280446','active',null,to_date('01/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (70,'Fabrizio',null,'fabri101z101@gmail.com',null,'977781726','active',null,to_date('04/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (84,'Ivan','Melendez Cava','andreml07zc@gmail.com',null,null,'active',null,to_date('07/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (68,'AndreMel',null,'andre8melen4cav@gmail.com',null,null,'active',null,to_date('04/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (69,'Alejandro','Padilla','alejandro.padillaa00@gmail.com',null,null,'active',null,to_date('04/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (101,'Miguel','Giron Altamirano','miguelgironaltamirano@gmail.com',null,null,'active',null,to_date('09/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (121,'fabrizio','Mantari','fmantari@gmail.com',null,null,'active',null,to_date('14/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (81,'MATHIAS','JAMES TORRES LEZAMA','mathias.torres@unmsm.edu.pe',null,null,'active',null,to_date('07/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (1,'ANDRE IVAN','MELENDEZ CAVA','andre.melendezc@unmsm.edu.pe',null,null,'active',null,to_date('24/10/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (3,'ALEJANDRO MANUEL','PADILLA ARELLANO','alejandro.padillaa@unmsm.edu.pe','76126506','910296033','active',null,to_date('24/10/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (141,'Elizabeth','Ashley Bayona Vera','e.bayona@oea.edu.pe',null,null,'active',null,to_date('16/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (146,'Miguel','Girón','prueba2@gmail.com',null,null,null,null,to_date('25/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (147,'Pedro','Nazareth','pedrito123@gmail.com',null,null,null,null,to_date('25/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (165,'ELIZABETH','ASHLEY BAYONA VERA','elizabeth.bayona@unmsm.edu.pe',null,null,'active',null,to_date('28/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (144,'Prueba','pruebaa','a2@gmail.com',null,null,null,null,to_date('24/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (145,'Andre','Melendez','prueba@gmail.com',null,null,null,null,to_date('25/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (4,'Paneton','Sin Frutas','litanikole2004@gmail.com','72443755','967572673',null,null,to_date('23/11/25','DD/MM/RR'),null,null);
Insert into SMART.USERS (USER_ID,FIRST_NAME,LAST_NAME,EMAIL,DNI,PHONE_NUMBER,STATUS,BLOCKED_UNTIL,CREATED_AT,BIRTH_DATE,UPDATED_AT) values (5,'Miguel','Giron','miguel.giron.electronica@gmail.com',null,null,'active',null,to_date('23/11/25','DD/MM/RR'),null,null);
REM INSERTING into SMART.V_HOST_REVIEWS_DETAIL
SET DEFINE OFF;
Insert into SMART.V_HOST_REVIEWS_DETAIL (HOST_ID,REVIEW_ID,BOOKING_ID,REVIEWER_ID,RATING,CREATED_AT,REVIEWER_FIRST_NAME,REVIEWER_LAST_NAME,REVIEWER_IMAGE,PROPERTY_ID,PROPERTY_TITLE,CHECKIN_DATE,CHECKOUT_DATE) values (41,27,167,101,4,to_date('01/12/25','DD/MM/RR'),'Miguel','Giron Altamirano',null,41,'Departamento moderno cerca del Malecón',to_date('16/01/23','DD/MM/RR'),to_date('18/01/23','DD/MM/RR'));
Insert into SMART.V_HOST_REVIEWS_DETAIL (HOST_ID,REVIEW_ID,BOOKING_ID,REVIEWER_ID,RATING,CREATED_AT,REVIEWER_FIRST_NAME,REVIEWER_LAST_NAME,REVIEWER_IMAGE,PROPERTY_ID,PROPERTY_TITLE,CHECKIN_DATE,CHECKOUT_DATE) values (41,25,143,81,5,to_date('30/11/25','DD/MM/RR'),'MATHIAS','JAMES TORRES LEZAMA',null,28,'Departamento moderno en Miraflores',to_date('02/12/25','DD/MM/RR'),to_date('05/12/25','DD/MM/RR'));
REM INSERTING into SMART.V_HOST_REVIEW_STATS
SET DEFINE OFF;
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (1,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (2,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (3,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (4,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (41,2,4.5,1,1,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (68,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (69,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (70,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (81,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (84,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (101,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (141,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (144,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (145,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (146,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (147,0,null,0,0,0,0,0);
Insert into SMART.V_HOST_REVIEW_STATS (HOST_ID,TOTAL_REVIEWS,AVERAGE_RATING,RATING_5_COUNT,RATING_4_COUNT,RATING_3_COUNT,RATING_2_COUNT,RATING_1_COUNT) values (165,0,null,0,0,0,0,0);
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_AVAILABILITY
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_AVAILABILITY" ON "SMART"."BOOKINGS" ("PROPERTY_ID", "CHECKIN_DATE", "CHECKOUT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_OVERLAP
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_OVERLAP" ON "SMART"."BOOKINGS" ("PROPERTY_ID", "CHECKOUT_DATE", "CHECKIN_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_PROP_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_PROP_ID" ON "SMART"."BOOKINGS" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_TENANT_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_TENANT_ID" ON "SMART"."BOOKINGS" ("TENANT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_IMG_MAIN_COVERING
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_IMG_MAIN_COVERING" ON "SMART"."PROPERTY_IMAGES" ("PROPERTY_ID", "SORT_ORDER", "URL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_MESSAGES_CONV_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_MESSAGES_CONV_ID" ON "SMART"."MESSAGES" ("CONVERSATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_PROPERTIES_CITY
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROPERTIES_CITY" ON "SMART"."PROPERTIES" ("CITY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_PROPERTIES_PRICE
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROPERTIES_PRICE" ON "SMART"."PROPERTIES" ("BASE_PRICE_NIGHT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_PROP_GEO
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROP_GEO" ON "SMART"."PROPERTIES" ("LATITUDE", "LONGITUDE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_PROP_REGION_PRICE
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROP_REGION_PRICE" ON "SMART"."PROPERTIES" ("STATE_REGION", "BASE_PRICE_NIGHT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_AUTHOR
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_AUTHOR" ON "SMART"."REVIEWS" ("AUTHOR_USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_BOOKING
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_BOOKING" ON "SMART"."REVIEWS" ("BOOKING_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_FOR_HOST
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_FOR_HOST" ON "SMART"."REVIEWS" ("FOR_HOST") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_PUBLISHED
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_PUBLISHED" ON "SMART"."REVIEWS" ("IS_PUBLISHED", "AUTHOR_USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEWS_PROP_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEWS_PROP_ID" ON "SMART"."REVIEWS" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_TARGET
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_TARGET" ON "SMART"."REVIEWS" ("TARGET_USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index PK_AMEN_CATEGORIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_AMEN_CATEGORIES" ON "SMART"."AMENITIES_CATEGORIES" ("CATEGORY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_AMENITIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_AMENITIES" ON "SMART"."AMENITIES" ("CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_AVAILABILITIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_AVAILABILITIES" ON "SMART"."AVAILABILITIES" ("AVAILABILITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_BOOKINGS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_BOOKINGS" ON "SMART"."BOOKINGS" ("BOOKING_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_CONVERSATION_PARTICIPANTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_CONVERSATION_PARTICIPANTS" ON "SMART"."CONVERSATION_PARTICIPANTS" ("CONVERSATION_ID", "USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_CONVERSATIONS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_CONVERSATIONS" ON "SMART"."CONVERSATIONS" ("CONVERSATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_CURRENCIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_CURRENCIES" ON "SMART"."CURRENCIES" ("CURRENCY_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_FX_RATES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_FX_RATES" ON "SMART"."FX_RATE_QUOTES" ("FX_QUOTE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_HOSTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_HOSTS" ON "SMART"."HOSTS" ("HOST_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_MESSAGES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_MESSAGES" ON "SMART"."MESSAGES" ("MESSAGE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PAYMENT_DETAILS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PAYMENT_DETAILS" ON "SMART"."PAYMENT_DETAILS" ("DETAIL_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PAYMENTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PAYMENTS" ON "SMART"."PAYMENTS" ("PAYMENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PAYMENT_TYPES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PAYMENT_TYPES" ON "SMART"."PAYMENT_TYPES" ("PAYMENT_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PREFERENCES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PREFERENCES" ON "SMART"."PREFERENCES" ("CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PROP_AMENITIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROP_AMENITIES" ON "SMART"."PROPERTY_AMENITIES" ("PROPERTY_ID", "AMENITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PROP_DETAILS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROP_DETAILS" ON "SMART"."PROPERTY_DETAILS" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PROPERTIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROPERTIES" ON "SMART"."PROPERTIES" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PROPERTY_IMAGES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROPERTY_IMAGES" ON "SMART"."PROPERTY_IMAGES" ("IMAGE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_REVIEWS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_REVIEWS" ON "SMART"."REVIEWS" ("REVIEW_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_TENANT_PREFS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_TENANT_PREFS" ON "SMART"."TENANT_PREFERENCES" ("TENANT_ID", "PREFERENCE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_TENANTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_TENANTS" ON "SMART"."TENANTS" ("TENANT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_USER_AUTH_ID
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_USER_AUTH_ID" ON "SMART"."USER_AUTH_IDENTITIES" ("IDENTITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_USER_PAY_METHODS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_USER_PAY_METHODS" ON "SMART"."USER_PAYMENT_METHODS" ("PAYMENT_METHOD_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_USERS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_USERS" ON "SMART"."USERS" ("EMAIL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index SYS_C008390
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_C008390" ON "SMART"."AUDIT_LOGS" ("LOG_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075827C00002$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075827C00002$$" ON "SMART"."TENANTS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075831C00002$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075831C00002$$" ON "SMART"."HOSTS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075835C00004$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075835C00004$$" ON "SMART"."PREFERENCES" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075843C00004$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075843C00004$$" ON "SMART"."AMENITIES" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075849C00003$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075849C00003$$" ON "SMART"."PAYMENT_TYPES" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE( INITIAL 65536 NEXT 1048576 MAXEXTENTS 2147483645
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075863C00002$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075863C00002$$" ON "SMART"."PROPERTY_DETAILS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075863C00003$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075863C00003$$" ON "SMART"."PROPERTY_DETAILS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075877C00020$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075877C00020$$" ON "SMART"."BOOKINGS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075877C00021$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075877C00021$$" ON "SMART"."BOOKINGS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075890C00008$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075890C00008$$" ON "SMART"."REVIEWS" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index SYS_IL0000075900C00004$$
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_IL0000075900C00004$$" ON "SMART"."MESSAGES" (
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" 
  PARALLEL (DEGREE 0 INSTANCES 0) ;
--------------------------------------------------------
--  DDL for Index UQ_AMENITIES_NAME
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_AMENITIES_NAME" ON "SMART"."AMENITIES" ("AMENITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_PAYMENT_TYPES_NAME
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_PAYMENT_TYPES_NAME" ON "SMART"."PAYMENT_TYPES" ("NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_PREFERENCES_KEY
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_PREFERENCES_KEY" ON "SMART"."PREFERENCES" ("PREFERENCE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_PROPERTY_IMAGES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_PROPERTY_IMAGES" ON "SMART"."PROPERTY_IMAGES" ("PROPERTY_ID", "SORT_ORDER") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_USERS_EMAIL
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_USERS_EMAIL" ON "SMART"."USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_AMENITIES_NAME
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_AMENITIES_NAME" ON "SMART"."AMENITIES" ("AMENITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_AMENITIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_AMENITIES" ON "SMART"."AMENITIES" ("CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_AMEN_CATEGORIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_AMEN_CATEGORIES" ON "SMART"."AMENITIES_CATEGORIES" ("CATEGORY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index SYS_C008390
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."SYS_C008390" ON "SMART"."AUDIT_LOGS" ("LOG_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index PK_AVAILABILITIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_AVAILABILITIES" ON "SMART"."AVAILABILITIES" ("AVAILABILITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_PROP_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_PROP_ID" ON "SMART"."BOOKINGS" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_TENANT_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_TENANT_ID" ON "SMART"."BOOKINGS" ("TENANT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_AVAILABILITY
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_AVAILABILITY" ON "SMART"."BOOKINGS" ("PROPERTY_ID", "CHECKIN_DATE", "CHECKOUT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_BOOKINGS_OVERLAP
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_BOOKINGS_OVERLAP" ON "SMART"."BOOKINGS" ("PROPERTY_ID", "CHECKOUT_DATE", "CHECKIN_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index PK_BOOKINGS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_BOOKINGS" ON "SMART"."BOOKINGS" ("BOOKING_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_CONVERSATION_PARTICIPANTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_CONVERSATION_PARTICIPANTS" ON "SMART"."CONVERSATION_PARTICIPANTS" ("CONVERSATION_ID", "USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_CONVERSATIONS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_CONVERSATIONS" ON "SMART"."CONVERSATIONS" ("CONVERSATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_CURRENCIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_CURRENCIES" ON "SMART"."CURRENCIES" ("CURRENCY_CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_FX_RATES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_FX_RATES" ON "SMART"."FX_RATE_QUOTES" ("FX_QUOTE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_HOSTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_HOSTS" ON "SMART"."HOSTS" ("HOST_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_MESSAGES_CONV_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_MESSAGES_CONV_ID" ON "SMART"."MESSAGES" ("CONVERSATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_MESSAGES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_MESSAGES" ON "SMART"."MESSAGES" ("MESSAGE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PAYMENT_DETAILS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PAYMENT_DETAILS" ON "SMART"."PAYMENT_DETAILS" ("DETAIL_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PAYMENTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PAYMENTS" ON "SMART"."PAYMENTS" ("PAYMENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PAYMENT_TYPES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PAYMENT_TYPES" ON "SMART"."PAYMENT_TYPES" ("PAYMENT_TYPE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_PAYMENT_TYPES_NAME
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_PAYMENT_TYPES_NAME" ON "SMART"."PAYMENT_TYPES" ("NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_PREFERENCES_KEY
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_PREFERENCES_KEY" ON "SMART"."PREFERENCES" ("PREFERENCE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PREFERENCES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PREFERENCES" ON "SMART"."PREFERENCES" ("CODE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_PROPERTIES_PRICE
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROPERTIES_PRICE" ON "SMART"."PROPERTIES" ("BASE_PRICE_NIGHT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_PROPERTIES_CITY
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROPERTIES_CITY" ON "SMART"."PROPERTIES" ("CITY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_PROP_GEO
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROP_GEO" ON "SMART"."PROPERTIES" ("LATITUDE", "LONGITUDE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_PROP_REGION_PRICE
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_PROP_REGION_PRICE" ON "SMART"."PROPERTIES" ("STATE_REGION", "BASE_PRICE_NIGHT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index PK_PROPERTIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROPERTIES" ON "SMART"."PROPERTIES" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PROP_AMENITIES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROP_AMENITIES" ON "SMART"."PROPERTY_AMENITIES" ("PROPERTY_ID", "AMENITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_PROP_DETAILS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROP_DETAILS" ON "SMART"."PROPERTY_DETAILS" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_PROPERTY_IMAGES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_PROPERTY_IMAGES" ON "SMART"."PROPERTY_IMAGES" ("PROPERTY_ID", "SORT_ORDER") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_IMG_MAIN_COVERING
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_IMG_MAIN_COVERING" ON "SMART"."PROPERTY_IMAGES" ("PROPERTY_ID", "SORT_ORDER", "URL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index PK_PROPERTY_IMAGES
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_PROPERTY_IMAGES" ON "SMART"."PROPERTY_IMAGES" ("IMAGE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEWS_PROP_ID
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEWS_PROP_ID" ON "SMART"."REVIEWS" ("PROPERTY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_AUTHOR
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_AUTHOR" ON "SMART"."REVIEWS" ("AUTHOR_USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_BOOKING
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_BOOKING" ON "SMART"."REVIEWS" ("BOOKING_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_TARGET
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_TARGET" ON "SMART"."REVIEWS" ("TARGET_USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_FOR_HOST
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_FOR_HOST" ON "SMART"."REVIEWS" ("FOR_HOST") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index IDX_REVIEW_PUBLISHED
--------------------------------------------------------

  CREATE INDEX "SMART"."IDX_REVIEW_PUBLISHED" ON "SMART"."REVIEWS" ("IS_PUBLISHED", "AUTHOR_USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART" ;
--------------------------------------------------------
--  DDL for Index PK_REVIEWS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_REVIEWS" ON "SMART"."REVIEWS" ("REVIEW_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_TENANT_PREFS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_TENANT_PREFS" ON "SMART"."TENANT_PREFERENCES" ("TENANT_ID", "PREFERENCE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_TENANTS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_TENANTS" ON "SMART"."TENANTS" ("TENANT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_USER_AUTH_ID
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_USER_AUTH_ID" ON "SMART"."USER_AUTH_IDENTITIES" ("IDENTITY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_USER_PAY_METHODS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_USER_PAY_METHODS" ON "SMART"."USER_PAYMENT_METHODS" ("PAYMENT_METHOD_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index PK_USERS
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."PK_USERS" ON "SMART"."USERS" ("EMAIL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Index UQ_USERS_EMAIL
--------------------------------------------------------

  CREATE UNIQUE INDEX "SMART"."UQ_USERS_EMAIL" ON "SMART"."USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX" ;
--------------------------------------------------------
--  DDL for Trigger TRG_AUDIT_BOOKINGS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_AUDIT_BOOKINGS" 
-- 1. Agregamos "OR INSERT" aquí
AFTER INSERT OR UPDATE OR DELETE ON BOOKINGS
FOR EACH ROW
BEGIN
    -- Caso 1: Nueva Reserva
    IF INSERTING THEN
        INSERT INTO AUDIT_LOGS (table_name, operation, booking_id, new_status, changed_by)
        VALUES ('BOOKINGS', 'INSERT', :NEW.BOOKING_ID, :NEW.status, USER);

    -- Caso 2: Modificación (Cambio de estado/fechas)
    ELSIF UPDATING THEN
        INSERT INTO AUDIT_LOGS (table_name, operation, booking_id, old_status, new_status, changed_by)
        VALUES ('BOOKINGS', 'UPDATE', :OLD.BOOKING_ID, :OLD.status, :NEW.status, USER);

    -- Caso 3: Cancelación definitiva
    ELSIF DELETING THEN
        INSERT INTO AUDIT_LOGS (table_name, operation, booking_id, old_status, changed_by)
        VALUES ('BOOKINGS', 'DELETE', :OLD.BOOKING_ID, :OLD.status, USER);
    END IF;
END;
/
ALTER TRIGGER "SMART"."TRG_AUDIT_BOOKINGS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_AUTO_CREATE_TENANT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_AUTO_CREATE_TENANT" 
AFTER INSERT ON USERS
FOR EACH ROW
BEGIN
    -- Inserta el nuevo ID de usuario en la tabla TENANTS
    -- Usamos :NEW.USER_ID para obtener el ID generado en la tabla USERS
    INSERT INTO TENANTS (
        TENANT_ID,
        BIO,
        AVERAGE_RATING,
        REVIEWS_COUNT,
        CREATED_AT,
        UPDATED_AT
    ) VALUES (
        :NEW.USER_ID,  -- Mismo ID que el usuario
        NULL,          -- BIO vacío inicialmente
        0,             -- Rating inicial (aunque tiene default en la tabla, es bueno ser explícito)
        0,             -- Conteo de reviews inicial
        SYSDATE,       -- Fecha de creación
        SYSDATE        -- Fecha de actualización
    );
END;
/
ALTER TRIGGER "SMART"."TRG_AUTO_CREATE_TENANT" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_BOOKING_COMPLETED_REVIEWS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_BOOKING_COMPLETED_REVIEWS" 
    AFTER UPDATE OF STATUS
    ON BOOKINGS
    FOR EACH ROW
    -- CORRECCIÓN: Usamos UPPER para que detecte 'Completed', 'COMPLETED' o 'completed'
     WHEN (UPPER(NEW.STATUS) = 'COMPLETED' AND UPPER(OLD.STATUS) != 'COMPLETED') DECLARE
  v_host_id NUMBER;
  v_tenant_id NUMBER;
BEGIN
  -- 1. Obtener el HOST_ID de la propiedad asociada al booking
  -- Usamos un bloque anónimo para capturar si no existe la propiedad (seguridad extra)
  BEGIN
      SELECT h.HOST_ID
      INTO v_host_id
      FROM PROPERTIES p
      INNER JOIN HOSTS h ON p.HOST_ID = h.HOST_ID
      WHERE p.PROPERTY_ID = :NEW.PROPERTY_ID;
  EXCEPTION
      WHEN NO_DATA_FOUND THEN
          -- Si por alguna razón corrupta no hay host, salimos para no romper el update
          RETURN;
  END;

  -- 2. El TENANT_ID ya está en el booking
  v_tenant_id := :NEW.TENANT_ID;

  -- 3. Crear placeholder para el TENANT (Opina sobre el Host/Propiedad)
  BEGIN
    INSERT INTO REVIEWS (
      BOOKING_ID,
      PROPERTY_ID,
      AUTHOR_USER_ID,
      TARGET_USER_ID,
      FOR_HOST,
      RATING,
      COMMENTS, -- Asegúrate que tu columna se llame COMMENTS (plural)
      CREATED_AT,
      IS_PUBLISHED
    ) VALUES (
      :NEW.BOOKING_ID,
      :NEW.PROPERTY_ID,
      v_tenant_id,      -- Autor: Tenant
      v_host_id,        -- Target: Host
      0,                -- For Host: 0
      0,                -- Rating: 0 (Pendiente)
      NULL,
      SYSTIMESTAMP,
      0
    );
  EXCEPTION
    WHEN DUP_VAL_ON_INDEX THEN NULL; -- Ya existe, ignorar
  END;

  -- 4. Crear placeholder para el HOST (Opina sobre el Tenant)
  BEGIN
    INSERT INTO REVIEWS (
      BOOKING_ID,
      PROPERTY_ID,
      AUTHOR_USER_ID,
      TARGET_USER_ID,
      FOR_HOST,
      RATING,
      COMMENTS, -- Asegúrate que tu columna se llame COMMENTS (plural)
      CREATED_AT,
      IS_PUBLISHED
    ) VALUES (
      :NEW.BOOKING_ID,
      :NEW.PROPERTY_ID,
      v_host_id,        -- Autor: Host
      v_tenant_id,      -- Target: Tenant
      1,                -- For Host: 1
      0,                -- Rating: 0 (Pendiente)
      NULL,
      SYSTIMESTAMP,
      0
    );
  EXCEPTION
    WHEN DUP_VAL_ON_INDEX THEN NULL; -- Ya existe, ignorar
  END;

EXCEPTION
  WHEN OTHERS THEN
    -- Imprimir error en consola para depuración, pero no detener la transacción
    DBMS_OUTPUT.PUT_LINE('Error en trigger TRG_BOOKING_COMPLETED_REVIEWS: ' || SQLERRM);
END;
/
ALTER TRIGGER "SMART"."TRG_BOOKING_COMPLETED_REVIEWS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_UPDATE_PROPERTY_STATS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_UPDATE_PROPERTY_STATS" 
    after insert or update of IS_PUBLISHED
    on REVIEWS
    for each row
declare
    v_new_avg NUMBER(3, 2);
    v_count   NUMBER;
begin
    -- CASO: El Tenant escribe la reseña (FOR_HOST = 0)
    -- Solo procesamos si la reseña ya es pública (IS_PUBLISHED = 1)
    IF :NEW.FOR_HOST = 0 AND :NEW.IS_PUBLISHED = 1 THEN

        -- 1. Calculamos el nuevo promedio y conteo solo de esta propiedad
        SELECT NVL(AVG(RATING), 0), COUNT(*)
        INTO v_new_avg, v_count
        FROM REVIEWS
        WHERE PROPERTY_ID = :NEW.PROPERTY_ID  -- Buscamos por la propiedad
          AND FOR_HOST = 0                    -- Solo reseñas de inquilinos
          AND IS_PUBLISHED = 1;               -- Solo las visibles

        -- 2. Actualizamos la tabla PROPERTIES
        UPDATE PROPERTIES
        SET AVERAGE_RATING = v_new_avg,
            REVIEWS_COUNT  = v_count
            -- UPDATED_AT     = SYSDATE  -- Descomenta si tienes esta columna
        WHERE PROPERTY_ID = :NEW.PROPERTY_ID;

    END IF;
end;
/
ALTER TRIGGER "SMART"."TRG_UPDATE_PROPERTY_STATS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_UPDATE_TENANT_STATS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_UPDATE_TENANT_STATS" 
    after insert or update of IS_PUBLISHED
    on REVIEWS
    for each row
declare
    v_new_avg NUMBER(3, 2);
    v_count   NUMBER;
begin
    -- CASO: El Host escribe la reseña (FOR_HOST = 1) -> El "Target" es el Tenant
    -- Solo procesamos si la reseña ya es pública (IS_PUBLISHED = 1)
    IF :NEW.FOR_HOST = 1 AND :NEW.IS_PUBLISHED = 1 THEN

        -- 1. Calculamos el nuevo promedio y conteo para ese USUARIO (Tenant)
        SELECT NVL(AVG(RATING), 0), COUNT(*)
        INTO v_new_avg, v_count
        FROM REVIEWS
        WHERE TARGET_USER_ID = :NEW.TARGET_USER_ID -- Buscamos al usuario objetivo
          AND FOR_HOST = 1                         -- Solo reseñas escritas por hosts
          AND IS_PUBLISHED = 1;                    -- Solo las visibles

        -- 2. Actualizamos la tabla TENANTS
        UPDATE TENANTS
        SET AVERAGE_RATING = v_new_avg,
            REVIEWS_COUNT  = v_count,
            UPDATED_AT     = SYSDATE
        WHERE TENANT_ID = :NEW.TARGET_USER_ID;

    END IF;
end;
/
ALTER TRIGGER "SMART"."TRG_UPDATE_TENANT_STATS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_BOOKING_COMPLETED_REVIEWS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_BOOKING_COMPLETED_REVIEWS" 
    AFTER UPDATE OF STATUS
    ON BOOKINGS
    FOR EACH ROW
    -- CORRECCIÓN: Usamos UPPER para que detecte 'Completed', 'COMPLETED' o 'completed'
     WHEN (UPPER(NEW.STATUS) = 'COMPLETED' AND UPPER(OLD.STATUS) != 'COMPLETED') DECLARE
  v_host_id NUMBER;
  v_tenant_id NUMBER;
BEGIN
  -- 1. Obtener el HOST_ID de la propiedad asociada al booking
  -- Usamos un bloque anónimo para capturar si no existe la propiedad (seguridad extra)
  BEGIN
      SELECT h.HOST_ID
      INTO v_host_id
      FROM PROPERTIES p
      INNER JOIN HOSTS h ON p.HOST_ID = h.HOST_ID
      WHERE p.PROPERTY_ID = :NEW.PROPERTY_ID;
  EXCEPTION
      WHEN NO_DATA_FOUND THEN
          -- Si por alguna razón corrupta no hay host, salimos para no romper el update
          RETURN;
  END;

  -- 2. El TENANT_ID ya está en el booking
  v_tenant_id := :NEW.TENANT_ID;

  -- 3. Crear placeholder para el TENANT (Opina sobre el Host/Propiedad)
  BEGIN
    INSERT INTO REVIEWS (
      BOOKING_ID,
      PROPERTY_ID,
      AUTHOR_USER_ID,
      TARGET_USER_ID,
      FOR_HOST,
      RATING,
      COMMENTS, -- Asegúrate que tu columna se llame COMMENTS (plural)
      CREATED_AT,
      IS_PUBLISHED
    ) VALUES (
      :NEW.BOOKING_ID,
      :NEW.PROPERTY_ID,
      v_tenant_id,      -- Autor: Tenant
      v_host_id,        -- Target: Host
      0,                -- For Host: 0
      0,                -- Rating: 0 (Pendiente)
      NULL,
      SYSTIMESTAMP,
      0
    );
  EXCEPTION
    WHEN DUP_VAL_ON_INDEX THEN NULL; -- Ya existe, ignorar
  END;

  -- 4. Crear placeholder para el HOST (Opina sobre el Tenant)
  BEGIN
    INSERT INTO REVIEWS (
      BOOKING_ID,
      PROPERTY_ID,
      AUTHOR_USER_ID,
      TARGET_USER_ID,
      FOR_HOST,
      RATING,
      COMMENTS, -- Asegúrate que tu columna se llame COMMENTS (plural)
      CREATED_AT,
      IS_PUBLISHED
    ) VALUES (
      :NEW.BOOKING_ID,
      :NEW.PROPERTY_ID,
      v_host_id,        -- Autor: Host
      v_tenant_id,      -- Target: Tenant
      1,                -- For Host: 1
      0,                -- Rating: 0 (Pendiente)
      NULL,
      SYSTIMESTAMP,
      0
    );
  EXCEPTION
    WHEN DUP_VAL_ON_INDEX THEN NULL; -- Ya existe, ignorar
  END;

EXCEPTION
  WHEN OTHERS THEN
    -- Imprimir error en consola para depuración, pero no detener la transacción
    DBMS_OUTPUT.PUT_LINE('Error en trigger TRG_BOOKING_COMPLETED_REVIEWS: ' || SQLERRM);
END;
/
ALTER TRIGGER "SMART"."TRG_BOOKING_COMPLETED_REVIEWS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_AUDIT_BOOKINGS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_AUDIT_BOOKINGS" 
-- 1. Agregamos "OR INSERT" aquí
AFTER INSERT OR UPDATE OR DELETE ON BOOKINGS
FOR EACH ROW
BEGIN
    -- Caso 1: Nueva Reserva
    IF INSERTING THEN
        INSERT INTO AUDIT_LOGS (table_name, operation, booking_id, new_status, changed_by)
        VALUES ('BOOKINGS', 'INSERT', :NEW.BOOKING_ID, :NEW.status, USER);

    -- Caso 2: Modificación (Cambio de estado/fechas)
    ELSIF UPDATING THEN
        INSERT INTO AUDIT_LOGS (table_name, operation, booking_id, old_status, new_status, changed_by)
        VALUES ('BOOKINGS', 'UPDATE', :OLD.BOOKING_ID, :OLD.status, :NEW.status, USER);

    -- Caso 3: Cancelación definitiva
    ELSIF DELETING THEN
        INSERT INTO AUDIT_LOGS (table_name, operation, booking_id, old_status, changed_by)
        VALUES ('BOOKINGS', 'DELETE', :OLD.BOOKING_ID, :OLD.status, USER);
    END IF;
END;
/
ALTER TRIGGER "SMART"."TRG_AUDIT_BOOKINGS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_UPDATE_TENANT_STATS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_UPDATE_TENANT_STATS" 
    after insert or update of IS_PUBLISHED
    on REVIEWS
    for each row
declare
    v_new_avg NUMBER(3, 2);
    v_count   NUMBER;
begin
    -- CASO: El Host escribe la reseña (FOR_HOST = 1) -> El "Target" es el Tenant
    -- Solo procesamos si la reseña ya es pública (IS_PUBLISHED = 1)
    IF :NEW.FOR_HOST = 1 AND :NEW.IS_PUBLISHED = 1 THEN

        -- 1. Calculamos el nuevo promedio y conteo para ese USUARIO (Tenant)
        SELECT NVL(AVG(RATING), 0), COUNT(*)
        INTO v_new_avg, v_count
        FROM REVIEWS
        WHERE TARGET_USER_ID = :NEW.TARGET_USER_ID -- Buscamos al usuario objetivo
          AND FOR_HOST = 1                         -- Solo reseñas escritas por hosts
          AND IS_PUBLISHED = 1;                    -- Solo las visibles

        -- 2. Actualizamos la tabla TENANTS
        UPDATE TENANTS
        SET AVERAGE_RATING = v_new_avg,
            REVIEWS_COUNT  = v_count,
            UPDATED_AT     = SYSDATE
        WHERE TENANT_ID = :NEW.TARGET_USER_ID;

    END IF;
end;
/
ALTER TRIGGER "SMART"."TRG_UPDATE_TENANT_STATS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_UPDATE_PROPERTY_STATS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_UPDATE_PROPERTY_STATS" 
    after insert or update of IS_PUBLISHED
    on REVIEWS
    for each row
declare
    v_new_avg NUMBER(3, 2);
    v_count   NUMBER;
begin
    -- CASO: El Tenant escribe la reseña (FOR_HOST = 0)
    -- Solo procesamos si la reseña ya es pública (IS_PUBLISHED = 1)
    IF :NEW.FOR_HOST = 0 AND :NEW.IS_PUBLISHED = 1 THEN

        -- 1. Calculamos el nuevo promedio y conteo solo de esta propiedad
        SELECT NVL(AVG(RATING), 0), COUNT(*)
        INTO v_new_avg, v_count
        FROM REVIEWS
        WHERE PROPERTY_ID = :NEW.PROPERTY_ID  -- Buscamos por la propiedad
          AND FOR_HOST = 0                    -- Solo reseñas de inquilinos
          AND IS_PUBLISHED = 1;               -- Solo las visibles

        -- 2. Actualizamos la tabla PROPERTIES
        UPDATE PROPERTIES
        SET AVERAGE_RATING = v_new_avg,
            REVIEWS_COUNT  = v_count
            -- UPDATED_AT     = SYSDATE  -- Descomenta si tienes esta columna
        WHERE PROPERTY_ID = :NEW.PROPERTY_ID;

    END IF;
end;
/
ALTER TRIGGER "SMART"."TRG_UPDATE_PROPERTY_STATS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_AUTO_CREATE_TENANT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SMART"."TRG_AUTO_CREATE_TENANT" 
AFTER INSERT ON USERS
FOR EACH ROW
BEGIN
    -- Inserta el nuevo ID de usuario en la tabla TENANTS
    -- Usamos :NEW.USER_ID para obtener el ID generado en la tabla USERS
    INSERT INTO TENANTS (
        TENANT_ID,
        BIO,
        AVERAGE_RATING,
        REVIEWS_COUNT,
        CREATED_AT,
        UPDATED_AT
    ) VALUES (
        :NEW.USER_ID,  -- Mismo ID que el usuario
        NULL,          -- BIO vacío inicialmente
        0,             -- Rating inicial (aunque tiene default en la tabla, es bueno ser explícito)
        0,             -- Conteo de reviews inicial
        SYSDATE,       -- Fecha de creación
        SYSDATE        -- Fecha de actualización
    );
END;
/
ALTER TRIGGER "SMART"."TRG_AUTO_CREATE_TENANT" ENABLE;
--------------------------------------------------------
--  DDL for Package AUTH_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."AUTH_PKG" AS
    PROCEDURE SP_LOGIN_WITH_CREDENTIALS(
        P_USERNAME IN VARCHAR2,
        P_PASSWORD_HASH IN VARCHAR2,
        OUT_SUCCESS OUT NUMBER, -- 1 = success, 0 = failure
        OUT_ERROR_CODE OUT VARCHAR2,
        OUT_USER_CURSOR OUT SYS_REFCURSOR -- devuelve cursor con datos de usuario (si aplica)
    );

    PROCEDURE SP_FIND_OR_CREATE_USER_OAUTH(
        p_email IN VARCHAR2,
        p_first_name IN VARCHAR2,
        p_last_name IN VARCHAR2,
        p_provider IN VARCHAR2,
        p_provider_account_id IN VARCHAR2,
        out_user_id OUT NUMBER,
        out_identity_id OUT NUMBER
    );

    PROCEDURE SP_UPDATE_LAST_LOGIN(
        P_IDENTITY_ID IN NUMBER
    );

    PROCEDURE SP_REGISTER_WITH_CREDENTIALS(
        p_email IN VARCHAR2,
        p_password_hash IN VARCHAR2,
        p_first_name IN VARCHAR2,
        p_last_name IN VARCHAR2,
        out_success OUT NUMBER,
        out_error_code OUT VARCHAR2,
        out_user_id OUT NUMBER
    );

END AUTH_PKG;

/
--------------------------------------------------------
--  DDL for Package BOOKING_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."BOOKING_PKG" AS

    /**
     * Obtiene todas las reservas hechas por un huésped (guest) específico.
     * p_guest_id: El ID del usuario que hizo las reservas (users.user_id).
     * p_bookings_cur: Un cursor de referencia para devolver el conjunto de resultados.
     */
    PROCEDURE get_bookings_by_tenant(
        p_tenant_id IN users.user_id%TYPE,
        p_bookings_cur OUT SYS_REFCURSOR
    );

    /**
     * Obtiene todas las reservas de las propiedades que pertenecen a un anfitrión (host) específico.
     * p_host_id: El ID del usuario que es dueño de las propiedades (users.user_id).
     * p_bookings_cur: Un cursor de referencia para devolver el conjunto de resultados.
     */
    PROCEDURE   get_bookings_by_host(
        p_host_id IN users.user_id%TYPE,
        p_bookings_cur OUT SYS_REFCURSOR
    );

    /**
    * Obtiene los detalles completos de UNA reserva específica.
    * Incluye una comprobación de autorización para asegurar que el usuario
    * que la solicita sea el huésped (tenant) o el anfitrión (host).
    *
    * p_booking_id: El ID de la reserva a consultar.
    * p_user_id: El ID del usuario que realiza la consulta (para autorización).
    * p_booking_info_cur: Un cursor de referencia para devolver la fila única.
    */
    PROCEDURE get_detailed_booking_info(
        p_booking_id IN bookings.booking_id%TYPE,
        p_user_id IN users.user_id%TYPE,
        p_booking_info_cur OUT SYS_REFCURSOR
    );


END BOOKING_PKG;

/
--------------------------------------------------------
--  DDL for Package CALENDAR_AVAILABILITY_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."CALENDAR_AVAILABILITY_PKG" AS

  ------------------------------------------------------------------------------
  -- PROCEDURE: SP_GET_PROPERTY_AVAILABILITY
  -- Devuelve la disponibilidad día por día de una propiedad en un rango de fechas
  ------------------------------------------------------------------------------
  PROCEDURE SP_GET_PROPERTY_AVAILABILITY(
    P_PROPERTY_ID             IN NUMBER,
    P_START_DATE              IN VARCHAR2,
    P_END_DATE                IN VARCHAR2,
    OUT_AVAILABILITY_CURSOR   OUT SYS_REFCURSOR,
    OUT_ERROR_CODE            OUT VARCHAR2
  );

  ------------------------------------------------------------------------------
  -- PROCEDURE: SP_CHECK_RANGE_AVAILABILITY
  -- Verifica si un rango de fechas está completamente disponible para reserva
  ------------------------------------------------------------------------------
  PROCEDURE SP_CHECK_RANGE_AVAILABILITY(
    P_PROPERTY_ID     IN NUMBER,
    P_CHECKIN_DATE    IN VARCHAR2,
    P_CHECKOUT_DATE   IN VARCHAR2,
    OUT_IS_AVAILABLE  OUT NUMBER,
    OUT_ERROR_CODE    OUT VARCHAR2
  );

  ------------------------------------------------------------------------------
  -- PROCEDURE: SP_GET_NEXT_AVAILABLE_DATES
  -- Obtiene las próximas N fechas disponibles a partir de hoy
  ------------------------------------------------------------------------------
  PROCEDURE SP_GET_NEXT_AVAILABLE_DATES(
    P_PROPERTY_ID       IN NUMBER,
    P_COUNT             IN NUMBER DEFAULT 5,
    OUT_DATES_CURSOR    OUT SYS_REFCURSOR,
    OUT_ERROR_CODE      OUT VARCHAR2
  );

END CALENDAR_AVAILABILITY_PKG;

/
--------------------------------------------------------
--  DDL for Package FILTER_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."FILTER_PKG" AS
  PROCEDURE SP_SEARCH_PROPERTIES(
    p_city        IN VARCHAR2 DEFAULT NULL,
    p_min_price   IN NUMBER DEFAULT NULL,
    p_max_price   IN NUMBER DEFAULT NULL,
    p_rooms       IN NUMBER DEFAULT NULL,
    p_beds        IN NUMBER DEFAULT NULL,
    p_baths       IN NUMBER DEFAULT NULL,
    p_max_adults IN NUMBER DEFAULT NULL,
    p_max_children IN NUMBER DEFAULT NULL,
    p_max_baby IN NUMBER DEFAULT NULL,
    p_max_pet IN NUMBER DEFAULT NULL,
    p_start_date     IN DATE DEFAULT NULL,
    p_end_date       IN DATE DEFAULT NULL,
    p_lat_min     IN NUMBER DEFAULT NULL,
    p_lat_max     IN NUMBER DEFAULT NULL,
    p_lng_min     IN NUMBER DEFAULT NULL,
    p_lng_max     IN NUMBER DEFAULT NULL,
    p_amenities   IN SYS.ODCINUMBERLIST DEFAULT NULL,
    p_result_set  OUT SYS_REFCURSOR
  );
END FILTER_PKG;

/
--------------------------------------------------------
--  DDL for Package HOST_DASHBOARD_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."HOST_DASHBOARD_PKG" AS

  -- Tipo de registro para las estadísticas generales del host
  TYPE host_stats_rec IS RECORD (
    total_bookings NUMBER,
    total_revenue NUMBER,
    average_rating NUMBER(3,2),
    average_ticket NUMBER(10,2),
    total_reviews NUMBER,
    total_properties NUMBER,
    active_bookings NUMBER
  );

  -- Procedimiento: Obtener estadísticas generales del host
  PROCEDURE GET_HOST_STATS (
    p_host_id IN NUMBER,
    p_stats_cursor OUT SYS_REFCURSOR
  );

  -- Procedimiento: Obtener actividad reciente del host
  PROCEDURE GET_HOST_RECENT_ACTIVITY (
    p_host_id IN NUMBER,
    p_activity_cursor OUT SYS_REFCURSOR,
    p_limit IN NUMBER DEFAULT 10
  );

END HOST_DASHBOARD_PKG;

/
--------------------------------------------------------
--  DDL for Package PROPERTY_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."PROPERTY_PKG" AS

    PROCEDURE SP_CREATE_PROPERTY(
        -- PROPERTIES (Requeridos)
        P_HOST_ID IN PROPERTIES.HOST_ID%TYPE,
        P_PROPERTY_TYPE IN PROPERTIES.PROPERTY_TYPE%TYPE,
        P_TITLE IN PROPERTIES.TITLE%TYPE,
        P_BASE_PRICE_NIGHT IN PROPERTIES.BASE_PRICE_NIGHT%TYPE,
        P_CURRENCY_CODE IN PROPERTIES.CURRENCY_CODE%TYPE,
        P_ADDRESS_TEXT IN PROPERTIES.ADDRESS_TEXT%TYPE,
        P_CITY IN PROPERTIES.CITY%TYPE,
        P_STATE_REGION IN PROPERTIES.STATE_REGION%TYPE,
        P_COUNTRY IN PROPERTIES.COUNTRY%TYPE,

        -- PROPERTIES (Opcionales)
        P_POSTAL_CODE IN PROPERTIES.POSTAL_CODE%TYPE DEFAULT NULL,
        P_LATITUDE IN PROPERTIES.LATITUDE%TYPE DEFAULT NULL,
        P_LONGITUDE IN PROPERTIES.LONGITUDE%TYPE DEFAULT NULL,

        -- PROPERTY_DETAILS (Casi todos con valor por defecto o NULL)
        P_DESCRIPTION_LONG IN PROPERTY_DETAILS.DESCRIPTION_LONG%TYPE DEFAULT NULL,
        P_HOUSE_RULES IN PROPERTY_DETAILS.HOUSE_RULES%TYPE DEFAULT NULL,
        P_CHECKIN_TIME IN VARCHAR2 DEFAULT NULL,
        P_CHECKOUT_TIME IN VARCHAR2 DEFAULT NULL,   
        P_CAPACITY IN PROPERTY_DETAILS.CAPACITY%TYPE DEFAULT 1,
        P_BEDROOMS IN PROPERTY_DETAILS.BEDROOMS%TYPE DEFAULT 0,
        P_BATHROOMS IN PROPERTY_DETAILS.BATHROOMS%TYPE DEFAULT 0,
        P_BEDS IN PROPERTY_DETAILS.BEDS%TYPE DEFAULT 0,
        P_AREA IN PROPERTY_DETAILS.AREA_M2%TYPE DEFAULT NULL,
        P_FLOOR_NUMBER IN PROPERTY_DETAILS.FLOOR_NUMBER%TYPE DEFAULT NULL,
        P_MAX_ADULTS IN PROPERTY_DETAILS.MAX_ADULTS%TYPE DEFAULT NULL,
        P_MAX_CHILDREN IN PROPERTY_DETAILS.MAX_CHILDREN%TYPE DEFAULT NULL,
        P_MAX_BABY IN PROPERTY_DETAILS.MAX_BABY%TYPE DEFAULT NULL,
        P_MAX_PETS IN PROPERTY_DETAILS.MAX_PETS%TYPE DEFAULT NULL,

        -- JSON (Images y Amenities)
        P_IMAGES IN CLOB DEFAULT NULL,
        P_AMENITIES IN CLOB DEFAULT NULL,

        -- Salida
        OUT_PROPERTY_ID OUT PROPERTIES.PROPERTY_ID%TYPE,
        OUT_ERROR_CODE OUT VARCHAR2
    );

    PROCEDURE SP_UPDATE_PROPERTY(
        -- Parámetros Requeridos
        P_PROPERTY_ID IN PROPERTIES.PROPERTY_ID%TYPE,

        -- Campos de PROPERTIES (Opcionales)
        P_TITLE IN PROPERTIES.TITLE%TYPE DEFAULT NULL,
        P_BASE_PRICE_NIGHT IN PROPERTIES.BASE_PRICE_NIGHT%TYPE DEFAULT NULL,
        P_ADDRESS_TEXT IN PROPERTIES.ADDRESS_TEXT%TYPE DEFAULT NULL,
        P_CITY IN PROPERTIES.CITY%TYPE DEFAULT NULL,
        P_STATE_REGION IN PROPERTIES.STATE_REGION%TYPE DEFAULT NULL,
        P_COUNTRY IN PROPERTIES.COUNTRY%TYPE DEFAULT NULL,
        P_POSTAL_CODE IN PROPERTIES.POSTAL_CODE%TYPE DEFAULT NULL,
        P_LATITUDE IN PROPERTIES.LATITUDE%TYPE DEFAULT NULL,
        P_LONGITUDE IN PROPERTIES.LONGITUDE%TYPE DEFAULT NULL,

        -- Campos de PROPERTY_DETAILS (Opcionales)
        P_DESCRIPTION_LONG IN PROPERTY_DETAILS.DESCRIPTION_LONG%TYPE DEFAULT NULL,
        P_HOUSE_RULES IN PROPERTY_DETAILS.HOUSE_RULES%TYPE DEFAULT NULL,
        P_CHECKIN_TIME IN PROPERTY_DETAILS.CHECKIN_TIME%TYPE DEFAULT NULL,
        P_CHECKOUT_TIME IN PROPERTY_DETAILS.CHECKOUT_TIME%TYPE DEFAULT NULL,
        P_CAPACITY IN PROPERTY_DETAILS.CAPACITY%TYPE DEFAULT NULL,
        P_BEDROOMS IN PROPERTY_DETAILS.BEDROOMS%TYPE DEFAULT NULL,
        P_BATHROOMS IN PROPERTY_DETAILS.BATHROOMS%TYPE DEFAULT NULL,
        P_BEDS IN PROPERTY_DETAILS.BEDS%TYPE DEFAULT NULL,

        -- Salida
        OUT_ERROR_CODE OUT VARCHAR2
    );

    PROCEDURE SP_GET_PROPERTY_PAGE_DETAILS(
        P_PROPERTY_ID IN PROPERTIES.PROPERTY_ID%TYPE,
        OUT_DETAILS_CURSOR OUT SYS_REFCURSOR,
        OUT_IMAGES_CURSOR OUT SYS_REFCURSOR,
        OUT_AMENITIES_CURSOR OUT SYS_REFCURSOR,
        OUT_REVIEWS_SUMMARY_CUR OUT SYS_REFCURSOR,
        OUT_REVIEWS_LIST_CURSOR OUT SYS_REFCURSOR,
        OUT_ERROR_CODE OUT VARCHAR2
    );

    PROCEDURE SET_AVAILABILITY(
        P_PROPERTY_ID IN AVAILABILITIES.PROPERTY_ID%TYPE,
        P_START_DATE IN AVAILABILITIES.START_DATE%type,
        P_END_DATE IN AVAILABILITIES.END_DATE%type,
        P_KIND IN VARCHAR2,
        P_PRICE_PER_NIGHT IN AVAILABILITIES.PRICE_PER_NIGHT%type,
        P_ERROR_CODE OUT NUMBER
    );

    PROCEDURE SP_REMOVE_AVAILABILITY(
        P_PROPERTY_ID IN NUMBER,
        P_START_DATE IN DATE,
        P_END_DATE IN DATE,
        P_ROWS_DELETED OUT NUMBER,
        P_ERROR_CODE OUT NUMBER
    );

    FUNCTION GET_CALENDAR(
        p_property_id IN PROPERTIES.PROPERTY_ID%TYPE,
        p_month IN NUMBER,
        p_year IN NUMBER
    ) RETURN T_CALENDAR_DAY_TABLE PIPELINED;

    FUNCTION FN_GET_PROPERTIES_BY_HOST(
        P_HOST_ID IN HOSTS.HOST_ID%TYPE
    )
        RETURN SYS_REFCURSOR;


END PROPERTY_PKG;

/
--------------------------------------------------------
--  DDL for Package REVIEW_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."REVIEW_PKG" AS
    -- Procedimiento existente: Obtener pending reviews
    PROCEDURE GET_USER_PENDING_REVIEWS(
        p_user_id       IN  NUMBER,
        p_pending_cursor OUT SYS_REFCURSOR
    );

    -- Procedimiento existente: Crear reseña
    PROCEDURE CREATE_REVIEW(
        p_booking_id    IN  NUMBER,
        p_reviewer_id   IN  NUMBER,
        p_review_type   IN  VARCHAR2,
        p_rating        IN  NUMBER,
        p_comment       IN  CLOB,
        p_review_id     OUT NUMBER,
        p_success       OUT NUMBER,
        p_message       OUT VARCHAR2
    );

    -- Procedimiento actualizado: Obtener reseñas del host (usando vista)
    PROCEDURE GET_HOST_RECEIVED_REVIEWS(
        p_host_id       IN  NUMBER,
        p_reviews_cursor OUT SYS_REFCURSOR
    );

    -- NUEVO: Obtener estadísticas del host (usando V_HOST_REVIEW_STATS)
    PROCEDURE GET_HOST_REVIEW_STATS(
        p_host_id       IN  NUMBER,
        p_stats_cursor  OUT SYS_REFCURSOR
    );

END REVIEW_PKG;

/
--------------------------------------------------------
--  DDL for Package USER_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "SMART"."USER_PKG" AS

    PROCEDURE SP_GET_USER_ROLES(
        P_USER_ID IN users.user_id%TYPE, -- Buena práctica usar %TYPE
        OUT_IS_TENANT OUT NUMBER,
        OUT_IS_HOST OUT NUMBER
    );

    PROCEDURE SP_BECOME_HOST(
        P_USER_ID IN users.user_id%TYPE,
        OUT_HOST_ID OUT hosts.host_id%TYPE
    );

    PROCEDURE SP_GET_USER_PROFILE(
        p_user_id IN NUMBER,
        p_first_name OUT VARCHAR2,
        p_last_name OUT VARCHAR2,
        p_email OUT VARCHAR2,
        p_phone OUT VARCHAR2,
        p_dni OUT VARCHAR2,
        p_birth_date OUT DATE,
        p_created_at OUT DATE,
        p_updated_at OUT DATE
    );

    PROCEDURE SP_GET_PUBLIC_USER_PROFILE(
        p_user_id IN NUMBER,
        p_profile_cursor OUT SYS_REFCURSOR,
        p_preferences_cursor OUT SYS_REFCURSOR
    );

    PROCEDURE SP_UPDATE_PUBLIC_USER_PROFILE(
        p_user_id IN NUMBER,
        p_biography IN CLOB,

        -- Parámetros para las 6 preferencias
        p_interests IN VARCHAR2,
        p_pets IN VARCHAR2,
        p_location IN VARCHAR2,
        p_work IN VARCHAR2,
        p_language IN VARCHAR2,
        p_school IN VARCHAR2
    );

    PROCEDURE SP_UPDATE_USER_PROFILE(
        p_user_id IN NUMBER,
        p_first_name IN VARCHAR2 DEFAULT NULL,
        p_last_name IN VARCHAR2 DEFAULT NULL,
        p_email IN VARCHAR2 DEFAULT NULL,
        p_phone IN VARCHAR2 DEFAULT NULL,
        p_dni IN VARCHAR2 DEFAULT NULL,
        p_birth_date IN DATE DEFAULT NULL
    );

END USER_PKG;

/
--------------------------------------------------------
--  DDL for Package Body AUTH_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."AUTH_PKG" AS

    -- Función privada: valida estado del usuario
    FUNCTION FN_VALIDATE_USER_LOGIN(
        p_user_id IN NUMBER
    ) RETURN VARCHAR2 AS
        v_status         USERS.STATUS%TYPE;
        v_email_verified USER_AUTH_IDENTITIES.EMAIL_VERIFIED%TYPE;
    BEGIN
        -- Esta consulta puede fallar con TOO_MANY_ROWS si un usuario
        -- tiene múltiples identidades (ej. 'local' y 'google').
        -- Considera añadir "AND ROWNUM = 1" si eso se convierte en un problema.
        SELECT u.STATUS, a.EMAIL_VERIFIED
        INTO v_status, v_email_verified
        FROM USERS u
                 JOIN USER_AUTH_IDENTITIES a ON u.USER_ID = a.USER_ID
        WHERE u.USER_ID = p_user_id
          AND ROWNUM = 1; -- Añadido para seguridad

    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            RETURN 'USER_NOT_FOUND';
    END FN_VALIDATE_USER_LOGIN;


    -- Implementación del SP público de Login con credenciales
    PROCEDURE SP_LOGIN_WITH_CREDENTIALS(
        p_username IN VARCHAR2,
        p_password_hash IN VARCHAR2,
        out_success OUT NUMBER,
        out_error_code OUT VARCHAR2,
        out_user_cursor OUT SYS_REFCURSOR
    ) IS
        v_user_id        USERS.USER_ID%TYPE;
        v_status         USERS.STATUS%TYPE;
        v_email_verified USER_AUTH_IDENTITIES.EMAIL_VERIFIED%TYPE;
    BEGIN

        -- Paso 1: ...
        BEGIN
            SELECT a.USER_ID,
                   u.STATUS,
                   a.EMAIL_VERIFIED
            INTO
                v_user_id,
                v_status,
                v_email_verified
            FROM USER_AUTH_IDENTITIES a
                     JOIN
                 USERS u ON a.USER_ID = u.USER_ID
            WHERE a.PROVIDER = 'credentials'
              AND (LOWER(a.PROVIDER_USER_ID) = LOWER(p_username) OR LOWER(a.EMAIL) = LOWER(p_username))
              AND a.PASSWORD_HASH = p_password_hash;

        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                out_success := 0;
                out_error_code := 'INVALID_CREDENTIALS';
                out_user_cursor := NULL; -- (Esta ya la tenías)
                RETURN;
        END;

        -- Paso 2: Validar si el usuario está activo.
        IF v_status <> 'active' THEN
            out_success := 0;
            out_error_code := 'USER_INACTIVE';
            out_user_cursor := NULL; -- <-- !! CORRECCIÓN !!
            RETURN;
        END IF;

        -- Paso 3: Validar si el email de esa identidad está verificado.
        IF v_email_verified = 0 THEN
            out_success := 0;
            out_error_code := 'EMAIL_NOT_VERIFIED';
            out_user_cursor := NULL; -- <-- !! CORRECCIÓN !!
            RETURN;
        END IF;

        -- Paso 4: ¡Éxito!
        out_success := 1;
        out_error_code := NULL;
        OPEN out_user_cursor FOR
            SELECT * FROM USERS WHERE USER_ID = v_user_id;

    EXCEPTION
        -- Manejar cualquier otro error inesperado
        WHEN OTHERS THEN
            out_success := 0;
            out_error_code := SQLCODE || ': ' || SQLERRM;
            out_user_cursor := NULL; -- <-- !! CORRECCIÓN !!

    END SP_LOGIN_WITH_CREDENTIALS;


    -- Implementación del SP público de OAuth (buscar o crear)
    PROCEDURE SP_FIND_OR_CREATE_USER_OAUTH(
        p_email IN VARCHAR2,
        p_first_name IN VARCHAR2, -- Recibe el nombre ya dividido
        p_last_name IN VARCHAR2, -- Recibe el apellido ya dividido
        p_provider IN VARCHAR2,
        p_provider_account_id IN VARCHAR2,
        out_user_id OUT NUMBER,
        out_identity_id OUT NUMBER
    ) IS
        v_user_id     NUMBER;
        v_identity_id NUMBER;
        -- Se eliminan las variables v_first_name y v_last_name
    BEGIN
        -- Validar parámetros de entrada
        IF p_email IS NULL THEN RAISE_APPLICATION_ERROR(-20001, 'Email no puede ser NULL'); END IF;
        IF p_provider_account_id IS NULL THEN
            RAISE_APPLICATION_ERROR(-20002, 'Provider Account ID no puede ser NULL');
        END IF;
        -- Ya no validamos p_name, sino que confiamos en lo que envía el código

        -- Paso 1: MANEJAR LA TABLA USERS (BUSCAR O CREAR)
        BEGIN
            -- Buscar usuario existente por email
            SELECT USER_ID INTO v_user_id FROM USERS WHERE LOWER(TRIM(EMAIL)) = LOWER(TRIM(p_email));

        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                -- Si no existe, crearlo usando los parámetros recibidos
                -- Se elimina el bloque DECLARE intermedio
                INSERT INTO USERS (FIRST_NAME, LAST_NAME, EMAIL, CREATED_AT, STATUS)
                VALUES (p_first_name, p_last_name, LOWER(TRIM(p_email)), SYSDATE, 'active')
                RETURNING USER_ID INTO v_user_id;

                IF v_user_id IS NULL THEN
                    RAISE_APPLICATION_ERROR(-20003, 'No se pudo crear el usuario');
                END IF;
        END;
        -- Fin bloque BEGIN/EXCEPTION para USERS

        -- A este punto, v_user_id SIEMPRE tiene un valor

        -- Paso 2: MANEJAR USER_AUTH_IDENTITIES (Buscar primero, luego insertar)
        -- (Esta lógica permanece igual que la que proporcionaste)
        BEGIN
            -- Intentar BUSCAR la identidad existente
            SELECT IDENTITY_ID
            INTO v_identity_id
            FROM USER_AUTH_IDENTITIES
            WHERE USER_ID = v_user_id
              AND PROVIDER = p_provider
              AND PROVIDER_USER_ID = p_provider_account_id;

        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                -- Si NO la encuentra, INSERTARLA
                INSERT INTO USER_AUTH_IDENTITIES (USER_ID, PROVIDER_USER_ID, PROVIDER,
                                                  PASSWORD_HASH, EMAIL_VERIFIED, EMAIL, CREATED_AT)
                VALUES (v_user_id, p_provider_account_id, p_provider,
                        NULL, 1, LOWER(TRIM(p_email)), SYSDATE)
                RETURNING IDENTITY_ID INTO v_identity_id;

                IF v_identity_id IS NULL THEN
                    RAISE_APPLICATION_ERROR(-20004, 'No se pudo crear la identidad de autenticación');
                END IF;
        END;
        -- Fin del bloque BEGIN/EXCEPTION para USER_AUTH_IDENTITIES

        -- 3. ASIGNAR VALORES DE SALIDA
        out_user_id := v_user_id;
        out_identity_id := v_identity_id;

    EXCEPTION
        WHEN OTHERS THEN
            RAISE; -- Re-lanza la excepción original
    END SP_FIND_OR_CREATE_USER_OAUTH;


    -- Implementación del SP público de actualizar login
    PROCEDURE SP_UPDATE_LAST_LOGIN(
        p_identity_id IN NUMBER
    ) AS
    BEGIN
        UPDATE USER_AUTH_IDENTITIES
        SET LAST_LOGIN_AT = SYSDATE
        WHERE IDENTITY_ID = p_identity_id;
        COMMIT;
    END SP_UPDATE_LAST_LOGIN;

    PROCEDURE SP_REGISTER_WITH_CREDENTIALS(
        p_email IN VARCHAR2,
        p_password_hash IN VARCHAR2,
        p_first_name IN VARCHAR2,
        p_last_name IN VARCHAR2,
        out_success OUT NUMBER,
        out_error_code OUT VARCHAR2,
        out_user_id OUT NUMBER
    ) IS
        v_user_count  NUMBER := 0;
        v_new_user_id users.user_id%TYPE;
    BEGIN
        -- 1. Verificar si el email ya existe
        SELECT COUNT(*)
        INTO v_user_count
        FROM users
        WHERE email = LOWER(p_email);

        IF v_user_count > 0 THEN
            out_success := 0;
            out_error_code := 'EMAIL_ALREADY_EXISTS';
            out_user_id := NULL;
            RETURN;
        END IF;

        -- 2. Iniciar transacción (implícita en PL/SQL)

        -- 3. Crear el usuario en la tabla 'users'
        INSERT INTO users (email, first_name, last_name)
        VALUES (LOWER(p_email), p_first_name, p_last_name)
        RETURNING user_id INTO v_new_user_id;

        -- 4. Crear la identidad en la tabla 'identities'
        INSERT INTO USER_AUTH_IDENTITIES(user_id, provider, EMAIL, password_hash, EMAIL_VERIFIED, PROVIDER_USER_ID)
        VALUES (v_new_user_id, 'credentials', LOWER(p_email), p_password_hash, 1, LOWER(p_email));

        -- 5. Finalizar transacción
        COMMIT;

        out_success := 1;
        out_error_code := NULL;
        out_user_id := v_new_user_id;

    EXCEPTION
        WHEN OTHERS THEN
            -- 6. Revertir todo si algo falla
            ROLLBACK;
            out_success := 0;
            out_error_code := SQLCODE || ': ' || SQLERRM;
            out_user_id := NULL;
    END SP_REGISTER_WITH_CREDENTIALS;

END AUTH_PKG;

/
--------------------------------------------------------
--  DDL for Package Body BOOKING_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."BOOKING_PKG" AS

    PROCEDURE get_bookings_by_tenant(
        p_tenant_id IN users.user_id%TYPE,
        p_bookings_cur OUT SYS_REFCURSOR
    ) IS
    BEGIN
        OPEN p_bookings_cur FOR
            SELECT b.BOOKING_ID,
                   b.PROPERTY_ID,
                   b.CHECKIN_DATE,
                   b.CHECKOUT_DATE,
                   b.STATUS,
                   b.GUEST_COUNT,
                   p.TITLE,
                   p.FORMATTED_ADDRESS,
                   p.CITY,
                   p.STATE_REGION,
                   p.COUNTRY,
                   b.TOTAL_AMOUNT,
                   u.FIRST_NAME,
                   u.LAST_NAME,
                   b.HOST_NOTE,
                   (SELECT pi.URL
                    FROM PROPERTY_IMAGES pi
                    WHERE pi.PROPERTY_ID = p.PROPERTY_ID
                      AND pi.SORT_ORDER = 1
                      AND ROWNUM = 1) AS URL
            FROM bookings b
                     JOIN properties p ON b.property_id = p.property_id
                     JOIN users u ON p.HOST_ID = u.user_id
            WHERE b.tenant_id = p_tenant_id;

    END get_bookings_by_tenant;


    PROCEDURE get_bookings_by_host(
        p_host_id IN users.user_id%TYPE,
        p_bookings_cur OUT SYS_REFCURSOR
    ) IS
    BEGIN
        OPEN p_bookings_cur FOR
            SELECT b.BOOKING_ID,
                   b.CHECKIN_DATE,
                   b.CHECKOUT_DATE,
                   b.STATUS,
                   b.GUEST_COUNT,
                   b.TOTAL_AMOUNT,
                   p.TITLE             AS property_title,
                   u_tenant.FIRST_NAME AS tenant_first_name,
                   u_tenant.LAST_NAME  AS tenant_last_name,
                   pi.URL
            FROM bookings b
                     JOIN properties p ON b.property_id = p.property_id
                -- Traer al Huésped (tenant)
                     JOIN users u_tenant ON b.tenant_id = u_tenant.user_id
                -- Traer la imagen (sin que se rompa si no hay)
                     LEFT JOIN property_images pi ON p.property_id = pi.property_id AND pi.SORT_ORDER = 1
            -- Filtrar por el Anfitrión (Host)
            WHERE p.host_id = p_host_id;

    END get_bookings_by_host;


    PROCEDURE get_detailed_booking_info(
        p_booking_id IN bookings.booking_id%TYPE,
        p_user_id IN users.user_id%TYPE,
        p_booking_info_cur OUT SYS_REFCURSOR
    ) IS
    BEGIN
        OPEN p_booking_info_cur FOR
            SELECT
                -- Datos de la reserva (BOOKINGS)
                b.BOOKING_ID,
                b.STATUS,
                b.CHECKIN_DATE,
                b.CHECKOUT_DATE,
                b.GUEST_COUNT,
                b.TOTAL_AMOUNT,
                b.PRICE_NIGHTS      AS BASE_PRICE,
                b.SERVICE_FEE,
                b.CLEANING_FEE,
                b.TAXES,
                b.CREATED_AT,
                b.COMPLETED_AT,
                b.HOST_NOTE,
                b.TENANT_NOTE       AS GUEST_MESSAGE,
                b.CHECKIN_CODE,

                -- Datos del Huésped (USERS)
                t.USER_ID           AS TENANT_ID,
                t.FIRST_NAME        AS GUEST_FIRST_NAME,
                t.LAST_NAME         AS GUEST_LAST_NAME,
                t.EMAIL             AS GUEST_EMAIL,
                t.PHONE_NUMBER      AS GUEST_PHONE,
                -- (Se omite profileImageUrl ya que no existe en la tabla USERS)

                -- Datos de la Propiedad (PROPERTIES)
                p.PROPERTY_ID,
                p.TITLE             AS PROPERTY_NAME,
                p.HOST_ID,
                p.FORMATTED_ADDRESS AS PROPERTY_ADDRESS,

                -- Datos de Pagos (PAYMENTS)
                pm.STATUS           AS PAYMENT_STATUS,
                pm.MESSAGE          AS PAYMENT_MESSAGE,

                -- Datos de Reseñas (REVIEWS)
                -- (hasHostReview: ¿El anfitrión (p.HOST_ID) es el autor de una reseña para esta reserva?)
                (
                    CASE
                        WHEN EXISTS (SELECT 1
                                     FROM REVIEWS r
                                     WHERE r.booking_id = b.booking_id
                                       AND r.AUTHOR_USER_ID = p.HOST_ID) THEN 1
                        ELSE 0 END
                    )               AS HAS_HOST_REVIEW,

                -- (hasGuestReview: ¿El huésped (b.TENANT_ID) es el autor de una reseña para esta reserva?)
                (
                    CASE
                        WHEN EXISTS (SELECT 1
                                     FROM REVIEWS r
                                     WHERE r.booking_id = b.booking_id
                                       AND r.AUTHOR_USER_ID = b.TENANT_ID) THEN 1
                        ELSE 0 END
                    )               AS HAS_GUEST_REVIEW

            FROM BOOKINGS b
                     JOIN
                 PROPERTIES p ON b.PROPERTY_ID = p.PROPERTY_ID
                     JOIN
                 USERS t ON b.TENANT_ID = t.USER_ID
                     LEFT JOIN -- (Usamos LEFT JOIN por si el pago aún no existe)
                PAYMENTS pm ON b.booking_id = pm.booking_id
            WHERE
              -- 1. Filtra por la reserva específica
                b.BOOKING_ID = p_booking_id

              -- 2. Comprobación de seguridad
              AND (
                -- El que pregunta es el huésped
                b.TENANT_ID = p_user_id
                    -- O el que pregunta es el anfitrión
                    OR p.HOST_ID = p_user_id
                );

    END get_detailed_booking_info;
END BOOKING_PKG;

/
--------------------------------------------------------
--  DDL for Package Body CALENDAR_AVAILABILITY_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."CALENDAR_AVAILABILITY_PKG" AS

    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_GET_PROPERTY_AVAILABILITY
    -- Devuelve la disponibilidad día por día de una propiedad en un rango de fechas
    -- NOTA: ahora considera también STATUS = 'ACCEPTED' como días ocupados.
    ------------------------------------------------------------------------------
    PROCEDURE SP_GET_PROPERTY_AVAILABILITY(
        P_PROPERTY_ID             IN NUMBER,
        P_START_DATE              IN VARCHAR2,
        P_END_DATE                IN VARCHAR2,
        OUT_AVAILABILITY_CURSOR   OUT SYS_REFCURSOR,
        OUT_ERROR_CODE            OUT VARCHAR2
    ) IS
        v_start_date  DATE;
        v_end_date    DATE;
        v_date_count  NUMBER := 0;
    BEGIN
        -- Convertir strings a DATE
        BEGIN
            v_start_date := TO_DATE(P_START_DATE, 'YYYY-MM-DD');
            v_end_date   := TO_DATE(P_END_DATE, 'YYYY-MM-DD');
        EXCEPTION
            WHEN OTHERS THEN
                OUT_ERROR_CODE := 'Formato de fecha inválido. Use YYYY-MM-DD';
                RETURN;
        END;

        IF v_start_date > v_end_date THEN
            OUT_ERROR_CODE := 'La fecha de inicio debe ser menor o igual a la fecha de fin';
            RETURN;
        END IF;

        v_date_count := v_end_date - v_start_date + 1;

        IF v_date_count > 0 THEN
            OPEN OUT_AVAILABILITY_CURSOR FOR
                WITH date_range AS (
                    SELECT v_start_date + LEVEL - 1 AS check_date
                    FROM DUAL
                    CONNECT BY LEVEL <= v_date_count
                ),
                booked_dates AS (
                    SELECT DISTINCT
                        TRUNC(b.CHECKIN_DATE) + LEVEL - 1 AS occupied_date
                    FROM BOOKINGS b
                    WHERE b.PROPERTY_ID = P_PROPERTY_ID
                      -- incluir ACCEPTED como estado que ocupa fechas
                      AND b.STATUS IN ('CONFIRMED', 'PENDING', 'ACCEPTED')
                      AND b.CHECKOUT_DATE >= v_start_date
                      AND b.CHECKIN_DATE <= v_end_date
                    CONNECT BY LEVEL <= (TRUNC(b.CHECKOUT_DATE) - TRUNC(b.CHECKIN_DATE))
                      AND PRIOR b.BOOKING_ID = b.BOOKING_ID
                      AND PRIOR SYS_GUID() IS NOT NULL
                ),
                availability_rules AS (
                    SELECT a.START_DATE, a.END_DATE, a.KIND
                    FROM AVAILABILITIES a
                    WHERE a.PROPERTY_ID = P_PROPERTY_ID
                      AND a.END_DATE >= v_start_date
                      AND a.START_DATE <= v_end_date
                )
                SELECT
                    TO_CHAR(dr.check_date, 'YYYY-MM-DD') AS DATE_STR,
                    CASE
                        WHEN bd.occupied_date IS NOT NULL THEN 0
                        WHEN EXISTS (
                            SELECT 1
                            FROM availability_rules ar
                            WHERE dr.check_date BETWEEN ar.START_DATE AND ar.END_DATE
                              AND ar.KIND = 'BLOCKED'
                        ) THEN 0
                        WHEN EXISTS (
                            SELECT 1
                            FROM availability_rules ar
                            WHERE dr.check_date BETWEEN ar.START_DATE AND ar.END_DATE
                              AND ar.KIND = 'MAINTENANCE'
                        ) THEN 0
                        ELSE 1
                    END AS IS_AVAILABLE,
                    CASE
                        WHEN bd.occupied_date IS NOT NULL THEN 'booked'
                        WHEN EXISTS (
                            SELECT 1
                            FROM availability_rules ar
                            WHERE dr.check_date BETWEEN ar.START_DATE AND ar.END_DATE
                              AND ar.KIND = 'BLOCKED'
                        ) THEN 'blocked'
                        WHEN EXISTS (
                            SELECT 1
                            FROM availability_rules ar
                            WHERE dr.check_date BETWEEN ar.START_DATE AND ar.END_DATE
                              AND ar.KIND = 'MAINTENANCE'
                        ) THEN 'maintenance'
                        ELSE 'available'
                    END AS REASON
                FROM date_range dr
                LEFT JOIN booked_dates bd ON TRUNC(dr.check_date) = TRUNC(bd.occupied_date)
                ORDER BY dr.check_date;
        ELSE
            OPEN OUT_AVAILABILITY_CURSOR FOR
                SELECT CAST(NULL AS VARCHAR2(10)) AS DATE_STR,
                       CAST(NULL AS NUMBER) AS IS_AVAILABLE,
                       CAST(NULL AS VARCHAR2(20)) AS REASON
                FROM DUAL WHERE 1=0;
        END IF;

        OUT_ERROR_CODE := NULL;

    EXCEPTION
        WHEN OTHERS THEN
            OUT_ERROR_CODE := 'Error al obtener disponibilidad: ' || SQLERRM;
    END SP_GET_PROPERTY_AVAILABILITY;


    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_CHECK_RANGE_AVAILABILITY
    -- Verifica si un rango de fechas está completamente disponible para reserva
    -- NOTA: ahora considera también STATUS = 'ACCEPTED' como días ocupados.
    ------------------------------------------------------------------------------
    PROCEDURE SP_CHECK_RANGE_AVAILABILITY(
        P_PROPERTY_ID     IN NUMBER,
        P_CHECKIN_DATE    IN VARCHAR2,
        P_CHECKOUT_DATE   IN VARCHAR2,
        OUT_IS_AVAILABLE  OUT NUMBER,
        OUT_ERROR_CODE    OUT VARCHAR2
    ) IS
        v_checkin_date       DATE;
        v_checkout_date      DATE;
        v_adjusted_checkout  DATE;
        v_unavailable_days   NUMBER;
    BEGIN
        BEGIN
            v_checkin_date  := TO_DATE(P_CHECKIN_DATE, 'YYYY-MM-DD');
            v_checkout_date := TO_DATE(P_CHECKOUT_DATE, 'YYYY-MM-DD');
        EXCEPTION
            WHEN OTHERS THEN
                OUT_ERROR_CODE := 'Formato de fecha inválido. Use YYYY-MM-DD';
                OUT_IS_AVAILABLE := 0;
                RETURN;
        END;

        v_adjusted_checkout := v_checkout_date - 1;

        SELECT COUNT(*)
        INTO v_unavailable_days
        FROM (
            WITH date_range AS (
                SELECT v_checkin_date + LEVEL - 1 AS check_date
                FROM DUAL
                CONNECT BY LEVEL <= (v_adjusted_checkout - v_checkin_date + 1)
            ),
            booked_dates AS (
                SELECT DISTINCT
                    TRUNC(b.CHECKIN_DATE) + LEVEL - 1 AS occupied_date
                FROM BOOKINGS b
                WHERE b.PROPERTY_ID = P_PROPERTY_ID
                  -- incluir ACCEPTED aquí también
                  AND b.STATUS IN ('CONFIRMED', 'PENDING', 'ACCEPTED')
                  AND b.CHECKOUT_DATE >= v_checkin_date
                  AND b.CHECKIN_DATE <= v_adjusted_checkout
                CONNECT BY LEVEL <= (TRUNC(b.CHECKOUT_DATE) - TRUNC(b.CHECKIN_DATE))
                  AND PRIOR b.BOOKING_ID = b.BOOKING_ID
                  AND PRIOR SYS_GUID() IS NOT NULL
            ),
            availability_blocks AS (
                SELECT START_DATE, END_DATE, KIND
                FROM AVAILABILITIES
                WHERE PROPERTY_ID = P_PROPERTY_ID
                  AND END_DATE >= v_checkin_date
                  AND START_DATE <= v_adjusted_checkout
            )
            SELECT dr.check_date
            FROM date_range dr
            WHERE (
                EXISTS (SELECT 1 FROM booked_dates bd WHERE bd.occupied_date = TRUNC(dr.check_date))
                OR
                EXISTS (
                    SELECT 1 FROM availability_blocks ab
                    WHERE dr.check_date BETWEEN ab.START_DATE AND ab.END_DATE
                      AND ab.KIND = 'BLOCKED'
                )
                OR
                EXISTS (
                    SELECT 1 FROM availability_blocks ab
                    WHERE dr.check_date BETWEEN ab.START_DATE AND ab.END_DATE
                      AND ab.KIND = 'MAINTENANCE'
                )
            )
        );

        IF v_unavailable_days = 0 THEN
            OUT_IS_AVAILABLE := 1;
        ELSE
            OUT_IS_AVAILABLE := 0;
        END IF;

        OUT_ERROR_CODE := NULL;

    EXCEPTION
        WHEN OTHERS THEN
            OUT_ERROR_CODE := 'Error al verificar disponibilidad: ' || SQLERRM;
            OUT_IS_AVAILABLE := 0;
    END SP_CHECK_RANGE_AVAILABILITY;


    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_GET_NEXT_AVAILABLE_DATES
    -- Obtiene las próximas N fechas disponibles a partir de hoy
    -- NOTA: ahora considera también STATUS = 'ACCEPTED' como días ocupados.
    ------------------------------------------------------------------------------
    PROCEDURE SP_GET_NEXT_AVAILABLE_DATES(
        P_PROPERTY_ID       IN NUMBER,
        P_COUNT             IN NUMBER DEFAULT 5,
        OUT_DATES_CURSOR    OUT SYS_REFCURSOR,
        OUT_ERROR_CODE      OUT VARCHAR2
    ) IS
        v_date_count NUMBER := 0;
    BEGIN
        v_date_count := NVL(P_COUNT, 5);

        IF v_date_count > 0 THEN
            OPEN OUT_DATES_CURSOR FOR
                WITH future_dates AS (
                    SELECT TRUNC(SYSDATE) + LEVEL - 1 AS check_date
                    FROM DUAL
                    CONNECT BY LEVEL <= 90
                ),
                booked_dates AS (
                    SELECT DISTINCT
                        TRUNC(b.CHECKIN_DATE) + LEVEL - 1 AS occupied_date
                    FROM BOOKINGS b
                    WHERE b.PROPERTY_ID = P_PROPERTY_ID
                      -- incluir ACCEPTED también
                      AND b.STATUS IN ('CONFIRMED', 'PENDING', 'ACCEPTED')
                      AND b.CHECKOUT_DATE >= TRUNC(SYSDATE)
                    CONNECT BY LEVEL <= (TRUNC(b.CHECKOUT_DATE) - TRUNC(b.CHECKIN_DATE))
                      AND PRIOR b.BOOKING_ID = b.BOOKING_ID
                      AND PRIOR SYS_GUID() IS NOT NULL
                ),
                availability_blocks AS (
                    SELECT START_DATE, END_DATE, KIND
                    FROM AVAILABILITIES
                    WHERE PROPERTY_ID = P_PROPERTY_ID
                      AND END_DATE >= TRUNC(SYSDATE)
                ),
                available_dates AS (
                    SELECT
                        fd.check_date,
                        CASE
                            WHEN bd.occupied_date IS NOT NULL THEN 0
                            WHEN EXISTS (
                                SELECT 1
                                FROM availability_blocks ab
                                WHERE fd.check_date BETWEEN ab.START_DATE AND ab.END_DATE
                                  AND ab.KIND = 'BLOCKED'
                            ) THEN 0
                            WHEN EXISTS (
                                SELECT 1
                                FROM availability_blocks ab
                                WHERE fd.check_date BETWEEN ab.START_DATE AND ab.END_DATE
                                  AND ab.KIND = 'MAINTENANCE'
                            ) THEN 0
                            ELSE 1
                        END AS is_available
                    FROM future_dates fd
                    LEFT JOIN booked_dates bd ON fd.check_date = bd.occupied_date
                )
                SELECT TO_CHAR(check_date, 'YYYY-MM-DD') AS AVAILABLE_DATE
                FROM available_dates
                WHERE is_available = 1
                  AND ROWNUM <= v_date_count
                ORDER BY check_date;
        ELSE
            OPEN OUT_DATES_CURSOR FOR
                SELECT CAST(NULL AS VARCHAR2(10)) AS AVAILABLE_DATE
                FROM DUAL WHERE 1=0;
        END IF;

        OUT_ERROR_CODE := NULL;

    EXCEPTION
        WHEN OTHERS THEN
            OUT_ERROR_CODE := 'Error al obtener fechas disponibles: ' || SQLERRM;
    END SP_GET_NEXT_AVAILABLE_DATES;

END CALENDAR_AVAILABILITY_PKG;

/
--------------------------------------------------------
--  DDL for Package Body FILTER_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."FILTER_PKG" AS

  PROCEDURE SP_SEARCH_PROPERTIES(
    p_city         IN VARCHAR2 DEFAULT NULL,
    p_min_price    IN NUMBER DEFAULT NULL,
    p_max_price    IN NUMBER DEFAULT NULL,
    p_rooms        IN NUMBER DEFAULT NULL,
    p_beds         IN NUMBER DEFAULT NULL,
    p_baths        IN NUMBER DEFAULT NULL,
    p_max_adults   IN NUMBER DEFAULT NULL,
    p_max_children IN NUMBER DEFAULT NULL,
    p_max_baby     IN NUMBER DEFAULT NULL,
    p_max_pet      IN NUMBER DEFAULT NULL,
    p_start_date   IN DATE DEFAULT NULL,
    p_end_date     IN DATE DEFAULT NULL,
    p_lat_min      IN NUMBER DEFAULT NULL,
    p_lat_max      IN NUMBER DEFAULT NULL,
    p_lng_min      IN NUMBER DEFAULT NULL,
    p_lng_max      IN NUMBER DEFAULT NULL,
    p_amenities    IN SYS.ODCINUMBERLIST DEFAULT NULL,
    p_result_set   OUT SYS_REFCURSOR
  ) AS
  BEGIN
    OPEN p_result_set FOR
      SELECT
        p.PROPERTY_ID,
        p.TITLE,
        p.BASE_PRICE_NIGHT,
        p.CURRENCY_CODE,
        p.ADDRESS_TEXT,
        p.FORMATTED_ADDRESS,
        p.CITY,
        p.STATE_REGION,
        p.COUNTRY,
        p.POSTAL_CODE,
        p.LATITUDE,
        p.LONGITUDE,
        p.STATUS,
        p.CREATED_AT,
        i.URL AS MAIN_IMAGE,
        -- Optimización 1: Cálculo escalar para evitar GROUP BY masivo
        (SELECT AVG(r.RATING)
           FROM REVIEWS r
          WHERE r.PROPERTY_ID = p.PROPERTY_ID) AS AVG_RATING
      FROM PROPERTIES p
      -- Optimización 2: Un solo JOIN a DETAILS en lugar de 7 subconsultas EXISTS
      JOIN PROPERTY_DETAILS d
        ON p.PROPERTY_ID = d.PROPERTY_ID
      LEFT JOIN PROPERTY_IMAGES i
        ON p.PROPERTY_ID = i.PROPERTY_ID
       AND i.SORT_ORDER = 0
      WHERE
            (p_city IS NULL OR p.STATE_REGION = p_city)
        AND (p_min_price IS NULL OR p.BASE_PRICE_NIGHT >= p_min_price)
        AND (p_max_price IS NULL OR p.BASE_PRICE_NIGHT <= p_max_price)
        -- Filtros directos sobre el alias 'd' (mucho más rápido)
        AND (p_rooms IS NULL OR d.BEDROOMS >= p_rooms)
        AND (p_beds IS NULL OR d.BEDS >= p_beds)
        AND (p_baths IS NULL OR d.BATHROOMS >= p_baths)
        AND (p_max_adults IS NULL OR d.MAX_ADULTS >= p_max_adults)
        AND (p_max_children IS NULL OR d.MAX_CHILDREN >= p_max_children)
        AND (p_max_baby IS NULL OR d.MAX_BABY >= p_max_baby)
        AND (p_max_pet IS NULL OR d.MAX_PETS >= p_max_pet)
        -- Filtro Geográfico
        AND (p_lat_min IS NULL OR p.LATITUDE BETWEEN p_lat_min AND p_lat_max)
        AND (p_lng_min IS NULL OR p.LONGITUDE BETWEEN p_lng_min AND p_lng_max)
        -- Filtro Disponibilidad
        AND (
             p_start_date IS NULL OR p_end_date IS NULL
             OR NOT EXISTS (
                SELECT 1 FROM BOOKINGS b
                 WHERE b.PROPERTY_ID = p.PROPERTY_ID
                   AND b.CHECKOUT_DATE > p_start_date
                   AND b.CHECKIN_DATE < p_end_date
             )
        )
        -- Filtro Amenities (Mantenemos EXISTS porque es una relación 1 a muchos)
        AND (p_amenities IS NULL OR EXISTS (
              SELECT 1
                FROM PROPERTY_AMENITIES pa
                JOIN TABLE(p_amenities) t ON pa.AMENITY_ID = t.COLUMN_VALUE
               WHERE pa.PROPERTY_ID = p.PROPERTY_ID
        ));
  END SP_SEARCH_PROPERTIES;

END FILTER_PKG;

/
--------------------------------------------------------
--  DDL for Package Body HOST_DASHBOARD_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."HOST_DASHBOARD_PKG" AS

  -- Procedimiento: Obtener estadísticas generales del host
  -- =========================================
  PROCEDURE GET_HOST_STATS (
    p_host_id IN NUMBER,
    p_stats_cursor OUT SYS_REFCURSOR
  ) AS
  BEGIN
    OPEN p_stats_cursor FOR
      SELECT
        -- 1. 📅 Reservas Totales (Volumen)
        -- Cantidad de reservas confirmadas o completadas
        (SELECT COUNT(b.BOOKING_ID)
         FROM BOOKINGS b
         INNER JOIN PROPERTIES p ON b.PROPERTY_ID = p.PROPERTY_ID
         WHERE p.HOST_ID = p_host_id
           AND UPPER(b.STATUS) IN ('CONFIRMED', 'COMPLETED', 'ACCEPTED')
        ) AS TOTAL_BOOKINGS,

        -- 2. 💰 Ingresos Totales (Rendimiento)
        -- Suma total de dinero generado
        (SELECT NVL(SUM(b.TOTAL_AMOUNT), 0)
         FROM BOOKINGS b
         INNER JOIN PROPERTIES p ON b.PROPERTY_ID = p.PROPERTY_ID
         WHERE p.HOST_ID = p_host_id
           AND UPPER(b.STATUS) IN ('CONFIRMED', 'COMPLETED')
        ) AS TOTAL_REVENUE,

        -- 3. ⭐ Calificación Promedio (Calidad)
        -- Promedio de estrellas de reviews publicadas donde el host es el receptor
        (SELECT NVL(ROUND(AVG(r.RATING), 2), 0)
         FROM REVIEWS r
         WHERE r.TARGET_USER_ID = p_host_id
           AND r.FOR_HOST = 0  -- Reviews donde tenant opina sobre host
           AND r.IS_PUBLISHED = 1
           AND r.RATING > 0
        ) AS AVERAGE_RATING,

        -- 4. 🎫 Ticket Promedio (Valor)
        -- Valor promedio de cada reserva
        (SELECT NVL(ROUND(AVG(b.TOTAL_AMOUNT), 2), 0)
         FROM BOOKINGS b
         INNER JOIN PROPERTIES p ON b.PROPERTY_ID = p.PROPERTY_ID
         WHERE p.HOST_ID = p_host_id
           AND UPPER(b.STATUS) IN ('CONFIRMED', 'COMPLETED')
           AND b.TOTAL_AMOUNT > 0
        ) AS AVERAGE_TICKET,

        -- MÉTRICAS ADICIONALES

        -- Total de reseñas recibidas (publicadas)
        (SELECT COUNT(r.REVIEW_ID)
         FROM REVIEWS r
         WHERE r.TARGET_USER_ID = p_host_id
           AND r.FOR_HOST = 0
           AND r.IS_PUBLISHED = 1
        ) AS TOTAL_REVIEWS,

        -- Total de propiedades del host
        (SELECT COUNT(p.PROPERTY_ID)
         FROM PROPERTIES p
         WHERE p.HOST_ID = p_host_id
           AND UPPER(NVL(p.STATUS, 'ACTIVE')) = 'ACTIVE'
        ) AS TOTAL_PROPERTIES,

        -- Reservas activas (confirmadas pero no completadas aún)
        (SELECT COUNT(b.BOOKING_ID)
         FROM BOOKINGS b
         INNER JOIN PROPERTIES p ON b.PROPERTY_ID = p.PROPERTY_ID
         WHERE p.HOST_ID = p_host_id
           AND UPPER(b.STATUS) IN ('CONFIRMED', 'ACCEPTED')
           AND b.CHECKOUT_DATE >= SYSDATE
        ) AS ACTIVE_BOOKINGS

      FROM DUAL;

  END GET_HOST_STATS;


  -- Procedimiento: Obtener actividad reciente del host
  -- =========================================
  PROCEDURE GET_HOST_RECENT_ACTIVITY (
    p_host_id IN NUMBER,
    p_activity_cursor OUT SYS_REFCURSOR,
    p_limit IN NUMBER DEFAULT 10
  ) AS
  BEGIN
    OPEN p_activity_cursor FOR
      SELECT * FROM (
        -- Reservas confirmadas
        SELECT
          'booking' AS ACTIVITY_TYPE,
          b.BOOKING_ID AS ACTIVITY_ID,
          'Nueva reserva confirmada' AS TITLE,
          u.FIRST_NAME || ' ' || u.LAST_NAME || ' - ' ||
          prop.TITLE || ', ' ||
          TO_CHAR(b.CHECKIN_DATE, 'DD Mon') || '-' ||
          TO_CHAR(b.CHECKOUT_DATE, 'DD Mon') AS DESCRIPTION,
          b.CREATED_AT AS ACTIVITY_DATE,
          'confirmed' AS STATUS
        FROM BOOKINGS b
        INNER JOIN PROPERTIES prop ON b.PROPERTY_ID = prop.PROPERTY_ID
        INNER JOIN TENANTS t ON b.TENANT_ID = t.TENANT_ID
        INNER JOIN USERS u ON t.TENANT_ID = u.USER_ID
        WHERE prop.HOST_ID = p_host_id
          AND UPPER(b.STATUS) IN ('CONFIRMED', 'ACCEPTED')

        UNION ALL

        -- Reseñas recibidas
        SELECT
          'review' AS ACTIVITY_TYPE,
          r.REVIEW_ID AS ACTIVITY_ID,
          'Nueva reseña recibida' AS TITLE,
          r.RATING || ' estrellas de ' ||
          u.FIRST_NAME || ' ' || u.LAST_NAME || ' - ' ||
          prop.TITLE AS DESCRIPTION,
          r.PUBLISHED_AT AS ACTIVITY_DATE,
          'review' AS STATUS
        FROM REVIEWS r
        INNER JOIN BOOKINGS b ON r.BOOKING_ID = b.BOOKING_ID
        INNER JOIN PROPERTIES prop ON b.PROPERTY_ID = prop.PROPERTY_ID
        INNER JOIN USERS u ON r.AUTHOR_USER_ID = u.USER_ID
        WHERE r.TARGET_USER_ID = p_host_id
          AND r.FOR_HOST = 0
          AND r.IS_PUBLISHED = 1

        UNION ALL

        -- Pagos procesados (bookings completados)
        SELECT
          'payment' AS ACTIVITY_TYPE,
          b.BOOKING_ID AS ACTIVITY_ID,
          'Pago procesado' AS TITLE,
          TO_CHAR(b.TOTAL_AMOUNT, 'FM999,999,990.00') || ' transferido a tu cuenta' AS DESCRIPTION,
          b.COMPLETED_AT AS ACTIVITY_DATE,
          'payment' AS STATUS
        FROM BOOKINGS b
        INNER JOIN PROPERTIES prop ON b.PROPERTY_ID = prop.PROPERTY_ID
        WHERE prop.HOST_ID = p_host_id
          AND UPPER(b.STATUS) = 'COMPLETED'
          AND b.COMPLETED_AT IS NOT NULL

        ORDER BY ACTIVITY_DATE DESC
      )
      WHERE ROWNUM <= p_limit;

  END GET_HOST_RECENT_ACTIVITY;

END HOST_DASHBOARD_PKG;

/
--------------------------------------------------------
--  DDL for Package Body PROPERTY_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."PROPERTY_PKG" AS

    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_CREATE_PROPERTY
    -- Crea una nueva propiedad, sus detalles, imágenes y amenities.
    ------------------------------------------------------------------------------
    PROCEDURE SP_CREATE_PROPERTY(
        P_HOST_ID IN PROPERTIES.HOST_ID%TYPE,
        P_PROPERTY_TYPE IN PROPERTIES.PROPERTY_TYPE%TYPE,
        P_TITLE IN PROPERTIES.TITLE%TYPE,
        P_BASE_PRICE_NIGHT IN PROPERTIES.BASE_PRICE_NIGHT%TYPE,
        P_CURRENCY_CODE IN PROPERTIES.CURRENCY_CODE%TYPE,
        P_ADDRESS_TEXT IN PROPERTIES.ADDRESS_TEXT%TYPE,
        P_CITY IN PROPERTIES.CITY%TYPE,
        P_STATE_REGION IN PROPERTIES.STATE_REGION%TYPE,
        P_COUNTRY IN PROPERTIES.COUNTRY%TYPE,
        P_POSTAL_CODE IN PROPERTIES.POSTAL_CODE%TYPE DEFAULT NULL,
        P_LATITUDE IN PROPERTIES.LATITUDE%TYPE DEFAULT NULL,
        P_LONGITUDE IN PROPERTIES.LONGITUDE%TYPE DEFAULT NULL,
        P_DESCRIPTION_LONG IN PROPERTY_DETAILS.DESCRIPTION_LONG%TYPE DEFAULT NULL,
        P_HOUSE_RULES IN PROPERTY_DETAILS.HOUSE_RULES%TYPE DEFAULT NULL,
        P_CHECKIN_TIME IN VARCHAR2 DEFAULT NULL,
        P_CHECKOUT_TIME IN VARCHAR2 DEFAULT NULL,
        P_CAPACITY IN PROPERTY_DETAILS.CAPACITY%TYPE DEFAULT 1,
        P_BEDROOMS IN PROPERTY_DETAILS.BEDROOMS%TYPE DEFAULT 0,
        P_BATHROOMS IN PROPERTY_DETAILS.BATHROOMS%TYPE DEFAULT 0,
        P_BEDS IN PROPERTY_DETAILS.BEDS%TYPE DEFAULT 0,
        P_AREA IN PROPERTY_DETAILS.AREA_M2%TYPE DEFAULT NULL,
        P_FLOOR_NUMBER IN PROPERTY_DETAILS.FLOOR_NUMBER%TYPE DEFAULT NULL,
        P_MAX_ADULTS IN PROPERTY_DETAILS.MAX_ADULTS%TYPE DEFAULT NULL,
        P_MAX_CHILDREN IN PROPERTY_DETAILS.MAX_CHILDREN%TYPE DEFAULT NULL,
        P_MAX_BABY IN PROPERTY_DETAILS.MAX_BABY%TYPE DEFAULT NULL,
        P_MAX_PETS IN PROPERTY_DETAILS.MAX_PETS%TYPE DEFAULT NULL,
        P_IMAGES IN CLOB DEFAULT NULL,
        P_AMENITIES IN CLOB DEFAULT NULL,
        OUT_PROPERTY_ID OUT PROPERTIES.PROPERTY_ID%TYPE,
        OUT_ERROR_CODE OUT VARCHAR2
    ) IS
        V_NEW_PROPERTY_ID PROPERTIES.PROPERTY_ID%TYPE;
        V_FORMATTED_ADDRESS PROPERTIES.FORMATTED_ADDRESS%TYPE;
        V_CHECKIN_DATE VARCHAR(5);
        V_CHECKOUT_DATE VARCHAR(5);
    BEGIN
        -- Generar la dirección completa (FORMATTED_ADDRESS)
        V_FORMATTED_ADDRESS := P_ADDRESS_TEXT || ', ' || P_CITY || ', ' || P_STATE_REGION || ', ' || P_COUNTRY;

        -- Convertir las horas de entrada/salida de String a DATE/Time
        IF P_CHECKIN_TIME IS NOT NULL THEN
            V_CHECKIN_DATE := SUBSTR(P_CHECKIN_TIME, 1, 5);
        ELSE
            V_CHECKIN_DATE := '15:00'; -- Default
        END IF;

        IF P_CHECKOUT_TIME IS NOT NULL THEN
            V_CHECKOUT_DATE := SUBSTR(P_CHECKOUT_TIME, 1, 5);
        ELSE
            V_CHECKOUT_DATE := '11:00'; -- Default
        END IF;

        -- 1. Obtener el nuevo PROPERTY_ID
        SELECT ISEQ$$_75860.NEXTVAL INTO V_NEW_PROPERTY_ID FROM DUAL;
        OUT_PROPERTY_ID := V_NEW_PROPERTY_ID;

        -- 2. Insertar en PROPERTIES
        INSERT INTO PROPERTIES (
            PROPERTY_ID, HOST_ID, PROPERTY_TYPE, TITLE, BASE_PRICE_NIGHT, CURRENCY_CODE,
            ADDRESS_TEXT, FORMATTED_ADDRESS, CITY, STATE_REGION, COUNTRY, POSTAL_CODE, LATITUDE, LONGITUDE, STATUS,
            CREATED_AT
        )
        VALUES (
            V_NEW_PROPERTY_ID, P_HOST_ID, P_PROPERTY_TYPE, P_TITLE, P_BASE_PRICE_NIGHT, P_CURRENCY_CODE,
            P_ADDRESS_TEXT, V_FORMATTED_ADDRESS, P_CITY, P_STATE_REGION, P_COUNTRY, P_POSTAL_CODE, P_LATITUDE, P_LONGITUDE,
            'ACTIVE',SYSDATE
        );

        -- 3. Insertar en PROPERTY_DETAILS
        INSERT INTO PROPERTY_DETAILS (
            PROPERTY_ID, DESCRIPTION_LONG, HOUSE_RULES, CHECKIN_TIME, CHECKOUT_TIME,
            CAPACITY, BEDROOMS, BATHROOMS, BEDS, AREA_M2, FLOOR_NUMBER,
            MAX_ADULTS, MAX_CHILDREN, MAX_BABY, MAX_PETS
        )
        VALUES (
            V_NEW_PROPERTY_ID, P_DESCRIPTION_LONG, P_HOUSE_RULES, V_CHECKIN_DATE, V_CHECKOUT_DATE,
            P_CAPACITY, P_BEDROOMS, P_BATHROOMS, P_BEDS, P_AREA, P_FLOOR_NUMBER,
            P_MAX_ADULTS, P_MAX_CHILDREN, P_MAX_BABY, P_MAX_PETS
        );

        -- 4. Insertar en PROPERTY_AMENITIES (Usando JSON_TABLE)
        IF P_AMENITIES IS NOT NULL THEN
            INSERT INTO PROPERTY_AMENITIES (PROPERTY_ID, AMENITY_ID)
            SELECT V_NEW_PROPERTY_ID, T.AMENITY_ID
            FROM JSON_TABLE(P_AMENITIES, '$[*]'
                COLUMNS (
                    AMENITY_ID VARCHAR2(10) PATH '$'
                )
            ) T;
        END IF;

        -- 5. Insertar en PROPERTY_IMAGES 
        IF P_IMAGES IS NOT NULL THEN
            INSERT INTO PROPERTY_IMAGES (PROPERTY_ID, URL, CAPTION, SORT_ORDER)
            SELECT V_NEW_PROPERTY_ID, T.URL, T.CAPTION, T.SORT_ORDER
            FROM JSON_TABLE(P_IMAGES, '$[*]'
                COLUMNS (
                    URL VARCHAR2(500) PATH '$.url',
                    CAPTION VARCHAR2(150) PATH '$.caption',
                    SORT_ORDER NUMBER PATH '$.sort_order'
                )
            ) T;
        END IF;

        -- 6. Confirmar la transacción
        COMMIT;
        OUT_ERROR_CODE := NULL; -- Éxito

    EXCEPTION
        WHEN OTHERS THEN
            ROLLBACK;
            OUT_PROPERTY_ID := NULL;
            OUT_ERROR_CODE := SQLERRM;

    END SP_CREATE_PROPERTY;

    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_UPDATE_PROPERTY
    ------------------------------------------------------------------------------
    PROCEDURE SP_UPDATE_PROPERTY(
        P_PROPERTY_ID IN PROPERTIES.PROPERTY_ID%TYPE,
        P_TITLE IN PROPERTIES.TITLE%TYPE DEFAULT NULL,
        P_BASE_PRICE_NIGHT IN PROPERTIES.BASE_PRICE_NIGHT%TYPE DEFAULT NULL,
        P_ADDRESS_TEXT IN PROPERTIES.ADDRESS_TEXT%TYPE DEFAULT NULL,
        P_CITY IN PROPERTIES.CITY%TYPE DEFAULT NULL,
        P_STATE_REGION IN PROPERTIES.STATE_REGION%TYPE DEFAULT NULL,
        P_COUNTRY IN PROPERTIES.COUNTRY%TYPE DEFAULT NULL,
        P_POSTAL_CODE IN PROPERTIES.POSTAL_CODE%TYPE DEFAULT NULL,
        P_LATITUDE IN PROPERTIES.LATITUDE%TYPE DEFAULT NULL,
        P_LONGITUDE IN PROPERTIES.LONGITUDE%TYPE DEFAULT NULL,
        P_DESCRIPTION_LONG IN PROPERTY_DETAILS.DESCRIPTION_LONG%TYPE DEFAULT NULL,
        P_HOUSE_RULES IN PROPERTY_DETAILS.HOUSE_RULES%TYPE DEFAULT NULL,
        P_CHECKIN_TIME IN PROPERTY_DETAILS.CHECKIN_TIME%TYPE DEFAULT NULL,
        P_CHECKOUT_TIME IN PROPERTY_DETAILS.CHECKOUT_TIME%TYPE DEFAULT NULL,
        P_CAPACITY IN PROPERTY_DETAILS.CAPACITY%TYPE DEFAULT NULL,
        P_BEDROOMS IN PROPERTY_DETAILS.BEDROOMS%TYPE DEFAULT NULL,
        P_BATHROOMS IN PROPERTY_DETAILS.BATHROOMS%TYPE DEFAULT NULL,
        P_BEDS IN PROPERTY_DETAILS.BEDS%TYPE DEFAULT NULL,
        OUT_ERROR_CODE OUT VARCHAR2
    ) IS
    BEGIN
        -- Paso 1: Actualizar la tabla principal PROPERTIES
        UPDATE PROPERTIES
        SET TITLE            = NVL(P_TITLE, TITLE),
            BASE_PRICE_NIGHT = NVL(P_BASE_PRICE_NIGHT, BASE_PRICE_NIGHT),
            ADDRESS_TEXT     = NVL(P_ADDRESS_TEXT, ADDRESS_TEXT),
            CITY             = NVL(P_CITY, CITY),
            STATE_REGION     = NVL(P_STATE_REGION, STATE_REGION),
            COUNTRY          = NVL(P_COUNTRY, COUNTRY),
            POSTAL_CODE      = NVL(P_POSTAL_CODE, POSTAL_CODE),
            LATITUDE         = NVL(P_LATITUDE, LATITUDE),
            LONGITUDE        = NVL(P_LONGITUDE, LONGITUDE)
        WHERE PROPERTY_ID = P_PROPERTY_ID;

        IF SQL%NOTFOUND THEN
            RAISE_APPLICATION_ERROR(-20001, 'Propiedad no encontrada');
        END IF;

        -- Paso 2: Actualizar la tabla de detalles PROPERTY_DETAILS
        UPDATE PROPERTY_DETAILS
        SET DESCRIPTION_LONG = NVL(P_DESCRIPTION_LONG, DESCRIPTION_LONG),
            HOUSE_RULES      = NVL(P_HOUSE_RULES, HOUSE_RULES),
            CHECKIN_TIME     = NVL(P_CHECKIN_TIME, CHECKIN_TIME),
            CHECKOUT_TIME    = NVL(P_CHECKOUT_TIME, CHECKOUT_TIME),
            CAPACITY         = NVL(P_CAPACITY, CAPACITY),
            BEDROOMS         = NVL(P_BEDROOMS, BEDROOMS),
            BATHROOMS        = NVL(P_BATHROOMS, BATHROOMS),
            BEDS             = NVL(P_BEDS, BEDS)
        WHERE PROPERTY_ID = P_PROPERTY_ID;

        -- Paso 3: Confirmar la transacción
        COMMIT;
        OUT_ERROR_CODE := NULL; -- Éxito

    EXCEPTION
        WHEN OTHERS THEN
            ROLLBACK;
            OUT_ERROR_CODE := SQLERRM;

    END SP_UPDATE_PROPERTY;

    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_GET_PROPERTY_PAGE_DETAILS
    -- Devuelve todos los datos necesarios para la página de detalle de una propiedad
    ------------------------------------------------------------------------------
    PROCEDURE SP_GET_PROPERTY_PAGE_DETAILS(
        P_PROPERTY_ID IN PROPERTIES.PROPERTY_ID%TYPE,
        OUT_DETAILS_CURSOR OUT SYS_REFCURSOR,
        OUT_IMAGES_CURSOR OUT SYS_REFCURSOR,
        OUT_AMENITIES_CURSOR OUT SYS_REFCURSOR,
        OUT_REVIEWS_SUMMARY_CUR OUT SYS_REFCURSOR,
        OUT_REVIEWS_LIST_CURSOR OUT SYS_REFCURSOR,
        OUT_ERROR_CODE OUT VARCHAR2
    ) IS
        v_img_count  NUMBER := 0;
        v_amen_count NUMBER := 0;
        v_rev_count  NUMBER := 0;
    BEGIN
        -- 1. Cursor de detalles (Propiedad + Detalles + Host)
        OPEN OUT_DETAILS_CURSOR FOR
            SELECT p.TITLE,
                   p.PROPERTY_TYPE,
                   p.BASE_PRICE_NIGHT,
                   p.CURRENCY_CODE,
                   p.FORMATTED_ADDRESS,
                   p.CITY,
                   p.STATE_REGION,
                   p.COUNTRY,
                   p.LATITUDE,
                   p.LONGITUDE,
                   pd.DESCRIPTION_LONG,
                   pd.HOUSE_RULES,
                   pd.CHECKIN_TIME,
                   pd.CHECKOUT_TIME,
                   pd.CAPACITY,
                   pd.BEDROOMS,
                   pd.BATHROOMS,
                   pd.BEDS,
                   u.FIRST_NAME  AS HOST_FIRST_NAME,
                   u.LAST_NAME   AS HOST_LAST_NAME,
                   h.IS_VERIFIED AS HOST_IS_VERIFIED,
                   h.CREATED_AT  AS HOST_JOINED_AT
            FROM PROPERTIES p
                     JOIN PROPERTY_DETAILS pd ON p.PROPERTY_ID = pd.PROPERTY_ID
                     JOIN HOSTS h ON p.HOST_ID = h.HOST_ID
                     JOIN USERS u ON h.HOST_ID = u.USER_ID
            WHERE p.PROPERTY_ID = P_PROPERTY_ID;

        -- 2. Cursor de imágenes
        SELECT COUNT(*)
        INTO v_img_count
        FROM PROPERTY_IMAGES
        WHERE PROPERTY_ID = P_PROPERTY_ID;

        IF v_img_count > 0 THEN
            OPEN OUT_IMAGES_CURSOR FOR
                SELECT URL, CAPTION
                FROM PROPERTY_IMAGES
                WHERE PROPERTY_ID = P_PROPERTY_ID
                ORDER BY SORT_ORDER;
        ELSE
            OPEN OUT_IMAGES_CURSOR FOR
                SELECT CAST(NULL AS VARCHAR2(500)) AS URL,
                       CAST(NULL AS VARCHAR2(150)) AS CAPTION
                FROM DUAL
                WHERE 1 = 0;
        END IF;

        -- 3. Cursor de amenities
        SELECT COUNT(*)
        INTO v_amen_count
        FROM PROPERTY_AMENITIES
        WHERE PROPERTY_ID = P_PROPERTY_ID;

        IF v_amen_count > 0 THEN
            OPEN OUT_AMENITIES_CURSOR FOR
                SELECT a.NAME, a.CODE, a.DESCRIPTION
                FROM PROPERTY_AMENITIES pa
                         JOIN AMENITIES a ON pa.AMENITY_ID = a.AMENITY_ID
                WHERE pa.PROPERTY_ID = P_PROPERTY_ID
                ORDER BY a.DISPLAY_ORDER, a.NAME;
        ELSE
            OPEN OUT_AMENITIES_CURSOR FOR
                SELECT NULL AS NAME, NULL AS CODE, NULL AS DESCRIPTION
                FROM DUAL
                WHERE 1 = 0;
        END IF;

        -- 4. Cursor de resumen de reseñas (siempre devuelve una fila)
        OPEN OUT_REVIEWS_SUMMARY_CUR FOR
            SELECT NVL(COUNT(R.REVIEW_ID), 0)      AS TOTAL_COUNT,
                   NVL(ROUND(AVG(R.RATING), 2), 0) AS AVERAGE_RATING
            FROM REVIEWS R
            WHERE R.PROPERTY_ID = P_PROPERTY_ID
              AND R.IS_PUBLISHED = 1
              AND R.FOR_HOST = 0;

        -- 5. Cursor de lista de reseñas (máx 5)
        SELECT COUNT(*)
        INTO v_rev_count
        FROM REVIEWS
        WHERE PROPERTY_ID = P_PROPERTY_ID
          AND IS_PUBLISHED = 1
          AND FOR_HOST = 0;

        IF v_rev_count > 0 THEN
            OPEN OUT_REVIEWS_LIST_CURSOR FOR
                SELECT R.RATING,
                       R.COMMENTS,  -- <<< CORREGIDO: Usando el nombre correcto de la columna
                       R.CREATED_AT,
                       U.FIRST_NAME AS AUTHOR_FIRST_NAME,
                       U.LAST_NAME  AS AUTHOR_LAST_NAME
                FROM REVIEWS R
                         JOIN USERS U ON R.AUTHOR_USER_ID = U.USER_ID
                WHERE R.PROPERTY_ID = P_PROPERTY_ID
                  AND R.IS_PUBLISHED = 1
                  AND R.FOR_HOST = 0
                ORDER BY R.CREATED_AT DESC
                    FETCH NEXT 5 ROWS ONLY;
        ELSE
            OPEN OUT_REVIEWS_LIST_CURSOR FOR
                SELECT NULL AS RATING,
                       NULL AS COMMENTS, -- <<< CORREGIDO: Consistencia en el alias
                       NULL AS CREATED_AT,
                       NULL AS AUTHOR_FIRST_NAME,
                       NULL AS AUTHOR_LAST_NAME
                FROM DUAL
                WHERE 1 = 0;
        END IF;

        OUT_ERROR_CODE := NULL;

    EXCEPTION
        WHEN OTHERS THEN
            OUT_ERROR_CODE := 'Error al obtener detalles: ' || SQLERRM;
    END SP_GET_PROPERTY_PAGE_DETAILS;

    ------------------------------------------------------------------------------
    -- PROCEDURE: SET_AVAILABILITY
    ------------------------------------------------------------------------------
    PROCEDURE SET_AVAILABILITY(
        P_PROPERTY_ID IN AVAILABILITIES.PROPERTY_ID%TYPE,
        P_START_DATE IN AVAILABILITIES.START_DATE%type,
        P_END_DATE IN AVAILABILITIES.END_DATE%type,
        P_KIND IN VARCHAR2,
        P_PRICE_PER_NIGHT IN AVAILABILITIES.PRICE_PER_NIGHT%type,
        P_ERROR_CODE OUT NUMBER
    )
    AS
        v_booking_count NUMBER;
        v_avail_count   NUMBER;
        E_BOOKING_CONFLICT EXCEPTION;
        E_AVAILABILITY_CONFLICT EXCEPTION;
    BEGIN
        p_error_code := 0;

        -- 1. Validación de regla de negocio (Conflictos con RESERVAS)
        IF P_KIND = 'BLOCKED' OR P_KIND = 'MAINTENANCE' THEN
            SELECT COUNT(*)
            INTO v_booking_count
            FROM BOOKINGS b
            WHERE b.PROPERTY_ID = P_PROPERTY_ID
              AND b.status = 'CONFIRMED'
              AND (b.CHECKIN_DATE < p_end_date AND b.CHECKOUT_DATE > p_start_date);

            IF v_booking_count > 0 THEN
                RAISE E_BOOKING_CONFLICT;
            END IF;
        END IF;

        -- 2. Validación: Conflicto con otros AJUSTES
        SELECT COUNT(*)
        INTO v_avail_count
        FROM AVAILABILITIES a
        WHERE a.PROPERTY_ID = P_PROPERTY_ID
          AND (a.START_DATE < p_end_date AND a.END_DATE > p_start_date);

        IF v_avail_count > 0 THEN
            RAISE E_AVAILABILITY_CONFLICT;
        END IF;

        -- 3. Inserción
        INSERT INTO AVAILABILITIES (PROPERTY_ID,
                                    START_DATE,
                                    END_DATE,
                                    KIND,
                                    PRICE_PER_NIGHT)
        VALUES (p_property_id,
                p_start_date,
                p_end_date,
                p_kind,
                P_PRICE_PER_NIGHT);

        COMMIT;

    EXCEPTION
        WHEN E_BOOKING_CONFLICT THEN
            p_error_code := 1;
        WHEN E_AVAILABILITY_CONFLICT THEN
            p_error_code := 2;
        WHEN OTHERS THEN
            ROLLBACK;
            p_error_code := -1;
    END SET_AVAILABILITY;

    ------------------------------------------------------------------------------
    -- PROCEDURE: SP_REMOVE_AVAILABILITY
    ------------------------------------------------------------------------------
    PROCEDURE SP_REMOVE_AVAILABILITY(
        P_PROPERTY_ID IN NUMBER,
        P_START_DATE IN DATE,
        P_END_DATE IN DATE,
        P_ROWS_DELETED OUT NUMBER,
        P_ERROR_CODE OUT NUMBER
    ) AS
    BEGIN
        P_ERROR_CODE := 0;
        P_ROWS_DELETED := 0;

        DECLARE
            V_COUNT NUMBER;
        BEGIN
            SELECT COUNT(*)
            INTO V_COUNT
            FROM PROPERTIES
            WHERE PROPERTY_ID = P_PROPERTY_ID;

            IF V_COUNT = 0 THEN
                P_ERROR_CODE := 1;
                RETURN;
            END IF;
        END;

        DELETE
        FROM AVAILABILITIES
        WHERE PROPERTY_ID = P_PROPERTY_ID
          AND KIND NOT IN ('default', 'reserved')
          AND (
            START_DATE <= P_END_DATE
                AND END_DATE >= P_START_DATE
            );

        P_ROWS_DELETED := SQL%ROWCOUNT;

        IF P_ROWS_DELETED = 0 THEN
            P_ERROR_CODE := 2;
            RETURN;
        END IF;

        COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
            ROLLBACK;
            P_ERROR_CODE := 99;
            P_ROWS_DELETED := 0;
    END SP_REMOVE_AVAILABILITY;

    ------------------------------------------------------------------------------
    -- FUNCTION: GET_CALENDAR
    ------------------------------------------------------------------------------
    FUNCTION GET_CALENDAR(
        p_property_id IN PROPERTIES.PROPERTY_ID%TYPE,
        p_month IN NUMBER,
        p_year IN NUMBER
    ) RETURN T_CALENDAR_DAY_TABLE PIPELINED
    AS
        v_current_day  DATE           := TO_DATE(p_year || '-' || p_month || '-01', 'YYYY-MM-DD');
        v_end_of_month DATE           := LAST_DAY(v_current_day);
        v_day_status   T_CALENDAR_DAY := T_CALENDAR_DAY(NULL, 0, 0, NULL);
        v_base_price   PROPERTIES.BASE_PRICE_NIGHT%TYPE;
        v_is_reserved  NUMBER;
        v_avail_rec    AVAILABILITIES%ROWTYPE;

    BEGIN
        -- 1. Obtenemos el precio base
        BEGIN
            SELECT p.BASE_PRICE_NIGHT
            INTO v_base_price
            FROM PROPERTIES p
            WHERE p.PROPERTY_ID = p_property_id;
        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                RETURN;
        END;

        -- 2. Iteramos por cada día del mes
        WHILE v_current_day <= v_end_of_month
            LOOP
                v_day_status.CAL_DATE := v_current_day;
                v_is_reserved := 0;
                v_avail_rec := NULL;

                -- 3. Prioridad #1: ¿Está reservado? (BOOKINGS)
                SELECT COUNT(*)
                INTO v_is_reserved
                FROM BOOKINGS b
                WHERE b.PROPERTY_ID = p_property_id
                  AND b.STATUS = 'CONFIRMED'
                  AND v_current_day >= b.CHECKIN_DATE
                  AND v_current_day < b.CHECKOUT_DATE;

                IF v_is_reserved > 0 THEN
                    v_day_status.IS_AVAILABLE := 0;
                    v_day_status.PRICE := NULL;
                    v_day_status.STATUS := 'reserved';
                ELSE
                    -- 4. Prioridad #2 y #3
                    BEGIN
                        SELECT *
                        INTO v_avail_rec
                        FROM (SELECT a.*
                              FROM AVAILABILITIES a
                              WHERE a.PROPERTY_ID = p_property_id
                                AND v_current_day >= a.START_DATE
                                AND v_current_day <= a.END_DATE
                              ORDER BY a.START_DATE)
                        WHERE ROWNUM = 1;

                        IF v_avail_rec.KIND IN ('blocked', 'maintenance') THEN
                            v_day_status.IS_AVAILABLE := 0;
                            v_day_status.PRICE := NULL;
                            v_day_status.STATUS := v_avail_rec.KIND;
                        ELSIF v_avail_rec.KIND = 'special' THEN
                            v_day_status.IS_AVAILABLE := 1;
                            v_day_status.PRICE := v_avail_rec.PRICE_PER_NIGHT;
                            v_day_status.STATUS := 'special';
                        END IF;

                    EXCEPTION
                        WHEN NO_DATA_FOUND THEN
                            -- 5. Prioridad #3: Precio Default
                            v_day_status.IS_AVAILABLE := 1;
                            v_day_status.PRICE := v_base_price;
                            v_day_status.STATUS := 'default';
                    END;
                END IF;

                PIPE ROW (v_day_status);

                v_current_day := v_current_day + 1;
            END LOOP;

        RETURN;
    END GET_CALENDAR;

    ------------------------------------------------------------------------------
    -- FUNCTION: FN_GET_PROPERTIES_BY_HOST
    ------------------------------------------------------------------------------
    FUNCTION FN_GET_PROPERTIES_BY_HOST(
        P_HOST_ID IN HOSTS.HOST_ID%TYPE
    )
        RETURN SYS_REFCURSOR
    AS
        OUT_PROPERTIES_CURSOR SYS_REFCURSOR;
    BEGIN
        OPEN OUT_PROPERTIES_CURSOR FOR
            SELECT P.PROPERTY_ID,
                   P.TITLE,
                   P.BASE_PRICE_NIGHT,
                   P.CITY,
                   P.LATITUDE,
                   P.LONGITUDE,
                   (SELECT URL
                    FROM PROPERTY_IMAGES
                    WHERE PROPERTY_ID = P.PROPERTY_ID
                    ORDER BY SORT_ORDER
                        FETCH FIRST 1 ROW ONLY)          AS MAIN_IMAGE_URL,
                   (SELECT NVL(ROUND(AVG(RATING), 2), 0)
                    FROM REVIEWS R
                    WHERE R.PROPERTY_ID = P.PROPERTY_ID) AS AVERAGE_RATING
            FROM PROPERTIES P
            WHERE P.HOST_ID = P_HOST_ID
            ORDER BY P.CREATED_AT DESC;

        RETURN OUT_PROPERTIES_CURSOR;

    END FN_GET_PROPERTIES_BY_HOST;

END PROPERTY_PKG;

/
--------------------------------------------------------
--  DDL for Package Body REVIEW_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."REVIEW_PKG" AS

    -- =========================================
    -- Procedimiento: GET_USER_PENDING_REVIEWS
    -- (MANTENER EXACTO COMO ESTÁ)
    -- =========================================
    PROCEDURE GET_USER_PENDING_REVIEWS (
        p_user_id IN NUMBER,
        p_pending_cursor OUT SYS_REFCURSOR
    ) AS
    BEGIN
        OPEN p_pending_cursor FOR
            SELECT
                r.REVIEW_ID,
                r.BOOKING_ID,
                r.AUTHOR_USER_ID AS USER_ID,
                CASE WHEN r.FOR_HOST = 1 THEN 'host' ELSE 'guest' END AS REVIEW_TYPE,
                r.CREATED_AT,
                r.IS_PUBLISHED,
                b.CHECKIN_DATE,
                b.CHECKOUT_DATE,
                b.STATUS AS BOOKING_STATUS,
                prop.PROPERTY_ID,
                NVL(prop.TITLE, 'Propiedad sin nombre') AS PROPERTY_TITLE,
                (SELECT pi.URL
                 FROM PROPERTY_IMAGES pi
                 WHERE pi.PROPERTY_ID = prop.PROPERTY_ID
                 ORDER BY pi.SORT_ORDER
                 FETCH FIRST 1 ROW ONLY) AS PROPERTY_IMAGE,
                NVL(prop.CITY, 'Ciudad') AS CITY,
                NVL(prop.STATE_REGION, 'Región') AS STATE_REGION,
                CASE
                    WHEN r.FOR_HOST = 0 THEN NVL(host.FIRST_NAME, 'Host')
                    WHEN r.FOR_HOST = 1 THEN NVL(tenant.FIRST_NAME, 'Huésped')
                END AS OTHER_USER_FIRST_NAME,
                CASE
                    WHEN r.FOR_HOST = 0 THEN NVL(host.LAST_NAME, '')
                    WHEN r.FOR_HOST = 1 THEN NVL(tenant.LAST_NAME, '')
                END AS OTHER_USER_LAST_NAME,
                CAST(NULL AS VARCHAR2(255)) AS OTHER_USER_IMAGE
            FROM REVIEWS r
            INNER JOIN BOOKINGS b ON r.BOOKING_ID = b.BOOKING_ID
            INNER JOIN PROPERTIES prop ON b.PROPERTY_ID = prop.PROPERTY_ID
            INNER JOIN HOSTS h ON prop.HOST_ID = h.HOST_ID
            INNER JOIN USERS host ON h.HOST_ID = host.USER_ID
            INNER JOIN TENANTS t ON b.TENANT_ID = t.TENANT_ID
            INNER JOIN USERS tenant ON t.TENANT_ID = tenant.USER_ID
            WHERE r.AUTHOR_USER_ID = p_user_id
              AND r.IS_PUBLISHED = 0
              AND r.RATING = 0
              AND UPPER(b.STATUS) = 'COMPLETED'
            ORDER BY r.CREATED_AT DESC;
    END GET_USER_PENDING_REVIEWS;

    -- =========================================
    -- Procedimiento: CREATE_REVIEW
    -- (MANTENER EXACTO COMO ESTÁ)
    -- =========================================
    PROCEDURE CREATE_REVIEW (
        p_booking_id IN NUMBER,
        p_reviewer_id IN NUMBER,
        p_review_type IN VARCHAR2,
        p_rating IN NUMBER,
        p_comment IN CLOB,
        p_review_id OUT NUMBER,
        p_success OUT NUMBER,
        p_message OUT VARCHAR2
    ) AS
        v_for_host NUMBER;
        v_review_count NUMBER;
    BEGIN
        -- Validar rating
        IF p_rating NOT BETWEEN 1 AND 5 THEN
            p_success := 0;
            p_message := 'Rating debe estar entre 1 y 5';
            RETURN;
        END IF;

        -- Convertir review_type a FOR_HOST
        IF p_review_type = 'guest' THEN
            v_for_host := 0;  -- Tenant opina
        ELSIF p_review_type = 'host' THEN
            v_for_host := 1;  -- Host opina
        ELSE
            p_success := 0;
            p_message := 'Tipo de reseña inválido';
            RETURN;
        END IF;

        -- Verificar que existe una reseña pendiente para este usuario
        SELECT COUNT(*)
        INTO v_review_count
        FROM REVIEWS
        WHERE BOOKING_ID = p_booking_id
          AND AUTHOR_USER_ID = p_reviewer_id
          AND FOR_HOST = v_for_host
          AND IS_PUBLISHED = 0
          AND RATING = 0;

        IF v_review_count = 0 THEN
            p_success := 0;
            p_message := 'No existe una reseña pendiente para este booking';
            RETURN;
        END IF;

        -- Actualizar la reseña pendiente
        UPDATE REVIEWS
        SET
            RATING = p_rating,
            COMMENTS = p_comment,
            IS_PUBLISHED = 1,
            PUBLISHED_AT = SYSTIMESTAMP
        WHERE BOOKING_ID = p_booking_id
          AND AUTHOR_USER_ID = p_reviewer_id
          AND FOR_HOST = v_for_host
          AND IS_PUBLISHED = 0
          AND RATING = 0
        RETURNING REVIEW_ID INTO p_review_id;

        COMMIT;
        p_success := 1;
        p_message := 'Reseña publicada exitosamente';

    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            p_success := 0;
            p_message := 'Reseña no encontrada';
        WHEN OTHERS THEN
            ROLLBACK;
            p_success := 0;
            p_message := 'Error al publicar reseña: ' || SQLERRM;
    END CREATE_REVIEW;

    -- =========================================
    -- Procedimiento: GET_HOST_RECEIVED_REVIEWS
    -- ACTUALIZADO: Usa V_HOST_REVIEWS_DETAIL
    -- =========================================
    PROCEDURE GET_HOST_RECEIVED_REVIEWS (
        p_host_id IN NUMBER,
        p_reviews_cursor OUT SYS_REFCURSOR
    ) AS
    BEGIN
        -- Consultar la vista para obtener reseñas detalladas
        OPEN p_reviews_cursor FOR
            SELECT
                REVIEW_ID,
                BOOKING_ID,
                REVIEWER_ID,
                RATING,
                COMMENTS AS REVIEW_COMMENT,  -- Mantener alias consistente
                CREATED_AT,
                REVIEWER_FIRST_NAME,
                REVIEWER_LAST_NAME,
                REVIEWER_IMAGE,
                PROPERTY_ID,
                PROPERTY_TITLE,
                CHECKIN_DATE,
                CHECKOUT_DATE
            FROM V_HOST_REVIEWS_DETAIL
            WHERE HOST_ID = p_host_id
            ORDER BY CREATED_AT DESC;

    EXCEPTION
        WHEN OTHERS THEN
            -- En caso de error, abrir cursor vacío
            OPEN p_reviews_cursor FOR
                SELECT
                    NULL AS REVIEW_ID,
                    NULL AS BOOKING_ID,
                    NULL AS REVIEWER_ID,
                    NULL AS RATING,
                    NULL AS REVIEW_COMMENT,
                    NULL AS CREATED_AT,
                    NULL AS REVIEWER_FIRST_NAME,
                    NULL AS REVIEWER_LAST_NAME,
                    NULL AS REVIEWER_IMAGE,
                    NULL AS PROPERTY_ID,
                    NULL AS PROPERTY_TITLE,
                    NULL AS CHECKIN_DATE,
                    NULL AS CHECKOUT_DATE
                FROM DUAL
                WHERE 1 = 0;
    END GET_HOST_RECEIVED_REVIEWS;

    -- =========================================
    -- Procedimiento: GET_HOST_REVIEW_STATS (NUEVO)
    -- Usa V_HOST_REVIEW_STATS para estadísticas
    -- =========================================
    PROCEDURE GET_HOST_REVIEW_STATS (
        p_host_id IN NUMBER,
        p_stats_cursor OUT SYS_REFCURSOR
    ) AS
    BEGIN
        -- Consultar la vista de estadísticas
        OPEN p_stats_cursor FOR
            SELECT
                HOST_ID,
                TOTAL_REVIEWS,
                AVERAGE_RATING,
                RATING_5_COUNT,
                RATING_4_COUNT,
                RATING_3_COUNT,
                RATING_2_COUNT,
                RATING_1_COUNT
            FROM V_HOST_REVIEW_STATS
            WHERE HOST_ID = p_host_id;

    EXCEPTION
        WHEN OTHERS THEN
            -- En caso de error, retornar valores en cero
            OPEN p_stats_cursor FOR
                SELECT
                    p_host_id AS HOST_ID,
                    0 AS TOTAL_REVIEWS,
                    0 AS AVERAGE_RATING,
                    0 AS RATING_5_COUNT,
                    0 AS RATING_4_COUNT,
                    0 AS RATING_3_COUNT,
                    0 AS RATING_2_COUNT,
                    0 AS RATING_1_COUNT
                FROM DUAL;
    END GET_HOST_REVIEW_STATS;

END REVIEW_PKG;

/
--------------------------------------------------------
--  DDL for Package Body USER_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "SMART"."USER_PKG" AS

    PROCEDURE SP_GET_USER_ROLES(
        P_USER_ID IN users.user_id%TYPE,
        OUT_IS_TENANT OUT NUMBER,
        OUT_IS_HOST OUT NUMBER
    ) IS
    BEGIN
        -- Inicializamos ambos roles como 0 (falso)
        OUT_IS_TENANT := 0;
        OUT_IS_HOST := 0;

        -- Bloque 1: Chequear si es Tenant
        -- Usamos un bloque anónimo para que si NO_DATA_FOUND, no detenga el resto.
        BEGIN
            SELECT 1
            INTO OUT_IS_TENANT
            FROM tenants
            WHERE TENANT_ID = P_USER_ID; -- El ID de tenant es el ID de usuario
        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                OUT_IS_TENANT := 0; -- No se encontró, confirma que es 0
        END;

        -- Bloque 2: Chequear si es Host
        BEGIN
            SELECT 1
            INTO OUT_IS_HOST
            FROM hosts
            WHERE HOST_ID = P_USER_ID; -- Aquí la FK se llama user_id
        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                OUT_IS_HOST := 0; -- No se encontró, confirma que es 0
        END;
    END SP_GET_USER_ROLES;

    PROCEDURE SP_BECOME_HOST(
        P_USER_ID IN users.user_id%TYPE,
        OUT_HOST_ID OUT hosts.host_id%TYPE
    ) IS
        v_already_host_count NUMBER;
    BEGIN
        -- Paso 1: Verificar si el usuario ya es un host.
        -- Esto evita un error de "violación de restricción única" (UNIQUE)
        SELECT COUNT(*)
        INTO v_already_host_count
        FROM hosts
        WHERE HOST_ID = P_USER_ID;

        IF v_already_host_count > 0 THEN
            -- Si ya es host, no hacemos nada, solo devolvemos su ID de host.
            SELECT host_id
            INTO OUT_HOST_ID
            FROM hosts
            WHERE HOST_ID = P_USER_ID;

            RETURN; -- Salimos del procedimiento
        END IF;

        -- Paso 2: Si no es host, lo creamos.
        -- (Asumimos que host_id es IDENTITY y created_at es DEFAULT SYSDATE)
        INSERT INTO hosts (HOST_ID, CREATED_AT)
        VALUES (P_USER_ID, SYSDATE)
        RETURNING host_id INTO OUT_HOST_ID; -- Devuelve el nuevo ID generado

    EXCEPTION
        WHEN OTHERS THEN
            OUT_HOST_ID := NULL; -- En caso de error, devolvemos NULL
            RAISE; -- Relanzamos el error para que la aplicación lo sepa

    END SP_BECOME_HOST;

    PROCEDURE SP_GET_USER_PROFILE(
        p_user_id IN NUMBER,
        p_first_name OUT VARCHAR2,
        p_last_name OUT VARCHAR2,
        p_email OUT VARCHAR2,
        p_phone OUT VARCHAR2,
        p_dni OUT VARCHAR2,
        p_birth_date OUT DATE,
        p_created_at OUT DATE,
        p_updated_at OUT DATE
    )
        IS
    BEGIN
        SELECT first_name,
               last_name,
               email,
               phone_number,
               dni,
               birth_date,
               created_at,
               updated_at
        INTO -- La diferencia clave es el 'INTO'
            p_first_name,
            p_last_name,
            p_email,
            p_phone,
            p_dni,
            p_birth_date,
            p_created_at,
            p_updated_at
        FROM users
        WHERE user_id = p_user_id;

    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            -- Si el usuario no existe, todos los parámetros OUT
            -- quedarán en NULL automáticamente, lo cual suele ser lo deseado.
            NULL;
        WHEN OTHERS THEN
            RAISE; -- Relanza cualquier otro error
    END SP_GET_USER_PROFILE;

    PROCEDURE SP_GET_PUBLIC_USER_PROFILE(
        p_user_id IN NUMBER,
        p_profile_cursor OUT SYS_REFCURSOR,
        p_preferences_cursor OUT SYS_REFCURSOR
    )
        IS
        v_tenant_id NUMBER;
    BEGIN
        -- 1. Obtenemos el tenant_id del usuario primero. (SIN CAMBIOS)
        BEGIN
            SELECT tenant_id
            INTO v_tenant_id
            FROM tenants
            WHERE TENANT_ID = p_user_id;
        EXCEPTION
            WHEN NO_DATA_FOUND THEN
                v_tenant_id := NULL;
        END;

        -- 2. Cursor 1: Devuelve la información básica (Perfil y Estadísticas)
        -- Se usa una subconsulta (b_agg) para calcular el COUNT sin agrupar por CLOB.
        OPEN p_profile_cursor FOR
            SELECT u.first_name,
                   u.last_name,
                   t.bio,
                   t.AVERAGE_RATING,
                   NVL(b_agg.total_bookings, 0) AS total_bookings -- NVL para 0 si no hay reservas
            FROM users u
                     LEFT JOIN
                 tenants t ON u.user_id = t.TENANT_ID -- Obtiene el bio (CLOB)
                     LEFT JOIN -- JOIN a la subconsulta de agregación
                (SELECT b.TENANT_ID,
                        COUNT(b.BOOKING_ID) AS total_bookings -- Agregación
                 FROM bookings b
                 WHERE b.TENANT_ID = p_user_id -- Importante: Filtrar aquí para la subconsulta
                 GROUP BY b.TENANT_ID -- Se agrupa solo por el ID (no CLOB)
                ) b_agg ON t.TENANT_ID = b_agg.TENANT_ID -- Une la agregación al perfil
            WHERE u.user_id = p_user_id;
        -- Filtro final en el usuario

        -- 3. Cursor 2: Devuelve la lista de preferencias del usuario (SIN CAMBIOS)
        OPEN p_preferences_cursor FOR
            SELECT p.preference_id,
                   p.CODE,
                   p.NAME,
                   p.DESCRIPTION,
                   tp.VALUE_TEXT
            FROM preferences p
                     LEFT JOIN
                 tenant_preferences tp ON p.preference_id = tp.preference_id
                     AND tp.tenant_id = v_tenant_id;

    EXCEPTION
        WHEN OTHERS THEN
            RAISE;

    END SP_GET_PUBLIC_USER_PROFILE;

    PROCEDURE SP_UPDATE_PUBLIC_USER_PROFILE(
        p_user_id IN NUMBER,
        p_biography IN CLOB,

        -- Parámetros para las 6 preferencias
        p_interests IN VARCHAR2,
        p_pets IN VARCHAR2,
        p_location IN VARCHAR2,
        p_work IN VARCHAR2,
        p_language IN VARCHAR2,
        p_school IN VARCHAR2
    )
        IS
        -- Usamos la lógica que el user_id es el tenant_id
        v_tenant_id NUMBER := p_user_id;
    BEGIN

        -- 1. Actualizamos la Biografía en la tabla 'tenants'
        UPDATE tenants
        SET bio = p_biography
        WHERE tenant_id = v_tenant_id;

        -- 2. Procesamos 'INTERESTS'
        MERGE INTO tenant_preferences tp
        USING (SELECT preference_id FROM preferences WHERE CODE = 'INTERESTS') p
        ON (tp.tenant_id = v_tenant_id AND tp.preference_id = p.preference_id)
        WHEN MATCHED THEN
            UPDATE SET tp.value_text = p_interests
        WHEN NOT MATCHED THEN
            INSERT (tenant_id, preference_id, value_text)
            VALUES (v_tenant_id, p.preference_id, p_interests);

        -- 3. Procesamos 'PETS'
        MERGE INTO tenant_preferences tp
        USING (SELECT preference_id FROM preferences WHERE CODE = 'PETS') p
        ON (tp.tenant_id = v_tenant_id AND tp.preference_id = p.preference_id)
        WHEN MATCHED THEN
            UPDATE SET tp.value_text = p_pets
        WHEN NOT MATCHED THEN
            INSERT (tenant_id, preference_id, value_text)
            VALUES (v_tenant_id, p.preference_id, p_pets);

        -- 4. Procesamos 'LOCATION'
        MERGE INTO tenant_preferences tp
        USING (SELECT preference_id FROM preferences WHERE CODE = 'LOCATION') p
        ON (tp.tenant_id = v_tenant_id AND tp.preference_id = p.preference_id)
        WHEN MATCHED THEN
            UPDATE SET tp.value_text = p_location
        WHEN NOT MATCHED THEN
            INSERT (tenant_id, preference_id, value_text)
            VALUES (v_tenant_id, p.preference_id, p_location);

        -- 5. Procesamos 'WORK'
        MERGE INTO tenant_preferences tp
        USING (SELECT preference_id FROM preferences WHERE CODE = 'WORK') p
        ON (tp.tenant_id = v_tenant_id AND tp.preference_id = p.preference_id)
        WHEN MATCHED THEN
            UPDATE SET tp.value_text = p_work
        WHEN NOT MATCHED THEN
            INSERT (tenant_id, preference_id, value_text)
            VALUES (v_tenant_id, p.preference_id, p_work);

        -- 6. Procesamos 'LANGUAGE'
        MERGE INTO tenant_preferences tp
        USING (SELECT preference_id FROM preferences WHERE CODE = 'LANGUAGE') p
        ON (tp.tenant_id = v_tenant_id AND tp.preference_id = p.preference_id)
        WHEN MATCHED THEN
            UPDATE SET tp.value_text = p_language
        WHEN NOT MATCHED THEN
            INSERT (tenant_id, preference_id, value_text)
            VALUES (v_tenant_id, p.preference_id, p_language);

        -- 7. Procesamos 'SCHOOL'
        MERGE INTO tenant_preferences tp
        USING (SELECT preference_id FROM preferences WHERE CODE = 'SCHOOL') p
        ON (tp.tenant_id = v_tenant_id AND tp.preference_id = p.preference_id)
        WHEN MATCHED THEN
            UPDATE SET tp.value_text = p_school
        WHEN NOT MATCHED THEN
            INSERT (tenant_id, preference_id, value_text)
            VALUES (v_tenant_id, p.preference_id, p_school);

        -- 8. Confirmamos todos los cambios
        COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
            ROLLBACK; -- Deshacemos todo si algo sale mal
            RAISE; -- Enviamos el error a la API
    END SP_UPDATE_PUBLIC_USER_PROFILE;

    PROCEDURE sp_update_user_profile(
        p_user_id IN NUMBER,
        p_first_name IN VARCHAR2 DEFAULT NULL,
        p_last_name IN VARCHAR2 DEFAULT NULL,
        p_email IN VARCHAR2 DEFAULT NULL,
        p_phone IN VARCHAR2 DEFAULT NULL,
        p_dni IN VARCHAR2 DEFAULT NULL,
        p_birth_date IN DATE DEFAULT NULL
    )
        IS
    BEGIN
        UPDATE users
        SET first_name   = COALESCE(p_first_name, first_name),
            last_name    = COALESCE(p_last_name, last_name),
            email        = COALESCE(p_email, email),
            PHONE_NUMBER = COALESCE(p_phone, PHONE_NUMBER),
            dni          = COALESCE(p_dni, dni),
            birth_date   = COALESCE(p_birth_date, birth_date)
        WHERE user_id = p_user_id;

        -- No se pone COMMIT aquí; se deja que la aplicación que llama
        -- (tu API) maneje la transacción (COMMIT o ROLLBACK).

    EXCEPTION
        WHEN OTHERS THEN
            RAISE; -- Relanza el error para que la aplicación lo gestione.

    END sp_update_user_profile;

END USER_PKG;

/
--------------------------------------------------------
--  Constraints for Table AMENITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."AMENITIES" MODIFY ("AMENITY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AMENITIES" MODIFY ("CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AMENITIES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AMENITIES" ADD CONSTRAINT "UQ_AMENITIES_NAME" PRIMARY KEY ("AMENITY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
  ALTER TABLE "SMART"."AMENITIES" ADD CONSTRAINT "PK_AMENITIES" UNIQUE ("CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table AMENITIES_CATEGORIES
--------------------------------------------------------

  ALTER TABLE "SMART"."AMENITIES_CATEGORIES" MODIFY ("CATEGORY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AMENITIES_CATEGORIES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AMENITIES_CATEGORIES" ADD CONSTRAINT "PK_AMEN_CATEGORIES" PRIMARY KEY ("CATEGORY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table AUDIT_LOGS
--------------------------------------------------------

  ALTER TABLE "SMART"."AUDIT_LOGS" MODIFY ("LOG_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AUDIT_LOGS" ADD PRIMARY KEY ("LOG_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART"  ENABLE;
--------------------------------------------------------
--  Constraints for Table AVAILABILITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."AVAILABILITIES" MODIFY ("AVAILABILITY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AVAILABILITIES" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AVAILABILITIES" MODIFY ("START_DATE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AVAILABILITIES" MODIFY ("END_DATE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."AVAILABILITIES" ADD CONSTRAINT "PK_AVAILABILITIES" PRIMARY KEY ("AVAILABILITY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table BOOKINGS
--------------------------------------------------------

  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("BOOKING_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("TENANT_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("CHECKIN_DATE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("CHECKOUT_DATE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("GUEST_COUNT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("CURRENCY_CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("NIGHT_COUNT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("PRICE_NIGHTS" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("TOTAL_AMOUNT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" MODIFY ("STATUS" NOT NULL ENABLE);
  ALTER TABLE "SMART"."BOOKINGS" ADD CONSTRAINT "PK_BOOKINGS" PRIMARY KEY ("BOOKING_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
  ALTER TABLE "SMART"."BOOKINGS" ADD CONSTRAINT "BOOKINGS_STATUS_CHK" CHECK (STATUS IN ('PENDING', 'COMPLETED', 'CANCELLED', 'ACCEPTED','DECLINED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table CONVERSATION_PARTICIPANTS
--------------------------------------------------------

  ALTER TABLE "SMART"."CONVERSATION_PARTICIPANTS" MODIFY ("CONVERSATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CONVERSATION_PARTICIPANTS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CONVERSATION_PARTICIPANTS" ADD CONSTRAINT "PK_CONVERSATION_PARTICIPANTS" PRIMARY KEY ("CONVERSATION_ID", "USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CONVERSATIONS
--------------------------------------------------------

  ALTER TABLE "SMART"."CONVERSATIONS" MODIFY ("CONVERSATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CONVERSATIONS" MODIFY ("STATUS" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CONVERSATIONS" ADD CONSTRAINT "PK_CONVERSATIONS" PRIMARY KEY ("CONVERSATION_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CURRENCIES
--------------------------------------------------------

  ALTER TABLE "SMART"."CURRENCIES" MODIFY ("CURRENCY_CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CURRENCIES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CURRENCIES" MODIFY ("EXPONENT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."CURRENCIES" ADD CONSTRAINT "PK_CURRENCIES" PRIMARY KEY ("CURRENCY_CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table FX_RATE_QUOTES
--------------------------------------------------------

  ALTER TABLE "SMART"."FX_RATE_QUOTES" MODIFY ("FX_QUOTE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."FX_RATE_QUOTES" MODIFY ("BASE_CURRENCY" NOT NULL ENABLE);
  ALTER TABLE "SMART"."FX_RATE_QUOTES" MODIFY ("QUOTE_CURRENCY" NOT NULL ENABLE);
  ALTER TABLE "SMART"."FX_RATE_QUOTES" MODIFY ("QUOTED_AT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."FX_RATE_QUOTES" ADD CONSTRAINT "PK_FX_RATES" PRIMARY KEY ("FX_QUOTE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table HOSTS
--------------------------------------------------------

  ALTER TABLE "SMART"."HOSTS" MODIFY ("HOST_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."HOSTS" MODIFY ("IS_VERIFIED" NOT NULL ENABLE);
  ALTER TABLE "SMART"."HOSTS" ADD CONSTRAINT "PK_HOSTS" PRIMARY KEY ("HOST_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table MESSAGES
--------------------------------------------------------

  ALTER TABLE "SMART"."MESSAGES" MODIFY ("MESSAGE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."MESSAGES" MODIFY ("CONVERSATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."MESSAGES" MODIFY ("AUTHOR_USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."MESSAGES" MODIFY ("CONTENT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."MESSAGES" MODIFY ("IS_READ" NOT NULL ENABLE);
  ALTER TABLE "SMART"."MESSAGES" ADD CONSTRAINT "PK_MESSAGES" PRIMARY KEY ("MESSAGE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PAYMENT_DETAILS
--------------------------------------------------------

  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("DETAIL_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("PAYMENT_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("CURRENCY_CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("TOTAL_GROSS" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("HOST_PAYOUT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("PLATFORM_FEE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" MODIFY ("TAX_IGV" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_DETAILS" ADD CONSTRAINT "PK_PAYMENT_DETAILS" PRIMARY KEY ("DETAIL_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PAYMENTS
--------------------------------------------------------

  ALTER TABLE "SMART"."PAYMENTS" MODIFY ("PAYMENT_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENTS" MODIFY ("BOOKING_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENTS" MODIFY ("AMOUNT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENTS" MODIFY ("CURRENCY_CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENTS" MODIFY ("STATUS" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENTS" MODIFY ("DIRECTION" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENTS" ADD CONSTRAINT "PK_PAYMENTS" PRIMARY KEY ("PAYMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PAYMENT_TYPES
--------------------------------------------------------

  ALTER TABLE "SMART"."PAYMENT_TYPES" MODIFY ("PAYMENT_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_TYPES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PAYMENT_TYPES" ADD CONSTRAINT "PK_PAYMENT_TYPES" PRIMARY KEY ("PAYMENT_TYPE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX"  ENABLE;
  ALTER TABLE "SMART"."PAYMENT_TYPES" ADD CONSTRAINT "UQ_PAYMENT_TYPES_NAME" UNIQUE ("NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PREFERENCES
--------------------------------------------------------

  ALTER TABLE "SMART"."PREFERENCES" MODIFY ("PREFERENCE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PREFERENCES" MODIFY ("CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PREFERENCES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PREFERENCES" MODIFY ("VALUE_TYPE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PREFERENCES" ADD CONSTRAINT "UQ_PREFERENCES_KEY" PRIMARY KEY ("PREFERENCE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
  ALTER TABLE "SMART"."PREFERENCES" ADD CONSTRAINT "PK_PREFERENCES" UNIQUE ("CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PROPERTIES
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("HOST_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("TITLE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("PROPERTY_TYPE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("BASE_PRICE_NIGHT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("CURRENCY_CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("ADDRESS_TEXT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("FORMATTED_ADDRESS" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("CITY" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("STATE_REGION" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("COUNTRY" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("POSTAL_CODE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("LATITUDE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" MODIFY ("LONGITUDE" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTIES" ADD CONSTRAINT "PK_PROPERTIES" PRIMARY KEY ("PROPERTY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PROPERTY_AMENITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTY_AMENITIES" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_AMENITIES" MODIFY ("AMENITY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_AMENITIES" ADD CONSTRAINT "PK_PROP_AMENITIES" PRIMARY KEY ("PROPERTY_ID", "AMENITY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PROPERTY_DETAILS
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTY_DETAILS" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_DETAILS" ADD CONSTRAINT "PK_PROP_DETAILS" PRIMARY KEY ("PROPERTY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PROPERTY_IMAGES
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTY_IMAGES" MODIFY ("IMAGE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_IMAGES" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_IMAGES" MODIFY ("URL" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_IMAGES" MODIFY ("SORT_ORDER" NOT NULL ENABLE);
  ALTER TABLE "SMART"."PROPERTY_IMAGES" ADD CONSTRAINT "PK_PROPERTY_IMAGES" PRIMARY KEY ("IMAGE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
  ALTER TABLE "SMART"."PROPERTY_IMAGES" ADD CONSTRAINT "UQ_PROPERTY_IMAGES" UNIQUE ("PROPERTY_ID", "SORT_ORDER")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REVIEWS
--------------------------------------------------------

  ALTER TABLE "SMART"."REVIEWS" MODIFY ("REVIEW_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("BOOKING_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("PROPERTY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("AUTHOR_USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("TARGET_USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("FOR_HOST" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("RATING" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" MODIFY ("IS_PUBLISHED" NOT NULL ENABLE);
  ALTER TABLE "SMART"."REVIEWS" ADD CONSTRAINT "PK_REVIEWS" PRIMARY KEY ("REVIEW_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TENANT_PREFERENCES
--------------------------------------------------------

  ALTER TABLE "SMART"."TENANT_PREFERENCES" MODIFY ("TENANT_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."TENANT_PREFERENCES" MODIFY ("PREFERENCE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."TENANT_PREFERENCES" MODIFY ("VALUE_BOOL" NOT NULL ENABLE);
  ALTER TABLE "SMART"."TENANT_PREFERENCES" ADD CONSTRAINT "PK_TENANT_PREFS" PRIMARY KEY ("TENANT_ID", "PREFERENCE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TENANTS
--------------------------------------------------------

  ALTER TABLE "SMART"."TENANTS" MODIFY ("TENANT_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."TENANTS" ADD CONSTRAINT "PK_TENANTS" PRIMARY KEY ("TENANT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USER_AUTH_IDENTITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" MODIFY ("IDENTITY_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" MODIFY ("PROVIDER" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" MODIFY ("PROVIDER_USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" MODIFY ("EMAIL_VERIFIED" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" ADD CONSTRAINT "PK_USER_AUTH_ID" PRIMARY KEY ("IDENTITY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USER_PAYMENT_METHODS
--------------------------------------------------------

  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" MODIFY ("PAYMENT_METHOD_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" MODIFY ("PAYMENT_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" MODIFY ("PROVIDER" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" MODIFY ("IS_DEFAULT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" ADD CONSTRAINT "PK_USER_PAY_METHODS" PRIMARY KEY ("PAYMENT_METHOD_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "SMART"."USERS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USERS" MODIFY ("FIRST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USERS" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USERS" MODIFY ("CREATED_AT" NOT NULL ENABLE);
  ALTER TABLE "SMART"."USERS" ADD CONSTRAINT "UQ_USERS_EMAIL" PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
  ALTER TABLE "SMART"."USERS" ADD CONSTRAINT "PK_USERS" UNIQUE ("EMAIL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TS_SMART_IDX"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table AMENITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."AMENITIES" ADD CONSTRAINT "FK_AMENITY_CATEGORY" FOREIGN KEY ("AMENITY_CATEGORY_ID")
	  REFERENCES "SMART"."AMENITIES_CATEGORIES" ("CATEGORY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table AVAILABILITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."AVAILABILITIES" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table BOOKINGS
--------------------------------------------------------

  ALTER TABLE "SMART"."BOOKINGS" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
  ALTER TABLE "SMART"."BOOKINGS" ADD FOREIGN KEY ("TENANT_ID")
	  REFERENCES "SMART"."TENANTS" ("TENANT_ID") ENABLE;
  ALTER TABLE "SMART"."BOOKINGS" ADD FOREIGN KEY ("CURRENCY_CODE")
	  REFERENCES "SMART"."CURRENCIES" ("CURRENCY_CODE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CONVERSATION_PARTICIPANTS
--------------------------------------------------------

  ALTER TABLE "SMART"."CONVERSATION_PARTICIPANTS" ADD FOREIGN KEY ("CONVERSATION_ID")
	  REFERENCES "SMART"."CONVERSATIONS" ("CONVERSATION_ID") ENABLE;
  ALTER TABLE "SMART"."CONVERSATION_PARTICIPANTS" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CONVERSATIONS
--------------------------------------------------------

  ALTER TABLE "SMART"."CONVERSATIONS" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
  ALTER TABLE "SMART"."CONVERSATIONS" ADD FOREIGN KEY ("BOOKING_ID")
	  REFERENCES "SMART"."BOOKINGS" ("BOOKING_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table FX_RATE_QUOTES
--------------------------------------------------------

  ALTER TABLE "SMART"."FX_RATE_QUOTES" ADD FOREIGN KEY ("BASE_CURRENCY")
	  REFERENCES "SMART"."CURRENCIES" ("CURRENCY_CODE") ENABLE;
  ALTER TABLE "SMART"."FX_RATE_QUOTES" ADD FOREIGN KEY ("QUOTE_CURRENCY")
	  REFERENCES "SMART"."CURRENCIES" ("CURRENCY_CODE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table HOSTS
--------------------------------------------------------

  ALTER TABLE "SMART"."HOSTS" ADD FOREIGN KEY ("HOST_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table MESSAGES
--------------------------------------------------------

  ALTER TABLE "SMART"."MESSAGES" ADD FOREIGN KEY ("CONVERSATION_ID")
	  REFERENCES "SMART"."CONVERSATIONS" ("CONVERSATION_ID") ENABLE;
  ALTER TABLE "SMART"."MESSAGES" ADD FOREIGN KEY ("AUTHOR_USER_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PAYMENT_DETAILS
--------------------------------------------------------

  ALTER TABLE "SMART"."PAYMENT_DETAILS" ADD FOREIGN KEY ("PAYMENT_ID")
	  REFERENCES "SMART"."PAYMENTS" ("PAYMENT_ID") ENABLE;
  ALTER TABLE "SMART"."PAYMENT_DETAILS" ADD FOREIGN KEY ("CURRENCY_CODE")
	  REFERENCES "SMART"."CURRENCIES" ("CURRENCY_CODE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PAYMENTS
--------------------------------------------------------

  ALTER TABLE "SMART"."PAYMENTS" ADD FOREIGN KEY ("BOOKING_ID")
	  REFERENCES "SMART"."BOOKINGS" ("BOOKING_ID") ENABLE;
  ALTER TABLE "SMART"."PAYMENTS" ADD FOREIGN KEY ("PAYMENT_METHOD_ID")
	  REFERENCES "SMART"."USER_PAYMENT_METHODS" ("PAYMENT_METHOD_ID") ENABLE;
  ALTER TABLE "SMART"."PAYMENTS" ADD FOREIGN KEY ("CURRENCY_CODE")
	  REFERENCES "SMART"."CURRENCIES" ("CURRENCY_CODE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROPERTIES
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTIES" ADD FOREIGN KEY ("HOST_ID")
	  REFERENCES "SMART"."HOSTS" ("HOST_ID") ENABLE;
  ALTER TABLE "SMART"."PROPERTIES" ADD FOREIGN KEY ("CURRENCY_CODE")
	  REFERENCES "SMART"."CURRENCIES" ("CURRENCY_CODE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROPERTY_AMENITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTY_AMENITIES" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
  ALTER TABLE "SMART"."PROPERTY_AMENITIES" ADD FOREIGN KEY ("AMENITY_ID")
	  REFERENCES "SMART"."AMENITIES" ("AMENITY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROPERTY_DETAILS
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTY_DETAILS" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROPERTY_IMAGES
--------------------------------------------------------

  ALTER TABLE "SMART"."PROPERTY_IMAGES" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table REVIEWS
--------------------------------------------------------

  ALTER TABLE "SMART"."REVIEWS" ADD FOREIGN KEY ("BOOKING_ID")
	  REFERENCES "SMART"."BOOKINGS" ("BOOKING_ID") ENABLE;
  ALTER TABLE "SMART"."REVIEWS" ADD FOREIGN KEY ("PROPERTY_ID")
	  REFERENCES "SMART"."PROPERTIES" ("PROPERTY_ID") ENABLE;
  ALTER TABLE "SMART"."REVIEWS" ADD FOREIGN KEY ("AUTHOR_USER_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
  ALTER TABLE "SMART"."REVIEWS" ADD FOREIGN KEY ("TARGET_USER_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TENANT_PREFERENCES
--------------------------------------------------------

  ALTER TABLE "SMART"."TENANT_PREFERENCES" ADD FOREIGN KEY ("TENANT_ID")
	  REFERENCES "SMART"."TENANTS" ("TENANT_ID") ENABLE;
  ALTER TABLE "SMART"."TENANT_PREFERENCES" ADD FOREIGN KEY ("PREFERENCE_ID")
	  REFERENCES "SMART"."PREFERENCES" ("PREFERENCE_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TENANTS
--------------------------------------------------------

  ALTER TABLE "SMART"."TENANTS" ADD FOREIGN KEY ("TENANT_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table USER_AUTH_IDENTITIES
--------------------------------------------------------

  ALTER TABLE "SMART"."USER_AUTH_IDENTITIES" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table USER_PAYMENT_METHODS
--------------------------------------------------------

  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES "SMART"."USERS" ("USER_ID") ENABLE;
  ALTER TABLE "SMART"."USER_PAYMENT_METHODS" ADD FOREIGN KEY ("PAYMENT_TYPE_ID")
	  REFERENCES "SMART"."PAYMENT_TYPES" ("PAYMENT_TYPE_ID") ENABLE;
