--------------------------------------------------------------------------------
-- 1. TABLAS BASE
--------------------------------------------------------------------------------

-- CURRENCIES
INSERT INTO CURRENCIES (CURRENCY_CODE, NAME , CREATED_AT)
VALUES ('PEN', 'Sol Peruano' , SYSDATE);

INSERT INTO CURRENCIES (CURRENCY_CODE, NAME , CREATED_AT)
VALUES ('USD', 'Dólar Estadounidense', SYSDATE);

-- PAYMENT TYPES
INSERT INTO PAYMENT_TYPES (NAME, DESCRIPTION, CREATED_AT)
VALUES ('Tarjeta de Crédito', 'Pago mediante Visa o MasterCard', SYSDATE);

INSERT INTO PAYMENT_TYPES (NAME, DESCRIPTION, CREATED_AT)
VALUES ('Transferencia Bancaria', 'Depósito directo en cuenta', SYSDATE);

INSERT INTO PAYMENT_TYPES (NAME, DESCRIPTION, CREATED_AT)
VALUES ('Yape / Plin', 'Pago rápido por billetera digital', SYSDATE);

-- PREFERENCES
INSERT INTO PREFERENCES (CODE, NAME, DESCRIPTION, VALUE_TYPE, CREATED_AT)
VALUES ('LANG', 'Idioma', 'Idioma preferido del usuario', 'STRING', SYSDATE);

INSERT INTO PREFERENCES (CODE, NAME, DESCRIPTION, VALUE_TYPE, CREATED_AT)
VALUES ('NOTIF', 'Notificaciones', 'Preferencia de alertas y mensajes', 'BOOLEAN', SYSDATE);

-- AMENITIES
INSERT INTO AMENITIES (NAME, DESCRIPTION, DISPLAY_ORDER, CREATED_AT)
VALUES ('WiFi', 'Internet inalámbrico gratuito', 1, SYSDATE);

INSERT INTO AMENITIES (NAME, DESCRIPTION, DISPLAY_ORDER, CREATED_AT)
VALUES ('Cocina', 'Cocina equipada completa', 2, SYSDATE);

INSERT INTO AMENITIES (NAME, DESCRIPTION, DISPLAY_ORDER, CREATED_AT)
VALUES ('Lavadora', 'Lavadora disponible', 3, SYSDATE);

INSERT INTO AMENITIES (NAME, DESCRIPTION, DISPLAY_ORDER, CREATED_AT)
VALUES ('Estacionamiento', 'Parqueo privado disponible', 4, SYSDATE);

--------------------------------------------------------------------------------
-- 2. ENTIDADES PRINCIPALES
--------------------------------------------------------------------------------

-- USERS
INSERT INTO USERS (FIRST_NAME, LAST_NAME, EMAIL, STATUS, CREATED_AT)
VALUES ('Miguel', 'Rojas', 'miguel.rojas@example.com', 'ACTIVE', SYSDATE);

INSERT INTO USERS (FIRST_NAME, LAST_NAME, EMAIL, STATUS, CREATED_AT)
VALUES ('Lucía', 'Fernández', 'lucia.fernandez@example.com', 'ACTIVE', SYSDATE);

INSERT INTO USERS (FIRST_NAME, LAST_NAME, EMAIL, STATUS, CREATED_AT)
VALUES ('Carlos', 'Gutiérrez', 'carlos.gutierrez@example.com', 'ACTIVE', SYSDATE);

-- HOSTS
INSERT INTO HOSTS (DESCRIPTION, IS_VERIFIED, CREATED_AT)
VALUES ('Anfitrión con 3 propiedades en Lima y Cusco', 1, SYSDATE);

INSERT INTO HOSTS (DESCRIPTION, IS_VERIFIED, CREATED_AT)
VALUES ('Propietaria de alojamientos rurales en Arequipa', 1, SYSDATE);

-- TENANTS
INSERT INTO TENANTS (AVERAGE_RATING, CREATED_AT)
VALUES (4.7, SYSDATE);

INSERT INTO TENANTS (AVERAGE_RATING, CREATED_AT)
VALUES (4.9, SYSDATE);

--------------------------------------------------------------------------------
-- 3. PROPIEDADES Y DETALLES
--------------------------------------------------------------------------------

-- PROPERTIES
INSERT INTO PROPERTIES (HOST_ID, TITLE, PROPERTY_TYPE, BASE_PRICE_NIGHT, CURRENCY_CODE, ADDRESS_TEXT, STATE_REGION, POSTAL_CODE, LATITUDE, LONGITUDE, STATUS, CREATED_AT)
VALUES (1, 'Departamento moderno en Miraflores', 'Departamento', 180.00, 'PEN', 'Av. Pardo 123, Miraflores, Lima', 'Lima', '15074', -12.123, -77.032, 'AVAILABLE', SYSDATE);

INSERT INTO PROPERTIES (HOST_ID, TITLE, PROPERTY_TYPE, BASE_PRICE_NIGHT, CURRENCY_CODE, ADDRESS_TEXT, STATE_REGION, POSTAL_CODE, LATITUDE, LONGITUDE, STATUS, CREATED_AT)
VALUES (1, 'Casa colonial en Cusco', 'Casa', 250.00, 'PEN', 'Calle Saphi 456, Cusco', 'Cusco', '08002', -13.515, -71.978, 'AVAILABLE', SYSDATE);

INSERT INTO PROPERTIES (HOST_ID, TITLE, PROPERTY_TYPE, BASE_PRICE_NIGHT, CURRENCY_CODE, ADDRESS_TEXT, STATE_REGION, POSTAL_CODE, LATITUDE, LONGITUDE, STATUS, CREATED_AT)
VALUES (2, 'Cabaña con vista al Misti', 'Cabaña', 200.00, 'PEN', 'Av. Salaverry 999, Arequipa', 'Arequipa', '04001', -16.398, -71.536, 'AVAILABLE', SYSDATE);

-- PROPERTY_DETAILS
INSERT INTO PROPERTY_DETAILS (PROPERTY_ID, DESCRIPTION_LONG, HOUSE_RULES, CHECKIN_TIME, CHECKOUT_TIME, CAPACITY, BEDROOMS, BATHROOMS, AREA_M2, CREATED_AT)
VALUES (1, 'Departamento moderno con vista al mar', 'No fumar, no mascotas', '14:00', '11:00', 4, 2, 2, 80, SYSDATE);

INSERT INTO PROPERTY_DETAILS (PROPERTY_ID, DESCRIPTION_LONG, HOUSE_RULES, CHECKIN_TIME, CHECKOUT_TIME, CAPACITY, BEDROOMS, BATHROOMS, AREA_M2, CREATED_AT)
VALUES (2, 'Casa colonial con patio interior y chimenea', 'No fiestas', '13:00', '10:00', 6, 3, 2, 120, SYSDATE);

INSERT INTO PROPERTY_DETAILS (PROPERTY_ID, DESCRIPTION_LONG, HOUSE_RULES, CHECKIN_TIME, CHECKOUT_TIME, CAPACITY, BEDROOMS, BATHROOMS, AREA_M2, CREATED_AT)
VALUES (3, 'Cabaña rústica cerca del volcán Misti', 'No fumar', '15:00', '12:00', 2, 1, 1, 60, SYSDATE);

-- PROPERTY_IMAGES
INSERT INTO PROPERTY_IMAGES (PROPERTY_ID, URL, CAPTION, SORT_ORDER)
VALUES (1, 'https://img.airbnb.com/lima1.jpg', 'Vista panorámica', 1);

INSERT INTO PROPERTY_IMAGES (PROPERTY_ID, URL, CAPTION, SORT_ORDER)
VALUES (2, 'https://img.airbnb.com/cusco1.jpg', 'Fachada principal', 1);

INSERT INTO PROPERTY_IMAGES (PROPERTY_ID, URL, CAPTION, SORT_ORDER)
VALUES (3, 'https://img.airbnb.com/arequipa1.jpg', 'Cabaña con el Misti al fondo', 1);

-- PROPERTY_AMENITIES
INSERT INTO PROPERTY_AMENITIES (PROPERTY_ID, AMENITY_ID)
VALUES (1, 1);
INSERT INTO PROPERTY_AMENITIES (PROPERTY_ID, AMENITY_ID)
VALUES (1, 2);
INSERT INTO PROPERTY_AMENITIES (PROPERTY_ID, AMENITY_ID)
VALUES (2, 1);
INSERT INTO PROPERTY_AMENITIES (PROPERTY_ID, AMENITY_ID)
VALUES (3, 1);
INSERT INTO PROPERTY_AMENITIES (PROPERTY_ID, AMENITY_ID)
VALUES (3, 4);

-- AVAILABILITIES
INSERT INTO AVAILABILITIES (PROPERTY_ID, START_DATE, END_DATE, PRICE_PER_NIGHT, CREATED_AT)
VALUES (1, TO_DATE('2025-11-01','YYYY-MM-DD'), TO_DATE('2025-11-30','YYYY-MM-DD'), 180, SYSDATE);

INSERT INTO AVAILABILITIES (PROPERTY_ID, START_DATE, END_DATE, PRICE_PER_NIGHT, CREATED_AT)
VALUES (2, TO_DATE('2025-12-01','YYYY-MM-DD'), TO_DATE('2025-12-31','YYYY-MM-DD'), 250, SYSDATE);

--------------------------------------------------------------------------------
-- 4. RESERVAS Y PAGOS
--------------------------------------------------------------------------------

-- BOOKINGS
INSERT INTO BOOKINGS (PROPERTY_ID, CHECKIN_DATE, CHECKOUT_DATE, GUEST_COUNT, TOTAL_AMOUNT, STATUS, CREATED_AT)
VALUES (1, TO_DATE('2025-11-10','YYYY-MM-DD'), TO_DATE('2025-11-15','YYYY-MM-DD'), 2, 900.00, 'CONFIRMED', SYSDATE);

INSERT INTO BOOKINGS (PROPERTY_ID, CHECKIN_DATE, CHECKOUT_DATE, GUEST_COUNT, TOTAL_AMOUNT, STATUS, CREATED_AT)
VALUES (2, TO_DATE('2025-12-05','YYYY-MM-DD'), TO_DATE('2025-12-10','YYYY-MM-DD'), 4, 1250.00, 'CONFIRMED', SYSDATE);

-- PAYMENTS
INSERT INTO PAYMENTS (BOOKING_ID, AMOUNT, CURRENCY_CODE, CREATED_AT)
VALUES (1, 900.00, 'PEN', SYSDATE);

INSERT INTO PAYMENTS (BOOKING_ID, AMOUNT, CURRENCY_CODE, CREATED_AT)
VALUES (2, 1250.00, 'PEN', SYSDATE);

-- PAYMENT_DETAILS
INSERT INTO PAYMENT_DETAILS (PAYMENT_ID, CURRENCY_CODE, TOTAL_GROSS, CREATED_AT)
VALUES (1, 'PEN', 900.00, SYSDATE);

INSERT INTO PAYMENT_DETAILS (PAYMENT_ID, CURRENCY_CODE, TOTAL_GROSS, CREATED_AT)
VALUES (2, 'PEN', 1250.00, SYSDATE);

--------------------------------------------------------------------------------
-- 5. INTERACCIÓN Y RESEÑAS
--------------------------------------------------------------------------------

-- REVIEWS
INSERT INTO REVIEWS (BOOKING_ID, PROPERTY_ID, AUTHOR_USER_ID, TARGET_USER_ID, "comment", RATING, PUBLISHED_AT)
VALUES (1, 1, 2, 1, 'Excelente ubicación y limpieza', 5, SYSDATE);

INSERT INTO REVIEWS (BOOKING_ID, PROPERTY_ID, AUTHOR_USER_ID, TARGET_USER_ID, "comment", RATING, PUBLISHED_AT)
VALUES (2, 2, 3, 1, 'Casa muy cómoda, volveré pronto', 4, SYSDATE);

-- CONVERSATIONS
INSERT INTO CONVERSATIONS (PROPERTY_ID, BOOKING_ID, STATUS, CREATED_AT)
VALUES (1, 1, 'OPEN', SYSDATE);

INSERT INTO CONVERSATIONS (PROPERTY_ID, BOOKING_ID, STATUS, CREATED_AT)
VALUES (2, 2, 'CLOSED', SYSDATE);

-- CONVERSATION PARTICIPANTS
INSERT INTO CONVERSATION_PARTICIPANTS (CONVERSATION_ID, USER_ID, ROLE)
VALUES (1, 1, 'HOST');
INSERT INTO CONVERSATION_PARTICIPANTS (CONVERSATION_ID, USER_ID, ROLE)
VALUES (1, 2, 'GUEST');
INSERT INTO CONVERSATION_PARTICIPANTS (CONVERSATION_ID, USER_ID, ROLE)
VALUES (2, 1, 'HOST');
INSERT INTO CONVERSATION_PARTICIPANTS (CONVERSATION_ID, USER_ID, ROLE)
VALUES (2, 3, 'GUEST');

-- MESSAGES
INSERT INTO MESSAGES (CONVERSATION_ID, AUTHOR_USER_ID, CONTENT, IS_READ, SENT_AT)
VALUES (1, 2, 'Hola, ¿a qué hora puedo hacer check-in?', 0, SYSDATE);

INSERT INTO MESSAGES (CONVERSATION_ID, AUTHOR_USER_ID, CONTENT, IS_READ, SENT_AT)
VALUES (1, 1, 'Desde las 14:00, te esperamos', 1, SYSDATE);

COMMIT;
